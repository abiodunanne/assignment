!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="e389a513-1293-40e4-87cd-b1cf0188594a",n._sentryDebugIdIdentifier="sentry-dbid-e389a513-1293-40e4-87cd-b1cf0188594a")}catch(n){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2f8d6ed5"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6190],{58378:function(n,e,t){t.d(e,{Fh:function(){return m},IN:function(){return w},s7:function(){return _}});var r=t(45903),o=t(93295),i=t(23982),u=t(19762),a=t(66039),s=t(13440);function l(){var n=(0,o._)(["\n  fragment HostingTierReplPowerUps on Repl {\n    powerUps {\n      __typename\n      ... on ReplPowerUpTypes {\n        hostingTier {\n          __typename\n          sku\n          methodOfPayment\n        }\n      }\n    }\n  }\n"]);return l=function(){return n},n}function c(){var n=(0,o._)(["\n  fragment HostingTierPowerUpCostDetails on PowerUpCostsType {\n    hostingTierE2Micro {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Small {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Medium {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierN1Custom1_4 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Standard2 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n    hostingTierE2Standard4 {\n      cyclesCostNow\n      cyclesCostRecurring\n      methodOfPayment\n      explanation\n    }\n  }\n"]);return c=function(){return n},n}function d(){var n=(0,o._)(["\n  fragment HostingTierPowerUpCosts on Repl {\n    id\n    powerUpCosts {\n      __typename\n      ... on PowerUpCostsType {\n        ...HostingTierPowerUpCostDetails\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return n},n}function p(){var n=(0,o._)(["\n  query HostingTierPowerUp($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        owner {\n          __typename\n        }\n        ...HostingTierReplPowerUps\n        ...HostingTierPowerUpCosts\n      }\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return n},n}function f(){var n=(0,o._)(["\n  mutation SetHostingTier($input: SetHostingTierInput!) {\n    setHostingTier(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on PaymentError {\n        message\n      }\n      ... on SetHostingTierResult {\n        repl {\n          ... on Repl {\n            ...HostingTierReplPowerUps\n            ...HostingTierPowerUpCosts\n          }\n        }\n        currentUser {\n          ...PowerUpMutationReturnFields\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return n},n}var g={},m=(0,i.Ps)(l()),y=(0,i.Ps)(c()),v=(0,i.Ps)(d(),y),h=(0,i.Ps)(p(),m,v);function _(n){var e=(0,r._)({},g,n);return a.a(h,e)}var D=(0,i.Ps)(f(),m,v,u.E_);function w(n){var e=(0,r._)({},g,n);return s.D(D,e)}},63388:function(n,e,t){t.d(e,{BX:function(){return w},VR:function(){return D},hD:function(){return C}});var r,o=t(39698),i=t(8182),u=t(29287),a=t(74833),s=t(56596),l=t(75582),c=t(88936),d=t(60427),p=t(95309),f=t(93918),g=t(15146),m=t(18514),y=t(5039),v=t(20573),h=t(56335),_=t(67337),D=(r={},(0,o._)(r,l.Fe.Suspended,{title:"Paused",color:u.TV.greyDefault,colorway:"grey",icon:(0,i.tZ)(h.Z,{})}),(0,o._)(r,l.Fe.UpdatingTier,{title:"Updating tier",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Suspending,{title:"Pausing",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Resuming,{title:"Resuming",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Pending,{title:"Provisioning",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Building,{title:"Building",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Running,{title:"Bundling",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Promoting,{title:"Promoting",color:u.TV.orangeStronger,colorway:"orange",icon:(0,i.tZ)(_.Z,{})}),(0,o._)(r,l.Fe.Failed,{title:"Failed",color:u.TV.accentNegativeDefault,colorway:"negative",icon:(0,i.tZ)(v.Z,{})}),(0,o._)(r,l.Fe.Success,{title:"Deployed",color:u.TV.accentPositiveDefault,colorway:"positive"}),r);function w(n){switch(n){case l.Fe.Building:case l.Fe.Promoting:case l.Fe.Running:case l.Fe.Pending:return"is deploying";case l.Fe.Resuming:return"is resuming";case l.Fe.Suspending:return"is pausing";case l.Fe.Failed:return"failed to deploy";case l.Fe.Success:return"deployed";case l.Fe.Suspended:return"paused";case l.Fe.UpdatingTier:return"is updating tier"}}var b=(0,f.X)({root:[u.l0.rowWithGap(0),u.l0.flex.shrink(1)],dot:[u.l0.width("8px"),u.l0.height("8px"),u.l0.borderRadius("full"),u.l0.flex.shrink(0),u.l0.pr(4)],name:[u.l0.color.foregroundDefault,u.l0.fontWeight.medium],item:[u.l0.rowWithGap(8),u.l0.pr(4),u.l0.align.center,u.l0.flex.growAndShrink(1)],itemMainText:[u.l0.flex.growAndShrink(1),u.l0.align.center],itemRight:[u.l0.textAlign.right],itemContent:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1),u.l0.align.center]}),C=function(n){var e=n.onClick,t=(0,d.kW)(),r=(0,d.$y)();if(t===p.z.Loading||!r)return(0,i.tZ)(c.Z,{size:12});var o=r.status,f=(o in D?D[o]:{color:u.TV.greyDefault}).color;return(0,i.tZ)(s.G,{css:b.root,children:(0,i.BX)(s.G,{css:b.item,children:[(0,i.tZ)(s.G,{tag:"span",css:b.dot,style:{backgroundColor:f,boxShadow:"0 0 12px ".concat(f)}}),(0,i.tZ)(s.G,{css:b.itemMainText,children:(0,i.BX)(a.xv,{multiline:!1,children:[(0,i.tZ)("span",{css:b.name,children:r.user.displayName+" "}),w(o)+" ",!function(n){switch(n){case l.Fe.Building:case l.Fe.Promoting:case l.Fe.Running:case l.Fe.Pending:case l.Fe.Failed:case l.Fe.Success:return!0;case l.Fe.Resuming:case l.Fe.Suspending:case l.Fe.Suspended:case l.Fe.UpdatingTier:return!1}}(o)?null:(0,y.Z)(new Date(r.timeCreated),Date.now(),{addSuffix:!0})]})}),(0,i.tZ)(s.G,{css:b.itemRight,children:(0,i.tZ)(g.hU,{alt:"View deploy logs",onClick:e,children:(0,i.tZ)(m.Z,{})})})]})})}},20708:function(n,e,t){t.d(e,{u:function(){return i}});var r=t(93295);function o(){var n=(0,r._)(["\n  fragment BuildStatusBadgeHostingDeployment on HostingDeployment {\n    id\n    currentBuild {\n      id\n      status\n      timeCreated\n      user {\n        id\n        displayName\n      }\n    }\n  }\n"]);return o=function(){return n},n}var i=(0,t(23982).Ps)(o())},60427:function(n,e,t){t.d(e,{jd:function(){return nS},CK:function(){return Q},My:function(){return q},bA:function(){return j},_U:function(){return nw},rm:function(){return nB},XA:function(){return nR},$y:function(){return nd},ev:function(){return nm},Sl:function(){return ns},hn:function(){return nr},pn:function(){return nf},kW:function(){return ne},am:function(){return na},H7:function(){return ni},v5:function(){return K},XZ:function(){return Y},gg:function(){return nx},U:function(){return nb},m8:function(){return nH},FN:function(){return nl},mF:function(){return nU}});var r,o,i,u=t(34142),a=t(45903),s=t(25e3),l=t(32477),c=t(87682),d=t(7444),p=t(50782),f=t(75582),g=t(92153),m=t(90234),y=t(43429),v=t(8668),h=t(14207),_=t(92741),D=t(64540),w=t(93295),b=t(23982),C=t(58378),P=t(4927),S=t(66039),H=t(43910),T=t(71362),F=t(13440);function R(){var n=(0,w._)(["\n  fragment DeploymentSessionHostingDeployment on HostingDeployment {\n    ...TargetHostingDeployment\n    currentBuild {\n      ...CurrentBuild2\n    }\n    inProgressBuild {\n      ...CurrentBuild2\n    }\n  }\n  ","\n  ","\n"]);return R=function(){return n},n}function I(){var n=(0,w._)(["\n  fragment DeploymentSessionRepl on Repl {\n    id\n    __typename\n    slug\n    lang {\n      id\n      displayName\n    }\n    config {\n      isVnc\n    }\n    source {\n      release {\n        repl {\n          title\n        }\n      }\n    }\n    owner {\n      __typename\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    hostingDeployment {\n      ... on HostingDeployment {\n        ...DeploymentSessionHostingDeployment\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n    ...HostingTierReplPowerUps\n  }\n  ","\n  ","\n"]);return I=function(){return n},n}function U(){var n=(0,w._)(["\n  query DeploymentSession($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...DeploymentSessionRepl\n      }\n    }\n  }\n  ","\n"]);return U=function(){return n},n}function Z(){var n=(0,w._)(["\n  subscription DeploymentSessionBuildDeployActionUpdates(\n    $input: HostingBuildDeployActionUpdatesInput!\n  ) {\n    hostingBuildDeployActionUpdates(input: $input) {\n      ... on HostingBuildDeployLogAction {\n        log\n      }\n      ... on HostingBuildDeployStatusAction {\n        status\n        message\n      }\n    }\n  }\n"]);return Z=function(){return n},n}function B(){var n=(0,w._)(["\n  mutation DeploymentSessionDeployBuild($input: DeployHostingBuild2Input!) {\n    deployHostingBuild2(input: $input) {\n      ... on DeployHostingBuild2Result {\n        build {\n          ...CurrentBuild2\n        }\n        targetDeployment {\n          ...TargetHostingDeployment\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return B=function(){return n},n}function x(){var n=(0,w._)(["\n  mutation DeploymentSessionSendDeploymentLifecycleCommand(\n    $input: SendDeploymentLifecycleCommandInput!\n  ) {\n    sendDeploymentLifecycleCommand(input: $input) {\n      ... on SendDeploymentLifecycleCommandResult {\n        repl {\n          id\n          ...HostingTierReplPowerUps\n          hostingDeployment {\n            ... on HostingDeployment {\n              ...DeploymentSessionHostingDeployment\n            }\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return x=function(){return n},n}function E(){var n=(0,w._)(["\n  mutation DeploymentSessionCancelInProgressDeploymentsBuild(\n    $input: FailHostingBuildInput!\n  ) {\n    failHostingBuild(input: $input) {\n      ... on FailHostingBuildResult {\n        build {\n          ...CurrentBuild2\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return E=function(){return n},n}var N={},$=(0,b.Ps)(R(),P.uC,P.MX),V=(0,b.Ps)(I(),$,C.Fh),k=(0,b.Ps)(U(),V),X=(0,b.Ps)(Z()),z=(0,b.Ps)(B(),P.MX,P.uC),A=(0,b.Ps)(x(),C.Fh,$),M=(0,b.Ps)(E(),P.MX);function L(){return(L=(0,u._)(function(n){var e,t,r,o,i,u,a,s,l,d,p;return(0,c.Jh)(this,function(c){switch(c.label){case 0:if(e=n.command,t=n.replId,r=n.buildId,o=n.machineConfigurationId,i=n.maxMachineInstances,!D.l)throw Error("expected apolloClient to be initialized");return[4,D.l.mutate({mutation:A,variables:{input:{command:e,replId:t,buildId:r,machineConfigurationId:o,maxMachineInstances:i}}})];case 1:if(null===(u=(l=c.sent()).errors)||void 0===u?void 0:u.length)throw Error(l.errors.map(function(n){return n.message}).join(", "));if((null===(s=l.data)||void 0===s?void 0:null===(a=s.sendDeploymentLifecycleCommand)||void 0===a?void 0:a.__typename)!=="SendDeploymentLifecycleCommandResult")throw Error((null===(p=l.data)||void 0===p?void 0:null===(d=p.sendDeploymentLifecycleCommand)||void 0===d?void 0:d.message)||"An unexpected error occurred while sending command. Please try again or contact support.");return[2]}})})).apply(this,arguments)}function G(){return(G=(0,u._)(function(n){var e,t,r,o,i,u,a,s;return(0,c.Jh)(this,function(l){switch(l.label){case 0:if(e=n.buildId,t=n.targetDeploymentId,!D.l)throw Error("expected apolloClient to be initialized");return[4,D.l.mutate({mutation:M,variables:{input:{buildId:e,targetDeploymentId:t}}})];case 1:if(null===(r=(u=l.sent()).errors)||void 0===r?void 0:r.length)throw Error(u.errors.map(function(n){return n.message}).join(", "));if((null===(i=u.data)||void 0===i?void 0:null===(o=i.failHostingBuild)||void 0===o?void 0:o.__typename)!=="FailHostingBuildResult")throw Error((null===(s=u.data)||void 0===s?void 0:null===(a=s.failHostingBuild)||void 0===a?void 0:a.message)||"An unexpected error occurred while trying to cancel. Please try again or contact support.");return[2]}})})).apply(this,arguments)}var J=t(64420),O=t(95309),W=t(52932),Q=(0,m.cn)({}),j=(0,m.cn)({}),q=(0,m.cn)({});function Y(){return(0,J.Hg)(j)}function K(){return(0,J.Hg)(q)}var nn=(0,m.cn)(O.z.Loading);function ne(){return(0,J.Hg)(nn)}var nt=(0,m.cn)(void 0);function nr(){return(0,J.Hg)(nt)}var no=(0,m.cn)(void 0);function ni(){return(0,J.Hg)(no)}var nu=(0,m.cn)(void 0);function na(){return(0,J.Hg)(nu)}function ns(n){var e,t,r=(e=(0,a._)({},N,{variables:{replId:n}}),S.a(k,e)),o=r.data,i=r.refetch,u=(null==o?void 0:o.repl.__typename)==="Repl"?o.repl:null,s=(null==u?void 0:u.powerUps.__typename)==="ReplPowerUpTypes"?u.powerUps:null;return{hostingTier:null!==(t=null==s?void 0:s.hostingTier)&&void 0!==t?t:null,refetch:i}}function nl(n){return!!ns(n).hostingTier}var nc=(0,m.cn)(void 0);function nd(){return(0,J.Hg)(nc)}var np=(0,m.cn)(void 0);function nf(){return(0,J.Hg)(np)}var ng=(0,m.cn)(void 0);function nm(){return(0,J.Hg)(ng)}var ny=(0,m.cn)(null,function(n,e){e(nt,void 0),e(no,void 0),e(nc,void 0),e(np,void 0),e(nn,O.z.Ready)}),nv=(0,m.cn)(null,function(n,e,t){var r,o,i="Repl"===t.repl.__typename?t.repl:null;if(i){e(nu,{id:i.lang.id,displayName:i.lang.displayName,isVnc:!!i.config.isVnc});var u=i.hostingDeployment;if(u){if("HostingDeployment"!==u.__typename)return e(ng,"Unexpected hosting deployment typename: ".concat(u.__typename));if(e(nt,u.id),e(nc,u.currentBuild),e(no,u.replitAppSubdomain||(0,v.Jw)({replSlug:i.slug,username:null===(o=i.owner)||void 0===o?void 0:o.username})),u.inProgressBuild){e(np,u.inProgressBuild),e(nn,O.z.Deploying);return}return void e(nn,(0,W.Zx)(u.currentBuild.status))}e(no,(0,v.Jw)({replSlug:i.slug,username:null===(r=i.owner)||void 0===r?void 0:r.username})),e(nn,O.z.Ready)}});function nh(){var n,e=(0,J.$X)(nv),t=(0,J.$X)(nT);return(0,l._)((n=(0,a._)({},N,{fetchPolicy:"no-cache",onCompleted:e,onError:function(n){t(n.message)}}),H.t(k,n)),1)[0]}var n_=(0,m.cn)(null,function(n,e,t){if("HostingBuildDeployStatusAction"===t.__typename){var r=n(nn),o=n(np),i=n(nc),u=t.status;if(r===O.z.Deploying){if(!o){e(nT,"No deployment in progress found");return}e(np,(0,g.ZP)(o,function(n){n.status=u})),u!==f.Fe.Success&&u!==f.Fe.Failed||(e(np,void 0),u!==f.Fe.Success&&i||e(nc,(0,g.ZP)(o,function(n){n.status=u,n.hasImageTag=o.provider!==f.r4.Static&&u===f.Fe.Success})))}else if(r===O.z.ProcessingLifecycleCommand){if(!i){e(nT,"No current build found");return}e(nc,(0,g.ZP)(i,function(n){n.status=u}))}e(nn,(0,W.Zx)(u)),t.message&&u===f.Fe.Failed&&e(nT,t.message)}}),nD=(0,m.cn)(null);function nw(){return(0,J.Hg)(nD)}function nb(n){var e=(0,J.yL)(nD),t=(0,d.Z)(n);y.useEffect(function(){return e.subscribe(function(n){n&&t.current(n)})},[e,t])}var nC=(0,m.cn)(function(n){var e,t;switch(n(nn)){case O.z.Deploying:return null===(e=n(np))||void 0===e?void 0:e.id;case O.z.ProcessingLifecycleCommand:return null===(t=n(nc))||void 0===t?void 0:t.id;default:return}}),nP=(0,m.cn)(null,(r=(0,u._)(function(n,e,t){var r;return(0,c.Jh)(this,function(n){return(r=t.data.data)&&(e(n_,r.hostingBuildDeployActionUpdates),e(nD,r.hostingBuildDeployActionUpdates)),[2]})}),function(n,e,t){return r.apply(this,arguments)}));function nS(n){var e,t,r,o,i,u,s;return e=n.replId,t=nh(),r=(0,J.$X)(nP),o=(0,J.$X)(nT),(0,y.useEffect)(function(){t({variables:{replId:e}})},[t,e]),u={variables:{input:{buildId:null!=(i=(0,J.Hg)(nC))?i:""}},skip:!i,onData:r,onError:function(n){o(n.message)}},s=(0,a._)({},N,u),T.m(X,s),null}function nH(){var n=(0,p.Z)(),e=nh(),t=(0,J.$X)(nn);return y.useCallback(function(){return t(O.z.Loading),e({variables:{replId:n}})},[e,t,n])}var nT=(0,m.cn)(null,function(n,e,t){e(ng,t)}),nF=(0,m.cn)(null,function(n,e,t){var r,o=t.deployHostingBuild2;if(o){if("DeployHostingBuild2Result"!==o.__typename){e(nT,o.message);return}e(np,o.build),e(nt,o.targetDeployment.id),e(no,null!==(r=o.targetDeployment.replitAppSubdomain)&&void 0!==r?r:void 0),e(nn,O.z.Deploying)}});function nR(){var n,e,t=(0,p.Z)(),r=nr(),o=K(),i=(0,J.Hg)(Q),s=Y(),d=(0,l._)((n=(0,a._)({},N,void 0),F.D(z,n)),1)[0],g=(0,J.$X)(nF),m=(0,J.$X)(nT),D=(0,J.$X)(nn),w=(0,J.XD)(np),b=nd();return y.useCallback((e=(0,u._)(function(n){var e,u,a,l,p,y,C,P,S,H,T,F,R,I;return(0,c.Jh)(this,function(c){switch(c.label){case 0:if(e=n.envVars,u=n.subdomain,a=n.machineConfigurationId,l=n.maxMachineInstances,p=n.config,w())return m("Deployment already in progress"),[2];c.label=1;case 1:return c.trys.push([1,5,,6]),D(O.z.Preparing),[4,(0,h.$f)(o)];case 2:if(y=c.sent(),P=(C=p||y).buildCommand,S=C.runCommand,H=C.publicDir,T=C.ignorePorts,!(F=b?function(n){var e=n.provider,t=n.ignorePorts;switch(e){case f.r4.Static:return f.Vp.Static;case f.r4.CloudRun:return f.Vp.CloudRun;default:return t?f.Vp.Worker:f.Vp.Server}}({provider:null==b?void 0:b.provider,ignorePorts:!!T}):C.appType))throw new _.P3;if(!u)throw new _.Q5;if(F===f.Vp.Static){if(!(0,v.Ar)(H))throw new _.SF}else if(!(0,v.Ar)(S))throw new _.ZG;return[4,(0,h.OD)({buildCommand:P,runCommand:S,appType:F,publicDir:H,ignorePorts:T},y,{dotReplit:o,fs:s,container:i})];case 3:return c.sent(),R=(0,W.oU)(F),[4,d({variables:{input:{replId:t,targetDeploymentId:r,targetMachineConfigurationId:a,maxMachineInstances:l,commands:{build:P,run:S||""},envVars:e,subdomain:u,provider:R,appType:F,context:"workspace"}},onCompleted:g})];case 4:return c.sent(),[3,6];case 5:throw I=c.sent(),D(O.z.Ready),I;case 6:return[2]}})}),function(n){return e.apply(this,arguments)}),[d,g,m,D,w,r,t,i,s,o])}var nI=(0,m.cn)(null,(o=(0,u._)(function(n,e,t){var r,o,i,u,l,d,p,m;return(0,c.Jh)(this,function(c){switch(c.label){case 0:if(r=t.args,o=t.replId,i=void 0,(u=r.command)===f.Qc.UpdateMachineConfiguration){if(!(l=n(nc)))return e(nT,"No current build found"),[2];if(!r.machineConfigurationId)return e(nT,"No machine configuration found"),[2];(d=(0,W.Ti)(u))&&(e(nc,(0,g.ZP)(l,function(n){n.status=d})),e(nn,(0,W.Zx)(d)))}if(u===f.Qc.Resume||u===f.Qc.Suspend){if(!(p=n(nc)))return e(nT,"No current build found"),[2];i=p.id,(m=(0,W.Ti)(u))&&(e(nc,(0,g.ZP)(p,function(n){n.status=m})),e(nn,(0,W.Zx)(m)))}c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(n){return L.apply(this,arguments)}((0,s._)((0,a._)({},r),{buildId:i,replId:o}))];case 2:return c.sent(),u===f.Qc.Destroy&&e(ny),[3,4];case 3:return e(nT,c.sent().message),[3,4];case 4:return[2]}})}),function(n,e,t){return o.apply(this,arguments)}));function nU(){var n,e=(0,p.Z)(),t=(0,J.$X)(nI);return y.useCallback((n=(0,u._)(function(n){return(0,c.Jh)(this,function(r){switch(r.label){case 0:return[4,t({replId:e,args:n})];case 1:return r.sent(),[2]}})}),function(e){return n.apply(this,arguments)}),[t,e])}var nZ=(0,m.cn)(null,(i=(0,u._)(function(n,e){var t,r,o;return(0,c.Jh)(this,function(i){switch(i.label){case 0:if(!(t=n(nt)))return e(nT,"No deployment found"),[2];if(!(r=n(np)))return e(nT,"No deployment in progress found"),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(n){return G.apply(this,arguments)}({buildId:r.id,targetDeploymentId:t})];case 2:return i.sent(),[3,4];case 3:return e(nT,i.sent().message),[2];case 4:if(e(np,void 0),e(nn,O.z.Ready),(o=n(nc))&&(o.status===f.Fe.Success||o.status===f.Fe.Failed))return[2];return e(nc,(0,g.ZP)(r,function(n){n.status=f.Fe.Failed})),[2]}})}),function(n,e){return i.apply(this,arguments)}));function nB(){return(0,J.$X)(nZ)}function nx(){var n=na();return n?"nix"!==n.id&&"html"!==n.id?{isDeployableRepl:!1,reason:"You will need to upgrade your ".concat(n.displayName," Repl to a Nix template in order to deploy.")}:{isDeployableRepl:!0}:{isDeployableRepl:!1,reason:"Could not find repl language."}}},64420:function(n,e,t){t.d(e,{$X:function(){return d},Hg:function(){return l},XD:function(){return p},aT:function(){return a},yL:function(){return c}});var r=t(43429),o=t(71999),i=t(28999),u=t(66368),a=(0,r.createContext)(null);function s(){var n=(0,r.useContext)(a);if(!n)throw Error("Expected store in context");return n}function l(n){return(0,o.Dv)(n,{store:s()})}function c(n){return(0,u.b)(n,s())}var d=function(n){return(0,o.b9)(n,{store:s()})};function p(n){return(0,i.lV)((0,r.useCallback)(function(e){return e(n)},[n]),{store:s()})}},4927:function(n,e,t){t.d(e,{MX:function(){return g},bN:function(){return f},uC:function(){return p}});var r=t(93295),o=t(23982);function i(){var n=(0,r._)(["\n  fragment ReplDomain2 on Domain {\n    hosting_deployment_id\n    domain\n    state\n  }\n"]);return i=function(){return n},n}function u(){var n=(0,r._)(["\n  fragment CustomDomain on Domain {\n    ...ReplDomain2\n  }\n  ","\n"]);return u=function(){return n},n}function a(){var n=(0,r._)(["\n  fragment TargetHostingDeployment on HostingDeployment {\n    id\n    replitAppSubdomain\n  }\n"]);return a=function(){return n},n}function s(){var n=(0,r._)(["\n  fragment MachineConfiguration on HostingMachineConfiguration {\n    id\n    label\n    vcpu\n    memory\n    slug\n  }\n"]);return s=function(){return n},n}function l(){var n=(0,r._)(["\n  fragment CurrentBuild2 on HostingBuild {\n    id\n    description\n    status\n    timeCreated\n    hasImageTag\n    envVars {\n      name\n      value\n    }\n    repl {\n      id\n      slug\n      apexProxy\n      domains {\n        ... on Domain {\n          ...CustomDomain\n        }\n      }\n      owner {\n        ... on Team {\n          id\n          username\n        }\n        ... on User {\n          id\n          username\n        }\n      }\n      hostingDeployment {\n        ... on HostingDeployment {\n          ...TargetHostingDeployment\n        }\n      }\n    }\n    provider\n    machineConfiguration {\n      ...MachineConfiguration\n    }\n    maxMachineInstances\n    user {\n      id\n      displayName\n      username\n    }\n  }\n  ","\n  ","\n  ","\n"]);return l=function(){return n},n}var c=(0,o.Ps)(i()),d=(0,o.Ps)(u(),c),p=(0,o.Ps)(a()),f=(0,o.Ps)(s()),g=(0,o.Ps)(l(),d,p,f)},66368:function(n,e,t){t.d(e,{b:function(){return o},c:function(){return i}});var r=t(50199);function o(n,e){return(0,r.Z)(function(){return i(e,n)},[e,n])}function i(n,e){return{get current(){return n.get(e)},subscribe:function(t){return n.sub(e,function(){return t(n.get(e))})}}}}}]);
//# sourceMappingURL=6190-f4f8bde21b4f9a71.js.map