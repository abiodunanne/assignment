!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f7ebb69e-1d2c-4e1f-9e12-f1bb4f665524",e._sentryDebugIdIdentifier="sentry-dbid-f7ebb69e-1d2c-4e1f-9e12-f1bb4f665524")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2f8d6ed5"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7757],{70287:function(e,t,r){r.d(t,{u:function(){return u}});var n=r(43429),i=r(24725),o=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},a=function(e){var t=e.getInitialClientOffset(),r=e.getInitialSourceClientOffset();return null===t||null===r||void 0===t.x||void 0===t.y?{x:0,y:0}:o(t,r)},s=function(e,t){var r=e.getClientOffset();if(null===r)return null;if(!t.current||!t.current.getBoundingClientRect)return o(r,a(e));var n=t.current.getBoundingClientRect();return o(r,{x:n.width/2,y:n.height/2})},l=function(e){var t="translate(".concat(e.x.toFixed(1),"px, ").concat(e.y.toFixed(1),"px)");return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:t,WebkitTransform:t}},u=function(){var e=(0,n.useRef)(null),t=(0,i.f)(function(t){return{currentOffset:s(t,e),isDragging:t.isDragging(),itemType:t.getItemType(),item:t.getItem(),monitor:t}});return t.isDragging&&null!==t.currentOffset?{display:!0,itemType:t.itemType,item:t.item,style:l(t.currentOffset),monitor:t.monitor,ref:e}:{display:!1}}},68210:function(e,t,r){r.d(t,{I:function(){return n}});function n(e,t){var r;return"string"==typeof e?t?(null!==(r=t[e])&&void 0!==r||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}},4241:function(e,t,r){r.d(t,{AH:function(){return n}});function n(e){let t="/"===e.charAt(0),r="/"===e.slice(-1),n=(function(e,t){let r=0;for(let t=e.length-1;t>=0;t--){let n=e[t];"."===n?e.splice(t,1):".."===n?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(t)for(;r--;r)e.unshift("..");return e})(e.split("/").filter(e=>!!e),!t).join("/");return n||t||(n="."),n&&r&&(n+="/"),(t?"/":"")+n}},3793:function(e,t,r){let n,i;r.d(t,{A:function(){return rR}});var o=r(43429);/*!
 * OverlayScrollbars
 * Version: 2.0.3
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */function a(e,t){if(x(e))for(let r=0;r<e.length&&!1!==t(e[r],r,e);r++);else e&&a(Object.keys(e),r=>t(e[r],r,e));return e}function s(e,t){let r=h(t);if(v(t)||r){let n=r?"":{};if(e){let i=window.getComputedStyle(e,null);n=r?eL(e,i,t):t.reduce((t,r)=>(t[r]=eL(e,i,r),t),n)}return n}e&&a(A(t),r=>eR(e,r,t[r]))}let l=(e,t)=>{let r;let{o:n,u:i,_:o}=e,a=n,s=(e,t)=>{let n=a,s=t||(i?!i(n,e):n!==e);return(s||o)&&(a=e,r=n),[a,s,r]};return[t?e=>s(t(a,r),e):s,e=>[a,!!e,r]]},u=()=>"undefined"!=typeof window,c=u()&&Node.ELEMENT_NODE,{toString:d,hasOwnProperty:p}=Object.prototype,f=e=>void 0===e,y=e=>null===e,m=e=>f(e)||y(e)?`${e}`:d.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase(),T=e=>"number"==typeof e,h=e=>"string"==typeof e,g=e=>"boolean"==typeof e,b=e=>"function"==typeof e,v=e=>Array.isArray(e),I=e=>"object"==typeof e&&!v(e)&&!y(e),x=e=>{let t=!!e&&e.length,r=T(t)&&t>-1&&t%1==0;return(!!v(e)||!b(e)&&!!r)&&(!(t>0&&I(e))||t-1 in e)},w=e=>{let t;if(!e||!I(e)||"object"!==m(e))return!1;let r="constructor",n=e[r],i=n&&n.prototype,o=p.call(e,r),a=i&&p.call(i,"isPrototypeOf");if(n&&!o&&!a)return!1;for(t in e);return f(t)||p.call(e,t)},O=e=>{let t=HTMLElement;return!!e&&(t?e instanceof t:e.nodeType===c)},E=e=>{let t=Element;return!!e&&(t?e instanceof t:e.nodeType===c)},P=(e,t,r)=>e.indexOf(t,r),S=(e,t,r)=>(!r&&!h(t)&&x(t)?Array.prototype.push.apply(e,t):e.push(t),e),N=e=>{let t=Array.from,r=[];return t&&e?t(e):(e instanceof Set?e.forEach(e=>{S(r,e)}):a(e,e=>{S(r,e)}),r)},M=e=>!!e&&0===e.length,$=(e,t,r)=>{a(e,e=>e&&e.apply(void 0,t||[])),r||(e.length=0)},j=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),A=e=>e?Object.keys(e):[],U=(e,t,r,n,i,o,s)=>(("object"!=typeof e||y(e))&&!b(e)&&(e={}),a([t,r,n,i,o,s],t=>{a(A(t),r=>{let n=t[r];if(e===n)return!0;let i=v(n);if(n&&(w(n)||i)){let t=e[r],o=t;i&&!v(t)?o=[]:i||w(t)||(o={}),e[r]=U(o,n)}else e[r]=n})}),e),C=e=>{for(let t in e)return!1;return!0},L=(e,t,r,n)=>{if(f(n))return r?r[e]:t;r&&(h(n)||T(n))&&(r[e]=n)},R=(e,t,r)=>{if(f(r))return e?e.getAttribute(t):null;e&&e.setAttribute(t,r)},k=(e,t,r,n)=>{if(r){let i=R(e,t)||"",o=new Set(i.split(" "));o[n?"add":"delete"](r),R(e,t,N(o).join(" ").trim())}},B=(e,t,r)=>{let n=R(e,t)||"";return new Set(n.split(" ")).has(r)},D=(e,t)=>{e&&e.removeAttribute(t)},K=(e,t)=>L("scrollLeft",0,e,t),V=(e,t)=>L("scrollTop",0,e,t),F=u()&&Element.prototype,_=(e,t)=>{let r=[],n=t?E(t)?t:null:document;return n?S(r,n.querySelectorAll(e)):r},H=(e,t)=>{let r=t?E(t)?t:null:document;return r?r.querySelector(e):null},q=(e,t)=>!!E(e)&&(F.matches||F.msMatchesSelector).call(e,t),G=e=>e?N(e.childNodes):[],z=e=>e?e.parentElement:null,W=(e,t)=>{if(E(e)){let r=F.closest;if(r)return r.call(e,t);do{if(q(e,t))return e;e=z(e)}while(e)}return null},J=(e,t,r)=>{let n=e&&W(e,t),i=e&&H(r,n),o=W(i,t)===n;return!!n&&!!i&&(n===e||i===e||o&&W(W(e,r),t)!==n)},X=(e,t,r)=>{if(r&&e){let n,i=t;x(r)?(n=document.createDocumentFragment(),a(r,e=>{e===i&&(i=e.previousSibling),n.appendChild(e)})):n=r,t&&(i?i!==t&&(i=i.nextSibling):i=e.firstChild),e.insertBefore(n,i||null)}},Y=(e,t)=>{X(e,null,t)},Z=(e,t)=>{X(z(e),e,t)},Q=(e,t)=>{X(z(e),e&&e.nextSibling,t)},ee=e=>{if(x(e))a(N(e),e=>ee(e));else if(e){let t=z(e);t&&t.removeChild(e)}},et=e=>{let t=document.createElement("div");return e&&R(t,"class",e),t},er=e=>{let t=et();return t.innerHTML=e.trim(),a(G(t),e=>ee(e))},en=e=>e.charAt(0).toUpperCase()+e.slice(1),ei=()=>et().style,eo=["-webkit-","-moz-","-o-","-ms-"],ea=["WebKit","Moz","O","MS","webkit","moz","o","ms"],es={},el={},eu=e=>{let t=el[e];if(j(el,e))return t;let r=en(e),n=ei();return a(eo,i=>{let o=i.replace(/-/g,"");return!(t=[e,i+e,o+r,en(o)+r].find(e=>void 0!==n[e]))}),el[e]=t||""},ec=e=>{if(u()){let t=es[e]||window[e];return j(es,e)||(a(ea,r=>!(t=t||window[r+en(e)])),es[e]=t),t}},ed=ec("MutationObserver"),ep=ec("IntersectionObserver"),ef=ec("ResizeObserver"),ey=ec("cancelAnimationFrame"),em=ec("requestAnimationFrame"),eT=u()&&window.setTimeout,eh=u()&&window.clearTimeout,eg=(e,t,r,n)=>{if(e&&t){let i=!0;return a(r,r=>{(n?n(e[r]):e[r])!==(n?n(t[r]):t[r])&&(i=!1)}),i}return!1},eb=(e,t)=>eg(e,t,["w","h"]),ev=(e,t)=>eg(e,t,["x","y"]),eI=(e,t)=>eg(e,t,["t","r","b","l"]),ex=(e,t,r)=>eg(e,t,["width","height"],r&&(e=>Math.round(e))),ew=()=>{},eO=e=>{let t;let r=e?eT:em,n=e?eh:ey;return[i=>{n(t),t=r(i,b(e)?e():e)},()=>n(t)]},eE=(e,t)=>{let r,n,i;let o=ew,{g:a,v:s,p:l}=t||{},u=function(t){o(),eh(r),r=n=void 0,o=ew,e.apply(this,t)},c=e=>l&&n?l(n,e):e,d=()=>{o!==ew&&u(c(i)||i)},p=function(){let e=N(arguments),t=b(a)?a():a;if(T(t)&&t>=0){let a=b(s)?s():s,l=T(a)&&a>=0,p=t>0?eT:em,f=t>0?eh:ey,y=c(e)||e,m=u.bind(0,y);o();let h=p(m,t);o=()=>f(h),l&&!r&&(r=eT(d,a)),n=i=y}else u(e)};return p.m=d,p},{max:eP}=Math,eS=/[^\x20\t\r\n\f]+/g,eN=(e,t,r)=>{let n;let i=e&&e.classList,o=0,a=!1;if(i&&t&&h(t)){let e=t.match(eS)||[];for(a=e.length>0;n=e[o++];)a=!!r(i,n)&&a}return a},eM=(e,t)=>eN(e,t,(e,t)=>e.contains(t)),e$=(e,t)=>{eN(e,t,(e,t)=>e.remove(t))},ej=(e,t)=>(eN(e,t,(e,t)=>e.add(t)),e$.bind(0,e,t)),eA={opacity:1,zindex:1},eU=(e,t)=>{let r=t?parseFloat(e):parseInt(e,10);return r==r?r:0},eC=(e,t)=>!eA[e.toLowerCase()]&&T(t)?`${t}px`:t,eL=(e,t,r)=>null!=t?t[r]||t.getPropertyValue(r):e.style[r],eR=(e,t,r)=>{try{let{style:n}=e;f(n[t])?n.setProperty(t,r):n[t]=eC(t,r)}catch(e){}},ek=e=>"rtl"===s(e,"direction"),eB=(e,t,r)=>{let n=t?`${t}-`:"",i=r?`-${r}`:"",o=`${n}top${i}`,a=`${n}right${i}`,l=`${n}bottom${i}`,u=`${n}left${i}`,c=s(e,[o,a,l,u]);return{t:eU(c[o],!0),r:eU(c[a],!0),b:eU(c[l],!0),l:eU(c[u],!0)}},{round:eD}=Math,eK={w:0,h:0},eV=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:eK,eF=e=>e?{w:e.clientWidth,h:e.clientHeight}:eK,e_=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:eK,eH=e=>{let t=parseFloat(s(e,"height"))||0,r=parseFloat(s(e,"width"))||0;return{w:r-eD(r),h:t-eD(t)}},eq=e=>e.getBoundingClientRect(),eG=()=>{if(f(n)){n=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}}return n},ez=e=>e.split(" "),eW=(e,t,r,n)=>{a(ez(t),t=>{e.removeEventListener(t,r,n)})},eJ=(e,t,r,n)=>{var i;let o=eG(),s=null!=(i=o&&n&&n.S)?i:o,l=n&&n.$||!1,u=n&&n.C||!1,c=[],d=o?{passive:s,capture:l}:l;return a(ez(t),t=>{let n=u?i=>{e.removeEventListener(t,n,l),r&&r(i)}:r;S(c,eW.bind(null,e,t,n,l)),e.addEventListener(t,n,d)}),$.bind(0,c)},eX=e=>e.stopPropagation(),eY=e=>e.preventDefault(),eZ={x:0,y:0},eQ=e=>{let t=e?eq(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:eZ},e0=(e,t)=>{a(v(t)?t:[t],e)},e1=e=>{let t=new Map,r=(e,r)=>{if(e){let n=t.get(e);e0(e=>{n&&n[e?"delete":"clear"](e)},r)}else t.forEach(e=>{e.clear()}),t.clear()},n=(e,i)=>{if(h(e)){let n=t.get(e)||new Set;return t.set(e,n),e0(e=>{b(e)&&n.add(e)},i),r.bind(0,e,i)}g(i)&&i&&r();let o=A(e),s=[];return a(o,t=>{let r=e[t];r&&S(s,n(t,r))}),$.bind(0,s)};return n(e||{}),[n,r,(e,r)=>{a(N(t.get(e)),e=>{r&&!M(r)?e.apply(0,r):e()})}]},e2=e=>JSON.stringify(e,(e,t)=>{if(b(t))throw Error();return t}),e3={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},e5=(e,t)=>{let r={};return a(A(t).concat(A(e)),n=>{let i=e[n],o=t[n];if(I(i)&&I(o))U(r[n]={},e5(i,o)),C(r[n])&&delete r[n];else if(j(t,n)&&o!==i){let e=!0;if(v(i)||v(o))try{e2(i)===e2(o)&&(e=!1)}catch(e){}e&&(r[n]=o)}}),r},e6="os-environment",e8=`${e6}-flexbox-glue`,e4=`${e8}-max`,e9="data-overlayscrollbars",e7="data-overlayscrollbars-initialize",te=`${e9}-overflow-x`,tt=`${e9}-overflow-y`,tr="overflowVisible",tn="updating",ti="os-viewport",to=`${ti}-arrange`,ta=`${ti}-scrollbar-hidden`,ts="os-overflow-visible",tl="os-size-observer",tu=`${tl}-appear`,tc=`${tl}-listener`,td="os-scrollbar",tp=`${td}-rtl`,tf=`${td}-horizontal`,ty=`${td}-vertical`,tm=`${td}-track`,tT=`${td}-handle`,th=`${td}-visible`,tg=`${td}-cornerless`,tb=`${td}-transitionless`,tv=`${td}-interaction`,tI=`${td}-unusable`,tx=`${td}-auto-hidden`,tw=`${td}-wheel`,tO=`${tm}-interactive`,tE=`${tT}-interactive`,tP={},tS=()=>tP,tN=e=>{let t=[];return a(v(e)?e:[e],e=>{a(A(e),r=>{S(t,tP[r]=e[r])})}),t},tM={boolean:"__TPL_boolean_TYPE__",number:"__TPL_number_TYPE__",string:"__TPL_string_TYPE__",array:"__TPL_array_TYPE__",function:"__TPL_function_TYPE__",null:"__TPL_null_TYPE__"};tM.number,tM.boolean,tM.array,tM.null,tM.number,tM.array,tM.null,tM.function,tM.null,tM.string,tM.null,tM.array,tM.null;let{round:t$,abs:tj}=Math,tA="__osScrollbarsHidingPlugin",tU=(e,t,r,n)=>{Y(e,t);let i=eF(t),o=eV(t),a=eH(r);return n&&ee(t),{x:o.h-i.h+a.h,y:o.w-i.w+a.w}},tC=e=>{let t=!1,r=ej(e,ta);try{t="none"===s(e,eu("scrollbar-width"))||"none"===window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")}catch(e){}return r(),t},tL=(e,t)=>{let r="hidden";s(e,{overflowX:r,overflowY:r,direction:"rtl"}),K(e,0);let n=eQ(e),i=eQ(t);K(e,-999);let o=eQ(t);return{i:n.x===i.x,n:i.x!==o.x}},tR=(e,t)=>{let r=ej(e,e8),n=eq(e),i=ex(eq(t),n,!0),o=ej(e,e4),a=eq(e),s=ex(eq(t),a,!0);return r(),o(),i&&s},tk=()=>{let{body:e}=document,t=er(`<div class="${e6}"><div></div></div>`)[0],r=t.firstChild,[n,,i]=e1(),[o,a]=l({o:tU(e,t,r),u:ev},tU.bind(0,e,t,r,!0)),[u]=a(),c=tC(t),d={x:0===u.x,y:0===u.y},p={elements:{host:null,padding:!c,viewport:e=>c&&e===e.ownerDocument.body&&e,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},f=U({},e3),y=U.bind(0,{},f),m=U.bind(0,{},p),T={k:u,A:d,I:c,L:"-1"===s(t,"zIndex"),B:tL(t,r),V:tR(t,r),Y:n.bind(0,"z"),j:n.bind(0,"r"),N:m,q:e=>U(p,e)&&m(),F:y,G:e=>U(f,e)&&y(),X:U({},p),U:U({},f)},h=window.addEventListener,g=eE(e=>i(e?"z":"r"),{g:33,v:99});if(D(t,"style"),ee(t),h("resize",g.bind(0,!1)),!c&&(!d.x||!d.y)){let e;h("resize",()=>{let t=tS()[tA];(e=e||t&&t.R())&&e(T,o,g.bind(0,!0))})}return T},tB=()=>(i||(i=tk()),i),tD=(e,t)=>b(t)?t.apply(0,e):t,tK=(e,t,r,n)=>tD(e,f(n)?r:n)||t.apply(0,e),tV=(e,t,r,n)=>{let i=tD(e,f(n)?r:n);return!!i&&(O(i)?i:t.apply(0,e))},tF=(e,t,r)=>{let{nativeScrollbarsOverlaid:n,body:i}=r||{},{A:o,I:a}=tB(),{nativeScrollbarsOverlaid:s,body:l}=t,u=f(i)?l:i,c=(o.x||o.y)&&(null!=n?n:s),d=e&&(y(u)?!a:u);return!!c||!!d},t_=new WeakMap,tH=(e,t)=>{t_.set(e,t)},tq=e=>{t_.delete(e)},tG=e=>t_.get(e),tz=(e,t)=>e?t.split(".").reduce((e,t)=>e&&j(e,t)?e[t]:void 0,e):void 0,tW=(e,t,r)=>n=>[tz(e,n),r||void 0!==tz(t,n)],tJ=e=>{let t=e;return[()=>t,e=>{t=U({},t,e)}]},tX="tabindex",tY=et.bind(0,""),tZ=e=>{Y(z(e),G(e)),ee(e)},tQ=e=>{let t=tB(),{N:r,I:n}=t,i=tS()[tA],o=i&&i.T,{elements:a}=r(),{host:s,padding:l,viewport:u,content:c}=a,d=O(e),p=d?{}:e,{elements:f}=p,{host:y,padding:m,viewport:T,content:h}=f||{},g=d?e:p.target,b=q(g,"textarea"),v=g.ownerDocument,I=v.documentElement,x=g===v.body,w=v.defaultView,E=tK.bind(0,[g]),N=tV.bind(0,[g]),M=tD.bind(0,[g]),j=E.bind(0,tY,u),U=N.bind(0,tY,c),C=j(T),L=C===g,K=L&&x,V=!L&&U(h),F=!L&&O(C)&&C===V,_=F&&!!M(c),H=_?j():C,W=_?V:U(),J=F?H:C,X=K?I:J,et=b?E(tY,s,y):g,er=K?X:et,en=v.activeElement,ei=!L&&w.top===w&&en===g,eo={W:g,Z:er,J:X,K:!L&&N(tY,l,m),tt:F?W:V,nt:!L&&!n&&o&&o(t),ot:K?I:X,st:K?v:X,et:w,ct:v,rt:b,it:x,lt:d,ut:L,dt:F,ft:(e,t)=>L?B(X,e9,t):eM(X,e),_t:(e,t,r)=>L?k(X,e9,t,r):(r?ej:e$)(X,e)},ea=A(eo).reduce((e,t)=>{let r=eo[t];return S(e,!!r&&!z(r)&&r)},[]),es=e=>e?P(ea,e)>-1:null,{W:el,Z:eu,K:ec,J:ed,tt:ep,nt:ef}=eo,ey=[()=>{D(eu,e9),D(eu,e7),D(el,e7),x&&(D(I,e9),D(I,e7))}],em=b&&es(eu),eT=b?el:G([ep,ed,ec,eu,el].find(e=>!1===es(e))),eh=K?el:ep||ed;return[eo,()=>{R(eu,e9,L?"viewport":"host");let e=ej(ec,"os-padding"),t=ej(ed,!L&&ti),r=ej(ep,"os-content"),i=x&&!L?ej(z(g),ta):ew;if(em&&(Q(el,eu),S(ey,()=>{Q(eu,el),ee(eu)})),Y(eh,eT),Y(eu,ec),Y(ec||eu,!L&&ed),Y(ed,ep),S(ey,()=>{i(),D(ed,te),D(ed,tt),es(ep)&&tZ(ep),es(ed)&&tZ(ed),es(ec)&&tZ(ec),e(),t(),r()}),n&&!L&&S(ey,e$.bind(0,ed,ta)),ef&&(Z(ed,ef),S(ey,ee.bind(0,ef))),ei){let e=R(ed,tX);R(ed,tX,"-1"),ed.focus();let t=()=>e?R(ed,tX,e):D(ed,tX),r=eJ(v,"pointerdown keydown",()=>{t(),r()});S(ey,[t,r])}else en&&en.focus&&en.focus();eT=0},$.bind(0,ey)]},t0=(e,t)=>{let{tt:r}=e,[n]=t;return e=>{let{V:t}=tB(),{ht:i}=n(),{gt:o}=e,a=(r||!t)&&o;return a&&s(r,{height:i?"":"100%"}),{vt:a,wt:a}}},t1=(e,t)=>{let[r,n]=t,{Z:i,K:o,J:a,ut:u}=e,[c,d]=l({u:eI,o:eB()},eB.bind(0,i,"padding",""));return(e,t,i)=>{let[l,p]=d(i),{I:f,V:y}=tB(),{bt:m}=r(),{vt:T,wt:h,yt:g}=e,[b,v]=t("paddingAbsolute");(T||p||!y&&h)&&([l,p]=c(i));let I=!u&&(v||g||p);if(I){let e=!b||!o&&!f,t=l.r+l.l,r=l.t+l.b,i={marginRight:e&&!m?-t:0,marginBottom:e?-r:0,marginLeft:e&&m?-t:0,top:e?-l.t:0,right:e?m?-l.r:"auto":0,left:e?m?"auto":-l.l:0,width:e?`calc(100% + ${t}px)`:""},u={paddingTop:e?l.t:0,paddingRight:e?l.r:0,paddingBottom:e?l.b:0,paddingLeft:e?l.l:0};s(o||a,i),s(a,u),n({K:l,St:!e,M:o?u:U({},i,u)})}return{xt:I}}},{max:t2}=Math,t3=t2.bind(0,0),t5="visible",t6="hidden",t8={u:eb,o:{w:0,h:0}},t4={u:ev,o:{x:t6,y:t6}},t9=(e,t)=>{let r=window.devicePixelRatio%1!=0?1:0,n={w:t3(e.w-t.w),h:t3(e.h-t.h)};return{w:n.w>r?n.w:0,h:n.h>r?n.h:0}},t7=(e,t,r)=>r?ej(e,t):e$(e,t),re=e=>0===e.indexOf(t5),rt=(e,t)=>{let[r,n]=t,{Z:i,K:o,J:a,nt:u,ut:c,_t:d,it:p,et:f}=e,{k:y,V:m,I:T,A:h}=tB(),g=tS()[tA],b=!c&&!T&&(h.x||h.y),v=p&&c,[I,x]=l(t8,eH.bind(0,a)),[w,O]=l(t8,e_.bind(0,a)),[E,P]=l(t8),[S,N]=l(t8),[M]=l(t4),$=(e,t)=>{if(s(a,{height:""}),t){let{St:t,K:n}=r(),{$t:o,P:l}=e,u=eH(i),c=eF(i),d="content-box"===s(a,"boxSizing"),p=t||d?n.b+n.t:0,f=!(h.x&&d);s(a,{height:c.h+u.h+(o.x&&f?l.x:0)-p})}},j=(e,t)=>{let r=T||e?0:42,n=(e,n,i)=>{let o=s(a,e),l="scroll"===(t?t[e]:o);return[o,l,l&&!T?n?r:i:0,n&&!!r]},[i,o,l,u]=n("overflowX",h.x,y.x),[c,d,p,f]=n("overflowY",h.y,y.y);return{Ct:{x:i,y:c},$t:{x:o,y:d},P:{x:l,y:p},D:{x:u,y:f}}},A=(e,t,r,n)=>{let i=(e,t)=>{let r=re(e),n=t&&r&&e.replace(`${t5}-`,"")||"";return[t&&!r?e:"",re(n)?"hidden":n]},[o,a]=i(r.x,t.x),[s,l]=i(r.y,t.y);return n.overflowX=a&&s?a:o,n.overflowY=l&&o?l:s,j(e,n)},U=(e,t,n,i)=>{let{P:o,D:a}=e,{x:s,y:l}=a,{x:u,y:c}=o,{M:d}=r(),p=t?"marginLeft":"marginRight",f=t?"paddingLeft":"paddingRight",y=d[p],m=d.marginBottom,T=d[f],h=d.paddingBottom;i.width=`calc(100% + ${c+-1*y}px)`,i[p]=-c+y,i.marginBottom=-u+m,n&&(i[f]=T+(l?c:0),i.paddingBottom=h+(s?u:0))},[C,L]=g?g.H(b,m,a,u,r,j,U):[()=>b,()=>[ew]];return(e,t,l)=>{let u;let{vt:p,Ot:y,wt:g,xt:b,gt:B,yt:D}=e,{ht:K,bt:V}=r(),[F,_]=t("showNativeOverlaidScrollbars"),[H,q]=t("overflow"),G=F&&h.x&&h.y,z=!c&&!m&&(p||g||y||_||B),W=re(H.x),J=re(H.y),X=W||J,Y=x(l),Z=O(l),Q=P(l),ee=N(l);if(_&&T&&d(ta,"scrollbarHidden",!G),z&&$(u=j(G),K),p||b||g||D||_){X&&d(ts,tr,!1);let[e,t]=L(G,V,u),[r,n]=Y=I(l),[i,o]=Z=w(l),s=eF(a),c=i,p=s;e(),(o||n||_)&&t&&!G&&C(t,i,r,V)&&(p=eF(a),c=e_(a));let y={w:t3(t2(i.w,c.w)+r.w),h:t3(t2(i.h,c.h)+r.h)},m={w:t3((v?f.innerWidth:p.w+t3(s.w-i.w))+r.w),h:t3((v?f.innerHeight+r.h:p.h+t3(s.h-i.h))+r.h)};ee=S(m),Q=E(t9(y,m),l)}let[et,er]=ee,[en,ei]=Q,[eo,ea]=Z,[es,el]=Y,eu={x:en.w>0,y:en.h>0},ec=W&&J&&(eu.x||eu.y)||W&&eu.x&&!eu.y||J&&eu.y&&!eu.x;if(b||D||el||ea||er||ei||q||_||z){let e={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},t=A(G,eu,H,e),r=C(t,eo,es,V);c||U(t,V,r,e),z&&$(t,K),c?(R(i,te,e.overflowX),R(i,tt,e.overflowY)):s(a,e)}k(i,e9,tr,ec),t7(o,ts,ec),c||t7(a,ts,X);let[ed,ep]=M(j(G).Ct);return n({Ct:ed,zt:{x:et.w,y:et.h},Tt:{x:en.w,y:en.h},Et:eu}),{It:ep,At:er,Lt:ei}}},rr=(e,t,r)=>{let n={},i=t||{};return a(A(e).concat(A(i)),t=>{let o=e[t],a=i[t];n[t]=!!(r||o||a)}),n},rn=(e,t)=>{let{W:r,J:n,_t:i,ut:o}=e,{I:s,A:l,V:u}=tB(),c=!s&&(l.x||l.y),d=[t0(e,t),t1(e,t),rt(e,t)];return(e,t,s)=>{let l=rr(U({vt:!1,xt:!1,yt:!1,gt:!1,At:!1,Lt:!1,It:!1,Ot:!1,wt:!1},t),{},s),p=c||!u,f=p&&K(n),y=p&&V(n);i("",tn,!0);let m=l;return a(d,t=>{m=rr(m,t(m,e,!!s)||{},s)}),K(n,f),V(n,y),i("",tn),o||(K(r,0),V(r,0)),m}},ri=(e,t,r)=>{let n;let i=!1,o=o=>{r&&a(r.reduce((t,r)=>{if(r){let[n,i]=r,a=i&&n&&(o?o(n):_(n,e));a&&a.length&&i&&h(i)&&S(t,[a,i.trim()],!0)}return t},[]),r=>a(r[0],o=>{let a=r[1],s=n.get(o)||[];if(e.contains(o)){let e=eJ(o,a,r=>{i?(e(),n.delete(o)):t(r)});n.set(o,S(s,e))}else $(s),n.delete(o)}))};return r&&(n=new WeakMap,o()),[()=>{i=!0},o]},ro=(e,t,r,n)=>{let i=!1,{Ht:o,Mt:s,Pt:l,Dt:u,Rt:c,kt:d}=n||{},p=eE(()=>{i&&r(!0)},{g:33,v:99}),[f,y]=ri(e,p,l),m=s||[],T=(o||[]).concat(m),g=(i,o)=>{let s=c||ew,l=d||ew,p=new Set,f=new Set,T=!1,g=!1;if(a(i,r=>{let{attributeName:i,target:o,type:c,oldValue:d,addedNodes:y,removedNodes:b}=r,v="attributes"===c,I=e===o,x=v&&h(i)?R(o,i):0,w=0!==x&&d!==x,O=P(m,i)>-1&&w;if(t&&("childList"===c||!I)){let t=!v,c=v&&w,f=c&&u&&q(o,u),m=(f?!s(o,i,d,x):t||c)&&!l(r,!!f,e,n);a(y,e=>p.add(e)),a(b,e=>p.add(e)),g=g||m}!t&&I&&w&&!s(o,i,d,x)&&(f.add(i),T=T||O)}),p.size>0&&y(e=>N(p).reduce((t,r)=>(S(t,_(e,r)),q(r,e)?S(t,r):t),[])),t)return!o&&g&&r(!1),[!1];if(f.size>0||T){let e=[N(f),T];return o||r.apply(0,e),e}},b=new ed(e=>g(e));return b.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:T,subtree:t,childList:t,characterData:t}),i=!0,[()=>{i&&(f(),b.disconnect(),i=!1)},()=>{if(i){p.m();let e=b.takeRecords();return!M(e)&&g(e,!0)}}]},ra=e=>e&&(e.height||e.width),rs=(e,t,r)=>{let{Bt:n=!1,Vt:i=!1}=r||{},o=tS().__osSizeObserverPlugin,{B:a}=tB(),s=er(`<div class="${tl}"><div class="${tc}"></div></div>`)[0],u=s.firstChild,c=ek.bind(0,e),[d]=l({o:void 0,_:!0,u:(e,t)=>!(!e||!ra(e)&&ra(t))}),p=e=>{let r=v(e)&&e.length>0&&I(e[0]),i=!r&&g(e[0]),o=!1,l=!1,u=!0;if(r){let[t,,r]=d(e.pop().contentRect),n=ra(t),i=ra(r);o=!r||!n,l=!i&&n,u=!o}else i?[,u]=e:l=!0===e;if(n&&u){let t=i?e[0]:ek(s);K(s,t?a.n?-3333333:a.i?0:3333333:3333333),V(s,3333333)}o||t({vt:!i,Yt:i?e:void 0,Vt:!!l})},f=[],y=!!i&&p;return[()=>{$(f),ee(s)},()=>{if(ef){let e=new ef(p);e.observe(u),S(f,()=>{e.disconnect()})}else if(o){let[e,t]=o.O(u,p,i);y=e,S(f,t)}if(n){let[e]=l({o:!c()},c);S(f,eJ(s,"scroll",t=>{let r=e(),[n,i]=r;i&&(e$(u,"ltr rtl"),n?ej(u,"rtl"):ej(u,"ltr"),p(r)),eX(t)}))}y&&(ej(s,tu),S(f,eJ(s,"animationstart",y,{C:!!ef}))),(ef||o)&&Y(e,s)}]},rl=e=>0===e.h||e.isIntersecting||e.intersectionRatio>0,ru=(e,t)=>{let r;let n=et("os-trinsic-observer"),i=[],[o]=l({o:!1}),a=(e,r)=>{if(e){let n=o(rl(e)),[,i]=n;if(i)return r||t(n),[n]}},s=(e,t)=>{if(e&&e.length>0)return a(e.pop(),t)};return[()=>{$(i),ee(n)},()=>{if(ep)(r=new ep(e=>s(e),{root:e})).observe(n),S(i,()=>{r.disconnect()});else{let e=()=>{a(eV(n))},[t,r]=rs(n,e);S(i,t),r(),e()}Y(e,n)},()=>{if(r)return s(r.takeRecords(),!0)}]},rc=`[${e9}]`,rd=`.${ti}`,rp=["tabindex"],rf=["wrap","cols","rows"],ry=["id","class","style","open"],rm=(e,t,r)=>{let n,i,o;let{Z:s,J:u,tt:c,rt:d,ut:p,ft:f,_t:y}=e,{V:m}=tB(),[g]=l({u:eb,o:{w:0,h:0}},()=>{let e=f(ts,tr),t=f(to,""),r=t&&K(u),n=t&&V(u);y(ts,tr),y(to,""),y("",tn,!0);let i=e_(c),o=e_(u),a=eH(u);return y(ts,tr,e),y(to,"",t),y("",tn),K(u,r),V(u,n),{w:o.w+i.w+a.w,h:o.h+i.h+a.h}}),I=d?rf:ry.concat(rf),x=eE(r,{g:()=>n,v:()=>i,p(e,t){let[r]=e,[n]=t;return[A(r).concat(A(n)).reduce((e,t)=>(e[t]=r[t]||n[t],e),{})]}}),w=e=>{a(e||rp,e=>{if(P(rp,e)>-1){let t=R(s,e);h(t)?R(u,e,t):D(u,e)}})},O=(e,n)=>{let[i,o]=e,a={gt:o};return t({ht:i}),n||r(a),a},E=({vt:e,Yt:n,Vt:i})=>{let o=!e||i?r:x,a=!1;if(n){let[e,r]=n;a=r,t({bt:e})}o({vt:e,yt:a})},N=(e,t)=>{let[,n]=g(),i={wt:n},o=e?r:x;return n&&(t||o(i)),i},M=(e,t,r)=>{let n={Ot:t};return t?r||x(n):p||w(e),n},[$,j,C]=c||!m?ru(s,O):[ew,ew,ew],[L,k]=p?[ew,ew]:rs(s,E,{Vt:!0,Bt:!0}),[B,F]=ro(s,!1,M,{Mt:ry,Ht:ry.concat(rp)}),_=p&&ef&&new ef(E.bind(0,{vt:!0}));return _&&_.observe(s),w(),[()=>{$(),L(),o&&o[0](),_&&_.disconnect(),B()},()=>{k(),j()},()=>{let e={},t=F(),r=C(),n=o&&o[1]();return t&&U(e,M.apply(0,S(t,!0))),r&&U(e,O.apply(0,S(r,!0))),n&&U(e,N.apply(0,S(n,!0))),e},e=>{let[t]=e("update.ignoreMutation"),[r,a]=e("update.attributes"),[s,l]=e("update.elementEvents"),[d,f]=e("update.debounce"),y=e=>b(t)&&t(e);if((l||a)&&(o&&(o[1](),o[0]()),o=ro(c||u,!0,N,{Ht:I.concat(r||[]),Pt:s,Dt:rc,kt:(e,t)=>{let{target:r,attributeName:n}=e;return!t&&!!n&&!p&&J(r,rc,rd)||!!W(r,`.${td}`)||!!y(e)}})),f){if(x.m(),v(d)){let e=d[0],t=d[1];n=T(e)&&e,i=T(t)&&t}else n=!!T(d)&&d,i=!1}}]},rT={x:0,y:0},rh={K:{t:0,r:0,b:0,l:0},St:!1,M:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},zt:rT,Tt:rT,Ct:{x:"hidden",y:"hidden"},Et:{x:!1,y:!1},ht:!1,bt:!1},rg=(e,t)=>{let r=tW(t,{}),n=tJ(rh),[i,o,a]=e1(),[s,l]=n,[u,c,d]=tQ(e),p=rn(u,n),f=(e,t,r)=>{let n=A(e).some(t=>e[t])||!C(t)||r;return n&&a("u",[e,t,r]),n},[y,m,T,h]=rm(u,l,e=>f(p(r,e),{},!1)),g=s.bind(0);return g.jt=e=>i("u",e),g.Nt=()=>{let{W:e,J:t}=u,r=K(e),n=V(e);m(),c(),K(t,r),V(t,n)},g.qt=u,[(e,r)=>{let n=tW(t,e,r);return h(n),f(p(n,T(),r),e,!!r)},g,()=>{o(),y(),d()}]},{round:rb}=Math,rv=e=>{let{width:t,height:r}=eq(e),{w:n,h:i}=eV(e);return{x:rb(t)/n||1,y:rb(r)/i||1}},rI=(e,t,r)=>{let n=t.scrollbars,{button:i,isPrimary:o,pointerType:a}=e,{pointers:s}=n;return 0===i&&o&&n[r?"dragScroll":"clickScroll"]&&(s||[]).includes(a)},rx=(e,t)=>eJ(e,"mousedown",eJ.bind(0,t,"click",eX,{C:!0,$:!0}),{$:!0}),rw=(e,t,r,n,i,o)=>{let{B:a}=tB(),{Ft:s,Gt:l,Xt:u}=r,c=`scroll${o?"Left":"Top"}`,d=`client${o?"X":"Y"}`,p=o?"width":"height",f=o?"left":"top",y=o?"w":"h",m=o?"x":"y",T=(e,t)=>r=>{let{Tt:d}=i(),p=t*r/(eV(l)[y]-eV(s)[y])*d[m],f=ek(u)&&o?a.n||a.i?1:-1:1;n[c]=e+p*f};return eJ(l,"pointerdown",r=>{let i=W(r.target,`.${tT}`)===s;if(rI(r,e,i)){let e=!i&&r.shiftKey,o=()=>eq(s),a=()=>eq(l),u=(e,t)=>(e||o())[f]-(t||a())[f],y=T(n[c]||0,1/rv(n)[m]),h=r[d],g=o(),b=a(),v=g[p],I=u(g,b)+v/2,x=h-b[f],w=i?0:x-I,O=[eJ(t,"selectstart",e=>eY(e),{S:!1}),eJ(l,"pointermove",t=>{let r=t[d]-h;(i||e)&&y(w+r)})];if(e)y(w);else if(!i){let e=tS().__osClickScrollPlugin;e&&S(O,e.O(y,u,w,v,x))}eJ(l,"pointerup",e=>{$(O),l.releasePointerCapture(e.pointerId)},{C:!0}),l.setPointerCapture(r.pointerId)}})},rO=(e,t)=>(r,n,i,o,a,s)=>{let{Xt:l}=r,[u,c]=eO(333),d=!!a.scrollBy,p=!0;return $.bind(0,[eJ(l,"pointerenter",()=>{n(tv,!0)}),eJ(l,"pointerleave pointercancel",()=>{n(tv)}),eJ(l,"wheel",e=>{let{deltaX:t,deltaY:r,deltaMode:i}=e;d&&p&&0===i&&z(l)===o&&a.scrollBy({left:t,top:r,behavior:"smooth"}),p=!1,n(tw,!0),u(()=>{p=!0,n(tw)}),eY(e)},{S:!1,$:!0}),rx(l,i),rw(e,i,r,a,t,s),c])},{min:rE,max:rP,abs:rS,round:rN}=Math,rM=(e,t,r,n)=>{if(n){let e=r?"x":"y",{Tt:t,zt:i}=n,o=i[e];return rP(0,rE(1,o/(o+t[e])))}let i=r?"w":"h";return rP(0,rE(1,eV(e)[i]/eV(t)[i]))},r$=(e,t,r,n,i,o)=>{let{B:a}=tB(),s=o?"x":"y",l=o?"Left":"Top",{Tt:u}=n,c=rN(u[s]),d=rS(r[`scroll${l}`]),p=o&&i,f=a.i?d:c-d,y=rE(1,(p?f:d)/c),m=rM(e,t,o);return 1/m*(1-m)*y},rj=(e,t,r)=>{let{N:n}=tB(),{scrollbars:i}=n(),{slot:o}=i,{ct:l,W:u,Z:c,J:d,lt:p,ot:f,it:y,ut:m}=t,{scrollbars:T}=p?{}:e,{slot:h}=T||{},b=tV([u,c,d],()=>m&&y?u:c,o,h),v=(e,t,r)=>{let n=r?ej:e$;a(e,e=>{n(e.Xt,t)})},I=(e,t)=>{a(e,e=>{let[r,n]=t(e);s(r,n)})},x=(e,t,r)=>{I(e,e=>{let{Ft:n,Gt:i}=e;return[n,{[r?"width":"height"]:`${(100*rM(n,i,r,t)).toFixed(3)}%`}]})},w=(e,t,r)=>{let n=r?"X":"Y";I(e,e=>{let{Ft:i,Gt:o,Xt:a}=e,s=r$(i,o,f,t,ek(a),r);return[i,{transform:s==s?`translate${n}(${(100*s).toFixed(3)}%)`:""}]})},O=[],E=[],P=[],N=(e,t,r)=>{let n=g(r),i=!n||r,o=!n||!r;i&&v(E,e,t),o&&v(P,e,t)},j=e=>{let t=e?E:P,n=M(t)?tb:"",i=et(`${td} ${e?tf:ty} ${n}`),o=et(tm),a=et(tT),s={Xt:i,Gt:o,Ft:a};return Y(i,o),Y(o,a),S(t,s),S(O,[ee.bind(0,i),r(s,N,l,c,f,e)]),s},A=j.bind(0,!0),U=j.bind(0,!1);return A(),U(),[{Ut:e=>{x(E,e,!0),x(P,e)},Wt:e=>{w(E,e,!0),w(P,e)},Zt:N,Jt:{Kt:E,Qt:A,tn:I.bind(0,E)},nn:{Kt:P,Qt:U,tn:I.bind(0,P)}},()=>{Y(b,E[0].Xt),Y(b,P[0].Xt),eT(()=>{N(tb)},300)},$.bind(0,O)]},rA=(e,t,r,n)=>{let i,o,a,s,l;let u=0,[c]=tJ({}),[d,p]=eO(),[f,y]=eO(),[m,T]=eO(100),[h,g]=eO(100),[b,v]=eO(()=>u),[I,x,w]=rj(e,r.qt,rO(t,r)),{Z:O,J:E,ot:P,st:S,ut:N,it:M}=r.qt,{Jt:j,nn:A,Zt:U,Ut:C,Wt:L}=I,{tn:R}=j,{tn:k}=A,B=e=>{let{Xt:t}=e,r=N&&!M&&z(t)===E&&t;return[r,{transform:r?`translate(${K(P)}px, ${V(P)}px)`:""}]},D=(e,t)=>{if(v(),e)U(tx);else{let e=()=>U(tx,!0);u>0&&!t?b(e):e()}},F=()=>{(s=o)&&D(!0)},_=[T,v,g,y,p,w,eJ(O,"pointerover",F,{C:!0}),eJ(O,"pointerenter",F),eJ(O,"pointerleave",()=>{s=!1,o&&D(!1)}),eJ(O,"pointermove",()=>{i&&d(()=>{T(),D(!0),h(()=>{i&&D(!1)})})}),eJ(S,"scroll",e=>{f(()=>{L(r()),a&&D(!0),m(()=>{a&&!s&&D(!1)})}),n(e),N&&R(B),N&&k(B)})],H=c.bind(0);return H.qt=I,H.Nt=x,[(e,n,s)=>{let{At:c,Lt:d,It:p,yt:f}=s,{A:y}=tB(),m=tW(t,e,n),T=r(),{Tt:h,Ct:g,bt:b}=T,[v,I]=m("showNativeOverlaidScrollbars"),[x,w]=m("scrollbars.theme"),[O,E]=m("scrollbars.visibility"),[P,S]=m("scrollbars.autoHide"),[N]=m("scrollbars.autoHideDelay"),[$,j]=m("scrollbars.dragScroll"),[A,R]=m("scrollbars.clickScroll"),k=v&&y.x&&y.y,B=(e,t)=>{let r="visible"===O||"auto"===O&&"scroll"===e;return U(th,r,t),r};if(u=N,I&&U("os-theme-none",k),w&&(U(l),U(x,!0),l=x),S&&(i="move"===P,o="leave"===P,D(!(a="never"!==P),!0)),j&&U(tE,$),R&&U(tO,A),p||E){let e=B(g.x,!0),t=B(g.y,!1);U(tg,!(e&&t))}(c||d||f)&&(C(T),L(T),U(tI,!h.x,!0),U(tI,!h.y,!1),U(tp,b&&!M))},H,$.bind(0,_)]},rU=(e,t,r)=>{b(e)&&e(t||void 0,r||void 0)},rC=(e,t,r)=>{let{F:n,N:i,Y:o,j:s}=tB(),l=tS(),u=O(e),c=u?e:e.target,d=tG(c);if(t&&!d){let d=!1,p=e=>{let t=tS().__osOptionsValidationPlugin,r=t&&t.O;return r?r(e,!0):e},f=U({},n(),p(t)),[y,m,T]=e1(r),[h,g,b]=rg(e,f),[v,I,x]=rA(e,f,g,e=>T("scroll",[N,e])),w=(e,t)=>h(e,!!t),O=w.bind(0,{},!0),E=o(O),P=s(O),S=e=>{tq(c),E(),P(),x(),b(),d=!0,T("destroyed",[N,!!e]),m()},N={options(e,t){if(e){let r=e5(f,U(t?n():{},p(e)));C(r)||(U(f,r),w(r))}return U({},f)},on:y,off:(e,t)=>{e&&t&&m(e,t)},state(){let{zt:e,Tt:t,Ct:r,Et:n,K:i,St:o,bt:a}=g();return U({},{overflowEdge:e,overflowAmount:t,overflowStyle:r,hasOverflow:n,padding:i,paddingAbsolute:o,directionRTL:a,destroyed:d})},elements(){let{W:e,Z:t,K:r,J:n,tt:i,ot:o,st:a}=g.qt,{Jt:s,nn:l}=I.qt,u=e=>{let{Ft:t,Gt:r,Xt:n}=e;return{scrollbar:n,track:r,handle:t}},c=e=>{let{Kt:t,Qt:r}=e;return U({},u(t[0]),{clone:()=>{let e=u(r());return v({},!0,{}),e}})};return U({},{target:e,host:t,padding:r||n,viewport:n,content:i||n,scrollOffsetElement:o,scrollEventElement:a,scrollbarHorizontal:c(s),scrollbarVertical:c(l)})},update:e=>w({},e),destroy:S.bind(0)};return(g.jt((e,t,r)=>{v(t,r,e)}),tH(c,N),a(A(l),e=>rU(l[e],0,N)),tF(g.qt.it,i().cancel,!u&&e.cancel))?S(!0):(g.Nt(),I.Nt(),T("initialized",[N]),g.jt((e,t,r)=>{let{vt:n,yt:i,gt:o,At:a,Lt:s,It:l,wt:u,Ot:c}=e;T("updated",[N,{updateHints:{sizeChanged:n,directionChanged:i,heightIntrinsicChanged:o,overflowEdgeChanged:a,overflowAmountChanged:s,overflowStyleChanged:l,contentMutation:u,hostMutation:c},changedOptions:t,force:r}])}),N.update(!0)),N}return d};rC.plugin=e=>{a(tN(e),e=>rU(e,rC))},rC.valid=e=>{let t=e&&e.elements,r=b(t)&&t();return w(r)&&!!tG(r.target)},rC.env=()=>{let{k:e,A:t,I:r,B:n,V:i,L:o,X:a,U:s,N:l,q:u,F:c,G:d}=tB();return U({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:r,rtlScrollBehavior:n,flexboxGlue:i,cssCustomProperties:o,staticDefaultInitialization:a,staticDefaultOptions:s,getDefaultInitialization:l,setDefaultInitialization:u,getDefaultOptions:c,setDefaultOptions:d})};let rL=()=>{let e,t;if(typeof window>"u"){let e=()=>{};return[e,e]}let r=window,n="function"==typeof r.requestIdleCallback,i=r.requestAnimationFrame,o=r.cancelAnimationFrame,a=n?r.requestIdleCallback:i,s=n?r.cancelIdleCallback:o,l=()=>{s(e),o(t)};return[(r,o)=>{l(),e=a(n?()=>{l(),t=i(r)}:r,"object"==typeof o?o:{timeout:2233})},l]},rR=e=>{let{options:t,events:r,defer:n}=e||{},[i,a]=(0,o.useMemo)(rL,[]),s=(0,o.useRef)(null),l=(0,o.useRef)(n),u=(0,o.useRef)(t),c=(0,o.useRef)(r);return(0,o.useEffect)(()=>{l.current=n},[n]),(0,o.useEffect)(()=>{let{current:e}=s;u.current=t,rC.valid(e)&&e.options(t||{},!0)},[t]),(0,o.useEffect)(()=>{let{current:e}=s;c.current=r,rC.valid(e)&&e.on(r||{},!0)},[r]),(0,o.useEffect)(()=>()=>{var e;a(),null==(e=s.current)||e.destroy()},[]),(0,o.useMemo)(()=>[e=>{let t=s.current;if(rC.valid(t))return;let r=l.current,n=u.current||{},o=c.current||{},a=()=>s.current=rC(e,n,o);r?i(a,r):a()},()=>s.current],[])};(0,o.forwardRef)((e,t)=>{let{element:r="div",options:n,events:i,defer:a,children:s,...l}=e,u=(0,o.useRef)(null),c=(0,o.useRef)(null),[d,p]=rR({options:n,events:i,defer:a});return(0,o.useEffect)(()=>{let{current:e}=u,{current:t}=c;return e&&t&&d({target:e,elements:{viewport:t,content:t}}),()=>{var e;return null==(e=p())?void 0:e.destroy()}},[d,r]),(0,o.useImperativeHandle)(t,()=>({osInstance:p,getElement:()=>u.current}),[]),o.createElement(r,{"data-overlayscrollbars-initialize":"",ref:u,...l},o.createElement("div",{ref:c},s))})},9805:function(e,t,r){var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.ValueErrorIterator=t.EscapeKey=t.ValueErrorsUnknownTypeError=t.ValueErrorType=void 0;let o=r(20020),a=r(63824),s=r(75952),l=r(10940),u=r(66501);(i=n||(t.ValueErrorType=n={}))[i.ArrayContains=0]="ArrayContains",i[i.ArrayMaxContains=1]="ArrayMaxContains",i[i.ArrayMaxItems=2]="ArrayMaxItems",i[i.ArrayMinContains=3]="ArrayMinContains",i[i.ArrayMinItems=4]="ArrayMinItems",i[i.ArrayUniqueItems=5]="ArrayUniqueItems",i[i.Array=6]="Array",i[i.AsyncIterator=7]="AsyncIterator",i[i.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",i[i.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",i[i.BigIntMaximum=10]="BigIntMaximum",i[i.BigIntMinimum=11]="BigIntMinimum",i[i.BigIntMultipleOf=12]="BigIntMultipleOf",i[i.BigInt=13]="BigInt",i[i.Boolean=14]="Boolean",i[i.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",i[i.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",i[i.DateMaximumTimestamp=17]="DateMaximumTimestamp",i[i.DateMinimumTimestamp=18]="DateMinimumTimestamp",i[i.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",i[i.Date=20]="Date",i[i.Function=21]="Function",i[i.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",i[i.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",i[i.IntegerMaximum=24]="IntegerMaximum",i[i.IntegerMinimum=25]="IntegerMinimum",i[i.IntegerMultipleOf=26]="IntegerMultipleOf",i[i.Integer=27]="Integer",i[i.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",i[i.Intersect=29]="Intersect",i[i.Iterator=30]="Iterator",i[i.Kind=31]="Kind",i[i.Literal=32]="Literal",i[i.Never=33]="Never",i[i.Not=34]="Not",i[i.Null=35]="Null",i[i.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",i[i.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",i[i.NumberMaximum=38]="NumberMaximum",i[i.NumberMinimum=39]="NumberMinimum",i[i.NumberMultipleOf=40]="NumberMultipleOf",i[i.Number=41]="Number",i[i.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",i[i.ObjectMaxProperties=43]="ObjectMaxProperties",i[i.ObjectMinProperties=44]="ObjectMinProperties",i[i.ObjectRequiredProperty=45]="ObjectRequiredProperty",i[i.Object=46]="Object",i[i.Promise=47]="Promise",i[i.StringFormatUnknown=48]="StringFormatUnknown",i[i.StringFormat=49]="StringFormat",i[i.StringMaxLength=50]="StringMaxLength",i[i.StringMinLength=51]="StringMinLength",i[i.StringPattern=52]="StringPattern",i[i.String=53]="String",i[i.Symbol=54]="Symbol",i[i.TupleLength=55]="TupleLength",i[i.Tuple=56]="Tuple",i[i.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",i[i.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",i[i.Uint8Array=59]="Uint8Array",i[i.Undefined=60]="Undefined",i[i.Union=61]="Union",i[i.Void=62]="Void";class c extends u.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function d(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function p(e){return void 0!==e}t.ValueErrorsUnknownTypeError=c,t.EscapeKey=d;class f{constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}}function y(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:a.TypeSystemErrorFunction.Get()(t,e)}}function*m(e,t,r,i){let f=p(e.$id)?[...t,e]:t;switch(e[u.Kind]){case"Any":return yield*function*(e,t,r,n){}(0,0,0,0);case"Array":return yield*function*(e,t,r,i){if(!(0,o.IsArray)(i))return yield y(n.Array,e,r,i);p(e.minItems)&&!(i.length>=e.minItems)&&(yield y(n.ArrayMinItems,e,r,i)),p(e.maxItems)&&!(i.length<=e.maxItems)&&(yield y(n.ArrayMaxItems,e,r,i));for(let n=0;n<i.length;n++)yield*m(e.items,t,`${r}/${n}`,i[n]);if(!0===e.uniqueItems&&!function(){let e=new Set;for(let t of i){let r=(0,l.Hash)(t);if(e.has(r))return!1;e.add(r)}return!0}()&&(yield y(n.ArrayUniqueItems,e,r,i)),!(p(e.contains)||p(e.minContains)||p(e.maxContains)))return;let a=p(e.contains)?e.contains:u.Type.Never(),s=i.reduce((e,n,i)=>!0===m(a,t,`${r}${i}`,n).next().done?e+1:e,0);0===s&&(yield y(n.ArrayContains,e,r,i)),(0,o.IsNumber)(e.minContains)&&s<e.minContains&&(yield y(n.ArrayMinContains,e,r,i)),(0,o.IsNumber)(e.maxContains)&&s>e.maxContains&&(yield y(n.ArrayMaxContains,e,r,i))}(e,f,r,i);case"AsyncIterator":return yield*function*(e,t,r,i){(0,o.IsAsyncIterator)(i)||(yield y(n.AsyncIterator,e,r,i))}(e,0,r,i);case"BigInt":return yield*function*(e,t,r,i){if(!(0,o.IsBigInt)(i))return yield y(n.BigInt,e,r,i);p(e.exclusiveMaximum)&&!(i<e.exclusiveMaximum)&&(yield y(n.BigIntExclusiveMaximum,e,r,i)),p(e.exclusiveMinimum)&&!(i>e.exclusiveMinimum)&&(yield y(n.BigIntExclusiveMinimum,e,r,i)),p(e.maximum)&&!(i<=e.maximum)&&(yield y(n.BigIntMaximum,e,r,i)),p(e.minimum)&&!(i>=e.minimum)&&(yield y(n.BigIntMinimum,e,r,i)),p(e.multipleOf)&&i%e.multipleOf!==BigInt(0)&&(yield y(n.BigIntMultipleOf,e,r,i))}(e,0,r,i);case"Boolean":return yield*function*(e,t,r,i){(0,o.IsBoolean)(i)||(yield y(n.Boolean,e,r,i))}(e,0,r,i);case"Constructor":return yield*function*(e,t,r,n){yield*m(e.returns,t,r,n.prototype)}(e,f,r,i);case"Date":return yield*function*(e,t,r,i){if(!(0,o.IsDate)(i))return yield y(n.Date,e,r,i);p(e.exclusiveMaximumTimestamp)&&!(i.getTime()<e.exclusiveMaximumTimestamp)&&(yield y(n.DateExclusiveMaximumTimestamp,e,r,i)),p(e.exclusiveMinimumTimestamp)&&!(i.getTime()>e.exclusiveMinimumTimestamp)&&(yield y(n.DateExclusiveMinimumTimestamp,e,r,i)),p(e.maximumTimestamp)&&!(i.getTime()<=e.maximumTimestamp)&&(yield y(n.DateMaximumTimestamp,e,r,i)),p(e.minimumTimestamp)&&!(i.getTime()>=e.minimumTimestamp)&&(yield y(n.DateMinimumTimestamp,e,r,i)),p(e.multipleOfTimestamp)&&i.getTime()%e.multipleOfTimestamp!=0&&(yield y(n.DateMultipleOfTimestamp,e,r,i))}(e,0,r,i);case"Function":return yield*function*(e,t,r,i){(0,o.IsFunction)(i)||(yield y(n.Function,e,r,i))}(e,0,r,i);case"Integer":return yield*function*(e,t,r,i){if(!(0,o.IsInteger)(i))return yield y(n.Integer,e,r,i);p(e.exclusiveMaximum)&&!(i<e.exclusiveMaximum)&&(yield y(n.IntegerExclusiveMaximum,e,r,i)),p(e.exclusiveMinimum)&&!(i>e.exclusiveMinimum)&&(yield y(n.IntegerExclusiveMinimum,e,r,i)),p(e.maximum)&&!(i<=e.maximum)&&(yield y(n.IntegerMaximum,e,r,i)),p(e.minimum)&&!(i>=e.minimum)&&(yield y(n.IntegerMinimum,e,r,i)),p(e.multipleOf)&&i%e.multipleOf!=0&&(yield y(n.IntegerMultipleOf,e,r,i))}(e,0,r,i);case"Intersect":return yield*function*(e,t,r,i){for(let o of e.allOf){let a=m(o,t,r,i).next();a.done||(yield y(n.Intersect,e,r,i),yield a.value)}if(!1===e.unevaluatedProperties){let t=new RegExp(u.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(i))t.test(o)||(yield y(n.IntersectUnevaluatedProperties,e,`${r}/${o}`,i))}if("object"==typeof e.unevaluatedProperties){let n=new RegExp(u.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(i))if(!n.test(o)){let n=m(e.unevaluatedProperties,t,`${r}/${o}`,i[o]).next();n.done||(yield n.value)}}}(e,f,r,i);case"Iterator":return yield*function*(e,t,r,i){(0,o.IsIterator)(i)||(yield y(n.Iterator,e,r,i))}(e,0,r,i);case"Literal":return yield*function*(e,t,r,i){i!==e.const&&(yield y(n.Literal,e,r,i))}(e,0,r,i);case"Never":return yield*function*(e,t,r,i){yield y(n.Never,e,r,i)}(e,0,r,i);case"Not":return yield*function*(e,t,r,i){!0===m(e.not,t,r,i).next().done&&(yield y(n.Not,e,r,i))}(e,f,r,i);case"Null":return yield*function*(e,t,r,i){(0,o.IsNull)(i)||(yield y(n.Null,e,r,i))}(e,0,r,i);case"Number":return yield*function*(e,t,r,i){if(!a.TypeSystemPolicy.IsNumberLike(i))return yield y(n.Number,e,r,i);p(e.exclusiveMaximum)&&!(i<e.exclusiveMaximum)&&(yield y(n.NumberExclusiveMaximum,e,r,i)),p(e.exclusiveMinimum)&&!(i>e.exclusiveMinimum)&&(yield y(n.NumberExclusiveMinimum,e,r,i)),p(e.maximum)&&!(i<=e.maximum)&&(yield y(n.NumberMaximum,e,r,i)),p(e.minimum)&&!(i>=e.minimum)&&(yield y(n.NumberMinimum,e,r,i)),p(e.multipleOf)&&i%e.multipleOf!=0&&(yield y(n.NumberMultipleOf,e,r,i))}(e,0,r,i);case"Object":return yield*function*(e,t,r,i){if(!a.TypeSystemPolicy.IsObjectLike(i))return yield y(n.Object,e,r,i);p(e.minProperties)&&!(Object.getOwnPropertyNames(i).length>=e.minProperties)&&(yield y(n.ObjectMinProperties,e,r,i)),p(e.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=e.maxProperties)&&(yield y(n.ObjectMaxProperties,e,r,i));let o=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),l=Object.getOwnPropertyNames(i);for(let t of o)l.includes(t)||(yield y(n.ObjectRequiredProperty,e.properties[t],`${r}/${d(t)}`,void 0));if(!1===e.additionalProperties)for(let t of l)s.includes(t)||(yield y(n.ObjectAdditionalProperties,e,`${r}/${d(t)}`,i[t]));if("object"==typeof e.additionalProperties)for(let n of l)s.includes(n)||(yield*m(e.additionalProperties,t,`${r}/${d(n)}`,i[n]));for(let o of s){let s=e.properties[o];e.required&&e.required.includes(o)?(yield*m(s,t,`${r}/${d(o)}`,i[o]),!u.ExtendsUndefined.Check(e)||o in i||(yield y(n.ObjectRequiredProperty,s,`${r}/${d(o)}`,void 0))):a.TypeSystemPolicy.IsExactOptionalProperty(i,o)&&(yield*m(s,t,`${r}/${d(o)}`,i[o]))}}(e,f,r,i);case"Promise":return yield*function*(e,t,r,i){(0,o.IsPromise)(i)||(yield y(n.Promise,e,r,i))}(e,0,r,i);case"Record":return yield*function*(e,t,r,i){if(!a.TypeSystemPolicy.IsRecordLike(i))return yield y(n.Object,e,r,i);p(e.minProperties)&&!(Object.getOwnPropertyNames(i).length>=e.minProperties)&&(yield y(n.ObjectMinProperties,e,r,i)),p(e.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=e.maxProperties)&&(yield y(n.ObjectMaxProperties,e,r,i));let[o,s]=Object.entries(e.patternProperties)[0],l=new RegExp(o);for(let[e,n]of Object.entries(i))l.test(e)&&(yield*m(s,t,`${r}/${d(e)}`,n));if("object"==typeof e.additionalProperties)for(let[n,o]of Object.entries(i))l.test(n)||(yield*m(e.additionalProperties,t,`${r}/${d(n)}`,o));if(!1===e.additionalProperties){for(let[t,o]of Object.entries(i))if(!l.test(t))return yield y(n.ObjectAdditionalProperties,e,`${r}/${d(t)}`,o)}}(e,f,r,i);case"Ref":return yield*function*(e,t,r,n){yield*m((0,s.Deref)(e,t),t,r,n)}(e,f,r,i);case"String":return yield*function*(e,t,r,i){if(!(0,o.IsString)(i))return yield y(n.String,e,r,i);p(e.minLength)&&!(i.length>=e.minLength)&&(yield y(n.StringMinLength,e,r,i)),p(e.maxLength)&&!(i.length<=e.maxLength)&&(yield y(n.StringMaxLength,e,r,i)),(0,o.IsString)(e.pattern)&&!new RegExp(e.pattern).test(i)&&(yield y(n.StringPattern,e,r,i)),(0,o.IsString)(e.format)&&(u.FormatRegistry.Has(e.format)?u.FormatRegistry.Get(e.format)(i)||(yield y(n.StringFormat,e,r,i)):yield y(n.StringFormatUnknown,e,r,i))}(e,0,r,i);case"Symbol":return yield*function*(e,t,r,i){(0,o.IsSymbol)(i)||(yield y(n.Symbol,e,r,i))}(e,0,r,i);case"TemplateLiteral":return yield*function*(e,t,r,i){if(!(0,o.IsString)(i))return yield y(n.String,e,r,i);new RegExp(e.pattern).test(i)||(yield y(n.StringPattern,e,r,i))}(e,0,r,i);case"This":return yield*function*(e,t,r,n){yield*m((0,s.Deref)(e,t),t,r,n)}(e,f,r,i);case"Tuple":return yield*function*(e,t,r,i){if(!(0,o.IsArray)(i))return yield y(n.Tuple,e,r,i);if(void 0===e.items&&0!==i.length||i.length!==e.maxItems)return yield y(n.TupleLength,e,r,i);if(e.items)for(let n=0;n<e.items.length;n++)yield*m(e.items[n],t,`${r}/${n}`,i[n])}(e,f,r,i);case"Undefined":return yield*function*(e,t,r,i){(0,o.IsUndefined)(i)||(yield y(n.Undefined,e,r,i))}(e,0,r,i);case"Union":return yield*function*(e,t,r,i){let o=0;for(let n of e.anyOf){let e=[...m(n,t,r,i)];if(0===e.length)return;o+=e.length}o>0&&(yield y(n.Union,e,r,i))}(e,f,r,i);case"Uint8Array":return yield*function*(e,t,r,i){if(!(0,o.IsUint8Array)(i))return yield y(n.Uint8Array,e,r,i);p(e.maxByteLength)&&!(i.length<=e.maxByteLength)&&(yield y(n.Uint8ArrayMaxByteLength,e,r,i)),p(e.minByteLength)&&!(i.length>=e.minByteLength)&&(yield y(n.Uint8ArrayMinByteLength,e,r,i))}(e,0,r,i);case"Unknown":return yield*function*(e,t,r,n){}(0,0,0,0);case"Void":return yield*function*(e,t,r,i){a.TypeSystemPolicy.IsVoidLike(i)||(yield y(n.Void,e,r,i))}(e,0,r,i);default:if(!u.TypeRegistry.Has(e[u.Kind]))throw new c(e);return yield*function*(e,t,r,i){u.TypeRegistry.Get(e[u.Kind])(e,i)||(yield y(n.Kind,e,r,i))}(e,0,r,i)}}t.ValueErrorIterator=f,t.Errors=function(...e){return new f(3===e.length?m(e[0],e[1],"",e[2]):m(e[0],[],"",e[1]))}},73914:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9805),t)},99994:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ValueErrorType=void 0;var o=r(9805);Object.defineProperty(t,"ValueErrorType",{enumerable:!0,get:function(){return o.ValueErrorType}}),i(r(63824),t)},63824:function(e,t,r){var n,i,o,a,s;let l;Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultErrorFunction=t.TypeSystemPolicy=t.TypeSystemErrorFunction=t.TypeSystem=t.TypeSystemDuplicateFormat=t.TypeSystemDuplicateTypeKind=void 0;let u=r(20020),c=r(9805),d=r(66501);class p extends d.TypeBoxError{constructor(e){super(`Duplicate type kind '${e}' detected`)}}t.TypeSystemDuplicateTypeKind=p;class f extends d.TypeBoxError{constructor(e){super(`Duplicate string format '${e}' detected`)}}function y(e,t){switch(t){case c.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case c.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case c.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case c.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case c.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case c.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case c.ValueErrorType.Array:return"Expected array";case c.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case c.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case c.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case c.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case c.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case c.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case c.ValueErrorType.BigInt:return"Expected bigint";case c.ValueErrorType.Boolean:return"Expected boolean";case c.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case c.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case c.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case c.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case c.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case c.ValueErrorType.Date:return"Expected Date";case c.ValueErrorType.Function:return"Expected function";case c.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case c.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case c.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case c.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case c.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case c.ValueErrorType.Integer:return"Expected integer";case c.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case c.ValueErrorType.Intersect:return"Expected all values to match";case c.ValueErrorType.Iterator:return"Expected Iterator";case c.ValueErrorType.Literal:return`Expected ${"string"==typeof e.const?`'${e.const}'`:e.const}`;case c.ValueErrorType.Never:return"Never";case c.ValueErrorType.Not:return"Value should not match";case c.ValueErrorType.Null:return"Expected null";case c.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case c.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case c.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case c.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case c.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case c.ValueErrorType.Number:return"Expected number";case c.ValueErrorType.Object:return"Expected object";case c.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case c.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case c.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case c.ValueErrorType.ObjectRequiredProperty:return"Required property";case c.ValueErrorType.Promise:return"Expected Promise";case c.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case c.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case c.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case c.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case c.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case c.ValueErrorType.String:return"Expected string";case c.ValueErrorType.Symbol:return"Expected symbol";case c.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case c.ValueErrorType.Tuple:return"Expected tuple";case c.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case c.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case c.ValueErrorType.Uint8Array:return"Expected Uint8Array";case c.ValueErrorType.Undefined:return"Expected undefined";case c.ValueErrorType.Union:return"Expected union value";case c.ValueErrorType.Void:return"Expected void";case c.ValueErrorType.Kind:return`Expected kind '${e[d.Kind]}'`;default:return"Unknown error type"}}t.TypeSystemDuplicateFormat=f,(a=n||(t.TypeSystem=n={})).Type=function(e,t){if(d.TypeRegistry.Has(e))throw new p(e);return d.TypeRegistry.Set(e,t),(t={})=>d.Type.Unsafe({...t,[d.Kind]:e})},a.Format=function(e,t){if(d.FormatRegistry.Has(e))throw new f(e);return d.FormatRegistry.Set(e,t),e},s=i||(t.TypeSystemErrorFunction=i={}),l=y,s.Reset=function(){l=y},s.Set=function(e){l=e},s.Get=function(){return l},function(e){function t(t){let r=(0,u.IsObject)(t);return e.AllowArrayObject?r:r&&!(0,u.IsArray)(t)}e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1,e.IsExactOptionalProperty=function(t,r){return e.ExactOptionalPropertyTypes?r in t:void 0!==t[r]},e.IsObjectLike=t,e.IsRecordLike=function(e){return t(e)&&!(e instanceof Date)&&!(e instanceof Uint8Array)},e.IsNumberLike=function(t){let r=(0,u.IsNumber)(t);return e.AllowNaN?r:r&&Number.isFinite(t)},e.IsVoidLike=function(t){let r=(0,u.IsUndefined)(t);return e.AllowNullVoid?r||null===t:r}}(o||(t.TypeSystemPolicy=o={})),t.DefaultErrorFunction=y},66501:function(e,t){var r,n,i,o,a,s,l,u,c,d,p,f,y,m,T,h,g,b,v,I,x,w;Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.JsonType=t.JavaScriptTypeBuilder=t.JsonTypeBuilder=t.TypeBuilder=t.TypeBuilderError=t.TransformEncodeBuilder=t.TransformDecodeBuilder=t.TemplateLiteralDslParser=t.TemplateLiteralGenerator=t.TemplateLiteralGeneratorError=t.TemplateLiteralFinite=t.TemplateLiteralFiniteError=t.TemplateLiteralParser=t.TemplateLiteralParserError=t.TemplateLiteralResolver=t.TemplateLiteralPattern=t.TemplateLiteralPatternError=t.UnionResolver=t.KeyArrayResolver=t.KeyArrayResolverError=t.KeyResolver=t.ObjectMap=t.Intrinsic=t.IndexedAccessor=t.TypeClone=t.TypeExtends=t.TypeExtendsResult=t.TypeExtendsError=t.ExtendsUndefined=t.TypeGuard=t.TypeGuardUnknownTypeError=t.ValueGuard=t.FormatRegistry=t.TypeBoxError=t.TypeRegistry=t.PatternStringExact=t.PatternNumberExact=t.PatternBooleanExact=t.PatternString=t.PatternNumber=t.PatternBoolean=t.Kind=t.Hint=t.Optional=t.Readonly=t.Transform=void 0,t.Transform=Symbol.for("TypeBox.Transform"),t.Readonly=Symbol.for("TypeBox.Readonly"),t.Optional=Symbol.for("TypeBox.Optional"),t.Hint=Symbol.for("TypeBox.Hint"),t.Kind=Symbol.for("TypeBox.Kind"),t.PatternBoolean="(true|false)",t.PatternNumber="(0|[1-9][0-9]*)",t.PatternString="(.*)",t.PatternBooleanExact=`^${t.PatternBoolean}$`,t.PatternNumberExact=`^${t.PatternNumber}$`,t.PatternStringExact=`^${t.PatternString}$`,function(e){let t=new Map;e.Entries=function(){return new Map(t)},e.Clear=function(){return t.clear()},e.Delete=function(e){return t.delete(e)},e.Has=function(e){return t.has(e)},e.Set=function(e,r){t.set(e,r)},e.Get=function(e){return t.get(e)}}(r||(t.TypeRegistry=r={}));class O extends Error{constructor(e){super(e)}}t.TypeBoxError=O,function(e){let t=new Map;e.Entries=function(){return new Map(t)},e.Clear=function(){return t.clear()},e.Delete=function(e){return t.delete(e)},e.Has=function(e){return t.has(e)},e.Set=function(e,r){t.set(e,r)},e.Get=function(e){return t.get(e)}}(n||(t.FormatRegistry=n={})),(x=i||(t.ValueGuard=i={})).IsArray=function(e){return Array.isArray(e)},x.IsBigInt=function(e){return"bigint"==typeof e},x.IsBoolean=function(e){return"boolean"==typeof e},x.IsDate=function(e){return e instanceof globalThis.Date},x.IsNull=function(e){return null===e},x.IsNumber=function(e){return"number"==typeof e},x.IsObject=function(e){return"object"==typeof e&&null!==e},x.IsString=function(e){return"string"==typeof e},x.IsUint8Array=function(e){return e instanceof globalThis.Uint8Array},x.IsUndefined=function(e){return void 0===e};class E extends O{}t.TypeGuardUnknownTypeError=E,function(e){function n(e){try{return new RegExp(e),!0}catch{return!1}}function o(e){if(!i.IsString(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||27===r||127===r)return!1}return!0}function a(e){return i.IsUndefined(e)||i.IsBigInt(e)}function s(e){return i.IsUndefined(e)||i.IsNumber(e)}function l(e){return i.IsUndefined(e)||i.IsBoolean(e)}function u(e){return i.IsUndefined(e)||i.IsString(e)}function c(e){return i.IsUndefined(e)||z(e)}function d(e){return x(e,"Any")&&u(e.$id)}function p(e){return x(e,"Array")&&"array"===e.type&&u(e.$id)&&z(e.items)&&s(e.minItems)&&s(e.maxItems)&&l(e.uniqueItems)&&c(e.contains)&&s(e.minContains)&&s(e.maxContains)}function f(e){return x(e,"AsyncIterator")&&"AsyncIterator"===e.type&&u(e.$id)&&z(e.items)}function y(e){return x(e,"BigInt")&&"bigint"===e.type&&u(e.$id)&&a(e.exclusiveMaximum)&&a(e.exclusiveMinimum)&&a(e.maximum)&&a(e.minimum)&&a(e.multipleOf)}function m(e){return x(e,"Boolean")&&"boolean"===e.type&&u(e.$id)}function T(e){return x(e,"Constructor")&&"Constructor"===e.type&&u(e.$id)&&i.IsArray(e.parameters)&&e.parameters.every(e=>z(e))&&z(e.returns)}function h(e){return x(e,"Date")&&"Date"===e.type&&u(e.$id)&&s(e.exclusiveMaximumTimestamp)&&s(e.exclusiveMinimumTimestamp)&&s(e.maximumTimestamp)&&s(e.minimumTimestamp)&&s(e.multipleOfTimestamp)}function g(e){return x(e,"Function")&&"Function"===e.type&&u(e.$id)&&i.IsArray(e.parameters)&&e.parameters.every(e=>z(e))&&z(e.returns)}function b(e){return x(e,"Integer")&&"integer"===e.type&&u(e.$id)&&s(e.exclusiveMaximum)&&s(e.exclusiveMinimum)&&s(e.maximum)&&s(e.minimum)&&s(e.multipleOf)}function v(e){return x(e,"Intersect")&&(!i.IsString(e.type)||"object"===e.type)&&i.IsArray(e.allOf)&&e.allOf.every(e=>z(e)&&!D(e))&&u(e.type)&&(l(e.unevaluatedProperties)||c(e.unevaluatedProperties))&&u(e.$id)}function I(e){return x(e,"Iterator")&&"Iterator"===e.type&&u(e.$id)&&z(e.items)}function x(e,r){return w(e)&&e[t.Kind]===r}function w(e){return i.IsObject(e)&&t.Kind in e&&i.IsString(e[t.Kind])}function O(e){return P(e)&&i.IsString(e.const)}function E(e){return P(e)&&i.IsNumber(e.const)}function P(e){return x(e,"Literal")&&u(e.$id)&&(i.IsBoolean(e.const)||i.IsNumber(e.const)||i.IsString(e.const))}function S(e){return x(e,"Never")&&i.IsObject(e.not)&&0===Object.getOwnPropertyNames(e.not).length}function N(e){return x(e,"Not")&&z(e.not)}function M(e){return x(e,"Null")&&"null"===e.type&&u(e.$id)}function $(e){return x(e,"Number")&&"number"===e.type&&u(e.$id)&&s(e.exclusiveMaximum)&&s(e.exclusiveMinimum)&&s(e.maximum)&&s(e.minimum)&&s(e.multipleOf)}function j(e){var t;return x(e,"Object")&&"object"===e.type&&u(e.$id)&&i.IsObject(e.properties)&&(l(t=e.additionalProperties)||z(t))&&s(e.minProperties)&&s(e.maxProperties)&&Object.entries(e.properties).every(([e,t])=>o(e)&&z(t))}function A(e){return x(e,"Promise")&&"Promise"===e.type&&u(e.$id)&&z(e.item)}function U(e){var t;return x(e,"Record")&&"object"===e.type&&u(e.$id)&&(l(t=e.additionalProperties)||z(t))&&i.IsObject(e.patternProperties)&&(e=>{let t=Object.getOwnPropertyNames(e.patternProperties);return 1===t.length&&n(t[0])&&i.IsObject(e.patternProperties)&&z(e.patternProperties[t[0]])})(e)}function C(e){return x(e,"Ref")&&u(e.$id)&&i.IsString(e.$ref)}function L(e){var t,r;return x(e,"String")&&"string"===e.type&&u(e.$id)&&s(e.minLength)&&s(e.maxLength)&&(t=e.pattern,i.IsUndefined(t)||i.IsString(t)&&o(t)&&n(t))&&(r=e.format,i.IsUndefined(r)||i.IsString(r)&&o(r))}function R(e){return x(e,"Symbol")&&"symbol"===e.type&&u(e.$id)}function k(e){return x(e,"TemplateLiteral")&&"string"===e.type&&i.IsString(e.pattern)&&"^"===e.pattern[0]&&"$"===e.pattern[e.pattern.length-1]}function B(e){return x(e,"This")&&u(e.$id)&&i.IsString(e.$ref)}function D(e){return i.IsObject(e)&&t.Transform in e}function K(e){return x(e,"Tuple")&&"array"===e.type&&u(e.$id)&&i.IsNumber(e.minItems)&&i.IsNumber(e.maxItems)&&e.minItems===e.maxItems&&(i.IsUndefined(e.items)&&i.IsUndefined(e.additionalItems)&&0===e.minItems||i.IsArray(e.items)&&e.items.every(e=>z(e)))}function V(e){return x(e,"Undefined")&&"undefined"===e.type&&u(e.$id)}function F(e){return x(e,"Union")&&u(e.$id)&&i.IsObject(e)&&i.IsArray(e.anyOf)&&e.anyOf.every(e=>z(e))}function _(e){return x(e,"Uint8Array")&&"Uint8Array"===e.type&&u(e.$id)&&s(e.minByteLength)&&s(e.maxByteLength)}function H(e){return x(e,"Unknown")&&u(e.$id)}function q(e){return x(e,"Unsafe")}function G(e){return x(e,"Void")&&"void"===e.type&&u(e.$id)}function z(e){return i.IsObject(e)&&(d(e)||p(e)||m(e)||y(e)||f(e)||T(e)||h(e)||g(e)||b(e)||v(e)||I(e)||P(e)||S(e)||N(e)||M(e)||$(e)||j(e)||A(e)||U(e)||C(e)||L(e)||R(e)||k(e)||B(e)||K(e)||V(e)||F(e)||_(e)||H(e)||q(e)||G(e)||w(e)&&r.Has(e[t.Kind]))}e.TAny=d,e.TArray=p,e.TAsyncIterator=f,e.TBigInt=y,e.TBoolean=m,e.TConstructor=T,e.TDate=h,e.TFunction=g,e.TInteger=b,e.TIntersect=v,e.TIterator=I,e.TKindOf=x,e.TKind=w,e.TLiteralString=O,e.TLiteralNumber=E,e.TLiteralBoolean=function(e){return P(e)&&i.IsBoolean(e.const)},e.TLiteral=P,e.TNever=S,e.TNot=N,e.TNull=M,e.TNumber=$,e.TObject=j,e.TPromise=A,e.TRecord=U,e.TRecursive=function(e){return i.IsObject(e)&&t.Hint in e&&"Recursive"===e[t.Hint]},e.TRef=C,e.TString=L,e.TSymbol=R,e.TTemplateLiteral=k,e.TThis=B,e.TTransform=D,e.TTuple=K,e.TUndefined=V,e.TUnionLiteral=function(e){return F(e)&&e.anyOf.every(e=>O(e)||E(e))},e.TUnion=F,e.TUint8Array=_,e.TUnknown=H,e.TUnsafe=q,e.TVoid=G,e.TReadonly=function(e){return i.IsObject(e)&&"Readonly"===e[t.Readonly]},e.TOptional=function(e){return i.IsObject(e)&&"Optional"===e[t.Optional]},e.TSchema=z}(o||(t.TypeGuard=o={})),(a||(t.ExtendsUndefined=a={})).Check=function e(r){return"Intersect"===r[t.Kind]?r.allOf.every(t=>e(t)):"Union"===r[t.Kind]?r.anyOf.some(t=>e(t)):"Undefined"===r[t.Kind]||"Not"===r[t.Kind]&&!e(r.not)};class P extends O{}t.TypeExtendsError=P,(w=s||(t.TypeExtendsResult=s={}))[w.Union=0]="Union",w[w.True=1]="True",w[w.False=2]="False",function(e){function r(e){return e===s.False?e:s.True}function n(e){throw new P(e)}function a(e){return o.TNever(e)||o.TIntersect(e)||o.TUnion(e)||o.TUnknown(e)||o.TAny(e)}function l(e,t){return o.TNever(t)?s.False:o.TIntersect(t)?d(e,t):o.TUnion(t)?O(e,t):o.TUnknown(t)?s.True:o.TAny(t)?s.True:n("StructuralRight")}function u(e,t){return o.TLiteral(e)&&i.IsBoolean(e.const)?s.True:o.TBoolean(e)?s.True:s.False}function c(e,t){return o.TLiteral(e)&&i.IsNumber(e.const)?s.True:o.TNumber(e)||o.TInteger(e)?s.True:s.False}function d(e,t){return t.allOf.every(t=>E(e,t)===s.True)?s.True:s.False}function p(e){let[r,n]=[e,0];for(;o.TNot(r);)r=r.not,n+=1;return n%2==0?r:t.Type.Unknown()}function f(e,t){return o.TLiteralNumber(e)?s.True:o.TNumber(e)||o.TInteger(e)?s.True:s.False}function y(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function m(e){return y(e,0)||y(e,1)&&"description"in e.properties&&o.TUnion(e.properties.description)&&2===e.properties.description.anyOf.length&&(o.TString(e.properties.description.anyOf[0])&&o.TUndefined(e.properties.description.anyOf[1])||o.TString(e.properties.description.anyOf[1])&&o.TUndefined(e.properties.description.anyOf[0]))}function T(e){let n=t.Type.Number();return y(e,0)||y(e,1)&&"length"in e.properties&&r(E(e.properties.length,n))===s.True}function g(e,t){return E(e,t)===s.False?s.False:o.TOptional(e)&&!o.TOptional(t)?s.False:s.True}function b(e,n){return o.TUnknown(e)?s.False:o.TAny(e)?s.Union:o.TNever(e)||o.TLiteralString(e)&&T(n)||o.TLiteralNumber(e)&&y(n,0)||o.TLiteralBoolean(e)&&y(n,0)||o.TSymbol(e)&&m(n)||o.TBigInt(e)&&y(n,0)||o.TString(e)&&T(n)||o.TSymbol(e)&&m(n)||o.TNumber(e)&&y(n,0)||o.TInteger(e)&&y(n,0)||o.TBoolean(e)&&y(n,0)||o.TUint8Array(e)&&T(n)||o.TDate(e)&&y(n,0)||o.TConstructor(e)&&y(n,0)||o.TFunction(e)&&function(e){let n=t.Type.Number();return y(e,0)||y(e,1)&&"length"in e.properties&&r(E(e.properties.length,n))===s.True}(n)?s.True:o.TRecord(e)&&o.TString(v(e))?"Record"===n[t.Hint]?s.True:s.False:o.TRecord(e)&&o.TNumber(v(e))&&y(n,0)?s.True:s.False}function v(e){return t.PatternNumberExact in e.patternProperties?t.Type.Number():t.PatternStringExact in e.patternProperties?t.Type.String():n("Unknown record key pattern")}function I(e){return t.PatternNumberExact in e.patternProperties?e.patternProperties[t.PatternNumberExact]:t.PatternStringExact in e.patternProperties?e.patternProperties[t.PatternStringExact]:n("Unable to get record value schema")}function x(e,t){let[n,i]=[v(t),I(t)];return o.TLiteralString(e)&&o.TNumber(n)&&r(E(e,i))===s.True?s.True:o.TUint8Array(e)&&o.TNumber(n)?E(e,i):o.TString(e)&&o.TNumber(n)?E(e,i):o.TArray(e)&&o.TNumber(n)?E(e,i):o.TObject(e)?(()=>{for(let t of Object.getOwnPropertyNames(e.properties))if(g(i,e.properties[t])===s.False)return s.False;return s.True})():s.False}function w(e,t){return o.TLiteral(e)&&i.IsString(e.const)?s.True:o.TString(e)?s.True:s.False}function O(e,t){return t.anyOf.some(t=>E(e,t)===s.True)?s.True:s.False}function E(e,m){return o.TTemplateLiteral(e)||o.TTemplateLiteral(m)?o.TTemplateLiteral(e)?E(h.Resolve(e),m):o.TTemplateLiteral(m)?E(e,h.Resolve(m)):n("Invalid fallthrough for TemplateLiteral"):o.TNot(e)||o.TNot(m)?o.TNot(e)?E(p(e),m):o.TNot(m)?E(e,p(m)):n("Invalid fallthrough for Not"):o.TAny(e)?o.TIntersect(m)?d(e,m):o.TUnion(m)&&m.anyOf.some(e=>o.TAny(e)||o.TUnknown(e))?s.True:o.TUnion(m)?s.Union:o.TUnknown(m)?s.True:o.TAny(m)?s.True:s.Union:o.TArray(e)?o.TObject(m)&&T(m)?s.True:a(m)?l(e,m):o.TArray(m)?r(E(e.items,m.items)):s.False:o.TBigInt(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TBigInt(m)?s.True:s.False:o.TBoolean(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TBoolean(m)?s.True:s.False:o.TAsyncIterator(e)?a(m)?l(e,m):o.TAsyncIterator(m)?r(E(e.items,m.items)):s.False:o.TConstructor(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TConstructor(m)?e.parameters.length>m.parameters.length?s.False:e.parameters.every((e,t)=>r(E(m.parameters[t],e))===s.True)?r(E(e.returns,m.returns)):s.False:s.False:o.TDate(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TDate(m)?s.True:s.False:o.TFunction(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TFunction(m)?e.parameters.length>m.parameters.length?s.False:e.parameters.every((e,t)=>r(E(m.parameters[t],e))===s.True)?r(E(e.returns,m.returns)):s.False:s.False:o.TInteger(e)?o.TInteger(m)||o.TNumber(m)?s.True:a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):s.False:o.TIntersect(e)?e.allOf.some(e=>E(e,m)===s.True)?s.True:s.False:o.TIterator(e)?a(m)?l(e,m):o.TIterator(m)?r(E(e.items,m.items)):s.False:o.TLiteral(e)?o.TLiteral(m)&&m.const===e.const?s.True:a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TString(m)?w(e,m):o.TNumber(m)?f(e,m):o.TInteger(m)?c(e,m):o.TBoolean(m)?u(e,m):s.False:o.TNever(e)?s.True:o.TNull(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TNull(m)?s.True:s.False:o.TNumber(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TInteger(m)||o.TNumber(m)?s.True:s.False:o.TObject(e)?a(m)?l(e,m):o.TRecord(m)?x(e,m):o.TObject(m)?(()=>{for(let t of Object.getOwnPropertyNames(m.properties)){if(!(t in e.properties)&&!o.TOptional(m.properties[t]))return s.False;if(o.TOptional(m.properties[t]))break;if(g(e.properties[t],m.properties[t])===s.False)return s.False}return s.True})():s.False:o.TRecord(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?E(I(e),I(m)):s.False:o.TString(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TString(m)?s.True:s.False:o.TSymbol(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TSymbol(m)?s.True:s.False:o.TTuple(e)?a(m)?l(e,m):o.TObject(m)&&T(m)?s.True:o.TArray(m)&&o.TArray(m)&&void 0!==e.items&&e.items.every(e=>E(e,m.items)===s.True)?s.True:o.TTuple(m)?i.IsUndefined(e.items)&&!i.IsUndefined(m.items)||!i.IsUndefined(e.items)&&i.IsUndefined(m.items)?s.False:i.IsUndefined(e.items)&&!i.IsUndefined(m.items)?s.True:e.items.every((e,t)=>E(e,m.items[t])===s.True)?s.True:s.False:s.False:o.TPromise(e)?a(m)?l(e,m):o.TObject(m)&&function(e){let n=t.Type.Function([t.Type.Any()],t.Type.Any());return y(e,0)||y(e,1)&&"then"in e.properties&&r(E(e.properties.then,n))===s.True}(m)?s.True:o.TPromise(m)?r(E(e.item,m.item)):s.False:o.TUint8Array(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TUint8Array(m)?s.True:s.False:o.TUndefined(e)?a(m)?l(e,m):o.TObject(m)?b(e,m):o.TRecord(m)?x(e,m):o.TVoid(m)?o.TUndefined(e)?s.True:o.TUndefined(e)?s.True:s.False:o.TUndefined(m)?s.True:s.False:o.TUnion(e)?e.anyOf.every(e=>E(e,m)===s.True)?s.True:s.False:o.TUnknown(e)?o.TNever(m)?s.False:o.TIntersect(m)?d(e,m):o.TUnion(m)?O(e,m):o.TAny(m)?s.True:o.TString(m)?w(e,m):o.TNumber(m)?f(e,m):o.TInteger(m)?c(e,m):o.TBoolean(m)?u(e,m):o.TArray(m)?o.TUnknown(e)?s.False:o.TAny(e)?s.Union:o.TNever(e)?s.True:s.False:o.TTuple(m)?o.TNever(e)?s.True:o.TUnknown(e)?s.False:o.TAny(e)?s.Union:s.False:o.TObject(m)?b(e,m):o.TUnknown(m)?s.True:s.False:o.TVoid(e)?o.TIntersect(m)?d(e,m):o.TUnion(m)?O(e,m):o.TUnknown(m)?s.True:o.TAny(m)?s.True:o.TObject(m)?b(e,m):o.TVoid(m)?s.True:s.False:n(`Unknown left type operand '${e[t.Kind]}'`)}e.Extends=function(e,t){return E(e,t)}}(l||(t.TypeExtends=l={})),function(e){function t(e,t={}){return{...function e(t){return i.IsArray(t)?t.map(t=>e(t)):i.IsDate(t)?new Date(t.getTime()):i.IsUint8Array(t)?new Uint8Array(t):i.IsObject(t)?function(t){let r=Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:e(t[n])}),{}),n=Object.getOwnPropertySymbols(t).reduce((r,n)=>({...r,[n]:e(t[n])}),{});return{...r,...n}}(t):t}(e),...t}}e.Rest=function(e){return e.map(e=>t(e))},e.Type=t}(u||(t.TypeClone=u={})),function(e){function r(e){return e.map(e=>{let{[t.Optional]:r,...n}=u.Type(e);return n})}function n(e){return"Intersect"===e[t.Kind]?e.allOf.every(e=>o.TOptional(e))?t.Type.Optional(t.Type.Intersect(r(e.allOf))):e:"Union"===e[t.Kind]&&e.anyOf.some(e=>o.TOptional(e))?t.Type.Optional(t.Type.Union(r(e.anyOf))):e}e.Resolve=function(e,r,o={}){let a=r.map(r=>(function e(r,o){return"Intersect"===r[t.Kind]?function(r,i){let o=r.allOf.reduce((r,n)=>{let o=e(n,i);return"Never"===o[t.Kind]?r:[...r,o]},[]);return n(t.Type.Intersect(o))}(r,o):"Union"===r[t.Kind]?function(r,i){let o=r.anyOf.map(t=>e(t,i));return n(t.Type.Union(o))}(r,o):"Object"===r[t.Kind]?function(e,r){let n=e.properties[r];return i.IsUndefined(n)?t.Type.Never():t.Type.Union([n])}(r,o):"Tuple"===r[t.Kind]?function(e,r){let n=e.items;if(i.IsUndefined(n))return t.Type.Never();let o=n[r];return i.IsUndefined(o)?t.Type.Never():o}(r,o):t.Type.Never()})(e,r.toString()));return n(t.Type.Union(a,o))}}(c||(t.IndexedAccessor=c={})),function(e){function r(e,t){return"string"==typeof e?"Uncapitalize"===t?function(e){let[t,r]=[e.slice(0,1),e.slice(1)];return`${t.toLowerCase()}${r}`}(e):"Capitalize"===t?function(e){let[t,r]=[e.slice(0,1),e.slice(1)];return`${t.toUpperCase()}${r}`}(e):"Uppercase"===t?e.toUpperCase():"Lowercase"===t?e.toLowerCase():e:e.toString()}function n(e,t){if(0===e.length)return[];let[r,...o]=e;return[i(r,t),...n(o,t)]}function i(e,i){return o.TTemplateLiteral(e)?function(e,i){let o=g.ParseExact(e.pattern);if(!b.Check(o))return{...e,pattern:r(e.pattern,i)};let a=n([...v.Generate(o)].map(e=>t.Type.Literal(e)),i),s=t.Type.Union(a);return t.Type.TemplateLiteral([s])}(e,i):o.TUnion(e)?t.Type.Union(n(e.anyOf,i)):o.TLiteral(e)?t.Type.Literal(r(e.const,i)):e}e.Map=i}(d||(t.Intrinsic=d={})),(p||(t.ObjectMap=p={})).Map=function(e,r,n){return{...function e(r,n){return"Intersect"===r[t.Kind]?t.Type.Intersect(r.allOf.map(t=>e(t,n)),{...r}):"Union"===r[t.Kind]?t.Type.Union(r.anyOf.map(t=>e(t,n)),{...r}):"Object"===r[t.Kind]?n(r):r}(u.Type(e),r),...n}},function(e){function t(e,t){return[...new Set(function e(t,r){return o.TIntersect(t)?t.allOf.reduce((t,n)=>[...t,...e(n,r)],[]):o.TUnion(t)?function(t,r){let n=t.anyOf.map(t=>e(t,r));return[...n.reduce((e,t)=>t.map(t=>n.every(e=>e.includes(t))?e.add(t):e)[0],new Set)]}(t,r):o.TObject(t)?Object.getOwnPropertyNames(t.properties):o.TRecord(t)&&r.includePatterns?Object.getOwnPropertyNames(t.patternProperties):[]}(e,t))]}e.ResolveKeys=t,e.ResolvePattern=function(e){let r=t(e,{includePatterns:!0}).map(e=>`(${"^"===e[0]&&"$"===e[e.length-1]?e.slice(1,e.length-1):e})`);return`^(${r.join("|")})$`}}(f||(t.KeyResolver=f={}));class S extends O{}t.KeyArrayResolverError=S,(y||(t.KeyArrayResolver=y={})).Resolve=function(e){return Array.isArray(e)?e:o.TUnionLiteral(e)?e.anyOf.map(e=>e.const.toString()):o.TLiteral(e)?[e.const]:o.TTemplateLiteral(e)?(()=>{let t=g.ParseExact(e.pattern);if(!b.Check(t))throw new S("Cannot resolve keys from infinite template expression");return[...v.Generate(t)]})():[]},(m||(t.UnionResolver=m={})).Resolve=function(e){return t.Type.Union([...function* e(r){for(let n of r.anyOf)"Union"===n[t.Kind]?yield*e(n):yield n}(e)],{...e})};class N extends O{}t.TemplateLiteralPatternError=N,(T||(t.TemplateLiteralPattern=T={})).Create=function(e){return`^${e.map(e=>(function e(r,n){return o.TTemplateLiteral(r)?r.pattern.slice(1,r.pattern.length-1):o.TUnion(r)?`(${r.anyOf.map(t=>e(t,n)).join("|")})`:o.TNumber(r)?`${n}${t.PatternNumber}`:o.TInteger(r)?`${n}${t.PatternNumber}`:o.TBigInt(r)?`${n}${t.PatternNumber}`:o.TString(r)?`${n}${t.PatternString}`:o.TLiteral(r)?`${n}${r.const.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`:o.TBoolean(r)?`${n}${t.PatternBoolean}`:function(e){throw new N(e)}(`Unexpected Kind '${r[t.Kind]}'`)})(e,"")).join("")}$`},(h||(t.TemplateLiteralResolver=h={})).Resolve=function(e){let r=g.ParseExact(e.pattern);if(!b.Check(r))return t.Type.String();let n=[...v.Generate(r)].map(e=>t.Type.Literal(e));return t.Type.Union(n)};class M extends O{}t.TemplateLiteralParserError=M,function(e){function t(e,t,r){return e[t]===r&&92!==e.charCodeAt(t-1)}function r(e,r){return t(e,r,"(")}function n(e,r){return t(e,r,")")}function i(e){return!function(e){if(!(r(e,0)&&n(e,e.length-1)))return!1;let t=0;for(let i=0;i<e.length;i++)if(r(e,i)&&(t+=1),n(e,i)&&(t-=1),0===t&&i!==e.length-1)return!1;return!0}(e)?!function(e){let i=0;for(let o=0;o<e.length;o++)if(r(e,o)&&(i+=1),n(e,o)&&(i-=1),t(e,o,"|")&&0===i)return!0;return!1}(e)?!function(e){for(let t=0;t<e.length;t++)if(r(e,t))return!0;return!1}(e)?{type:"const",const:e}:function(e){let t=[];for(let o=0;o<e.length;o++)if(r(e,o)){let[a,s]=function(e,t){if(!r(e,t))throw new M("TemplateLiteralParser: Index must point to open parens");let i=0;for(let o=t;o<e.length;o++)if(r(e,o)&&(i+=1),n(e,o)&&(i-=1),0===i)return[t,o];throw new M("TemplateLiteralParser: Unclosed group parens in expression")}(e,o),l=e.slice(a,s+1);t.push(i(l)),o=s}else{let[n,a]=function(e,t){for(let n=t;n<e.length;n++)if(r(e,n))return[t,n];return[t,e.length]}(e,o),s=e.slice(n,a);s.length>0&&t.push(i(s)),o=a-1}return 0===t.length?{type:"const",const:""}:1===t.length?t[0]:{type:"and",expr:t}}(e):function(e){let[o,a]=[0,0],s=[];for(let l=0;l<e.length;l++)if(r(e,l)&&(o+=1),n(e,l)&&(o-=1),t(e,l,"|")&&0===o){let t=e.slice(a,l);t.length>0&&s.push(i(t)),a=l+1}let l=e.slice(a);return(l.length>0&&s.push(i(l)),0===s.length)?{type:"const",const:""}:1===s.length?s[0]:{type:"or",expr:s}}(e):i(e.slice(1,e.length-1))}e.Parse=i,e.ParseExact=function(e){return i(e.slice(1,e.length-1))}}(g||(t.TemplateLiteralParser=g={}));class $ extends O{}t.TemplateLiteralFiniteError=$,(b||(t.TemplateLiteralFinite=b={})).Check=function e(t){return!!("or"===t.type&&2===t.expr.length&&"const"===t.expr[0].type&&"true"===t.expr[0].const&&"const"===t.expr[1].type&&"false"===t.expr[1].const)||!("or"===t.type&&2===t.expr.length&&"const"===t.expr[0].type&&"0"===t.expr[0].const&&"const"===t.expr[1].type&&"[1-9][0-9]*"===t.expr[1].const||"const"===t.type&&".*"===t.const)&&("and"===t.type?t.expr.every(t=>e(t)):"or"===t.type?t.expr.every(t=>e(t)):"const"===t.type||function(e){throw new $(e)}("Unknown expression type"))};class j extends O{}t.TemplateLiteralGeneratorError=j,(v||(t.TemplateLiteralGenerator=v={})).Generate=function* e(t){return"and"===t.type?yield*function*(t){return yield*function* e(t){if(1===t.length)return yield*t[0];for(let r of t[0])for(let n of e(t.slice(1)))yield`${r}${n}`}(t.expr.map(t=>[...e(t)]))}(t):"or"===t.type?yield*function*(t){for(let r of t.expr)yield*e(r)}(t):"const"===t.type?yield*function*(e){return yield e.const}(t):(()=>{throw new j("Unknown expression")})()},(I||(t.TemplateLiteralDslParser=I={})).Parse=function(e){return[...function* e(r){for(let n=0;n<r.length;n++)if("$"===r[n]){let i=t.Type.Literal(r.slice(0,n)),o=function*(r){if("{"!==r[1]){let n=t.Type.Literal("$"),i=e(r.slice(1));return yield*[n,...i]}for(let n=2;n<r.length;n++)if("}"===r[n]){let i=function*(e){let r=e.trim().replace(/"|'/g,"");return"boolean"===r?yield t.Type.Boolean():"number"===r?yield t.Type.Number():"bigint"===r?yield t.Type.BigInt():"string"===r?yield t.Type.String():yield(()=>{let e=r.split("|").map(e=>t.Type.Literal(e.trim()));return 0===e.length?t.Type.Never():1===e.length?e[0]:t.Type.Union(e)})()}(r.slice(2,n)),o=e(r.slice(n+1));return yield*[...i,...o]}yield t.Type.Literal(r)}(r.slice(n));return yield*[i,...o]}yield t.Type.Literal(r)}(e)]};class A{constructor(e){this.schema=e}Decode(e){return new U(this.schema,e)}}t.TransformDecodeBuilder=A;class U{constructor(e,t){this.schema=e,this.decode=t}Encode(e){let r=u.Type(this.schema);return o.TTransform(r)?{...r,[t.Transform]:{Encode:n=>r[t.Transform].Encode(e(n)),Decode:e=>this.decode(r[t.Transform].Decode(e))}}:(()=>{let n={Decode:this.decode,Encode:e};return{...r,[t.Transform]:n}})()}}t.TransformEncodeBuilder=U;let C=0;class L extends O{}t.TypeBuilderError=L;class R{Create(e){return e}Throw(e){throw new L(e)}Discard(e,t){return t.reduce((e,t)=>{let{[t]:r,...n}=e;return n},e)}Strict(e){return JSON.parse(JSON.stringify(e))}}t.TypeBuilder=R;class k extends R{ReadonlyOptional(e){return this.Readonly(this.Optional(e))}Readonly(e){return{...u.Type(e),[t.Readonly]:"Readonly"}}Optional(e){return{...u.Type(e),[t.Optional]:"Optional"}}Any(e={}){return this.Create({...e,[t.Kind]:"Any"})}Array(e,r={}){return this.Create({...r,[t.Kind]:"Array",type:"array",items:u.Type(e)})}Boolean(e={}){return this.Create({...e,[t.Kind]:"Boolean",type:"boolean"})}Capitalize(e,t={}){return{...d.Map(u.Type(e),"Capitalize"),...t}}Composite(e,r){let n=t.Type.Intersect(e,{}),i=f.ResolveKeys(n,{includePatterns:!1}).reduce((e,r)=>({...e,[r]:t.Type.Index(n,[r])}),{});return t.Type.Object(i,r)}Enum(e,r={}){if(i.IsUndefined(e))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(e).filter(e=>isNaN(e)).map(t=>e[t]),o=[...new Set(n)].map(e=>t.Type.Literal(e));return this.Union(o,{...r,[t.Hint]:"Enum"})}Extends(e,t,r,n,i={}){switch(l.Extends(e,t)){case s.Union:return this.Union([u.Type(r,i),u.Type(n,i)]);case s.True:return u.Type(r,i);case s.False:return u.Type(n,i)}}Exclude(e,t,r={}){return o.TTemplateLiteral(e)?this.Exclude(h.Resolve(e),t,r):o.TTemplateLiteral(t)?this.Exclude(e,h.Resolve(t),r):o.TUnion(e)?(()=>{let n=e.anyOf.filter(e=>l.Extends(e,t)===s.False);return 1===n.length?u.Type(n[0],r):this.Union(n,r)})():l.Extends(e,t)!==s.False?this.Never(r):u.Type(e,r)}Extract(e,t,r={}){return o.TTemplateLiteral(e)?this.Extract(h.Resolve(e),t,r):o.TTemplateLiteral(t)?this.Extract(e,h.Resolve(t),r):o.TUnion(e)?(()=>{let n=e.anyOf.filter(e=>l.Extends(e,t)!==s.False);return 1===n.length?u.Type(n[0],r):this.Union(n,r)})():l.Extends(e,t)!==s.False?u.Type(e,r):this.Never(r)}Index(e,t,r={}){return o.TArray(e)&&o.TNumber(t)?u.Type(e.items,r):o.TTuple(e)&&o.TNumber(t)?(()=>{let t=(i.IsUndefined(e.items)?[]:e.items).map(e=>u.Type(e));return this.Union(t,r)})():(()=>{let n=y.Resolve(t),i=u.Type(e);return c.Resolve(i,n,r)})()}Integer(e={}){return this.Create({...e,[t.Kind]:"Integer",type:"integer"})}Intersect(e,r={}){if(0===e.length)return t.Type.Never();if(1===e.length)return u.Type(e[0],r);e.some(e=>o.TTransform(e))&&this.Throw("Cannot intersect transform types");let n=e.every(e=>o.TObject(e)),i=u.Rest(e),a=o.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:u.Type(r.unevaluatedProperties)}:{};return!1===r.unevaluatedProperties||o.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...a,[t.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...r,...a,[t.Kind]:"Intersect",allOf:i})}KeyOf(e,r={}){return o.TRecord(e)?(()=>{let n=Object.getOwnPropertyNames(e.patternProperties)[0];return n===t.PatternNumberExact?this.Number(r):n===t.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():o.TTuple(e)?(()=>{let n=(i.IsUndefined(e.items)?[]:e.items).map((e,r)=>t.Type.Literal(r.toString()));return this.Union(n,r)})():o.TArray(e)?this.Number(r):(()=>{let t=f.ResolveKeys(e,{includePatterns:!1});if(0===t.length)return this.Never(r);let n=t.map(e=>this.Literal(e));return this.Union(n,r)})()}Literal(e,r={}){return this.Create({...r,[t.Kind]:"Literal",const:e,type:typeof e})}Lowercase(e,t={}){return{...d.Map(u.Type(e),"Lowercase"),...t}}Never(e={}){return this.Create({...e,[t.Kind]:"Never",not:{}})}Not(e,r){return this.Create({...r,[t.Kind]:"Not",not:u.Type(e)})}Null(e={}){return this.Create({...e,[t.Kind]:"Null",type:"null"})}Number(e={}){return this.Create({...e,[t.Kind]:"Number",type:"number"})}Object(e,r={}){let n=Object.getOwnPropertyNames(e),i=n.filter(t=>o.TOptional(e[t])),a=n.filter(e=>!i.includes(e)),s=o.TSchema(r.additionalProperties)?{additionalProperties:u.Type(r.additionalProperties)}:{},l=n.reduce((t,r)=>({...t,[r]:u.Type(e[r])}),{});return a.length>0?this.Create({...r,...s,[t.Kind]:"Object",type:"object",properties:l,required:a}):this.Create({...r,...s,[t.Kind]:"Object",type:"object",properties:l})}Omit(e,r,n={}){let o=y.Resolve(r);return p.Map(this.Discard(u.Type(e),["$id",t.Transform]),e=>{for(let t of(i.IsArray(e.required)&&(e.required=e.required.filter(e=>!o.includes(e)),0===e.required.length&&delete e.required),Object.getOwnPropertyNames(e.properties)))o.includes(t)&&delete e.properties[t];return this.Create(e)},n)}Partial(e,r={}){return p.Map(this.Discard(u.Type(e),["$id",t.Transform]),e=>{let t=Object.getOwnPropertyNames(e.properties).reduce((t,r)=>({...t,[r]:this.Optional(e.properties[r])}),{});return this.Object(t,this.Discard(e,["required"]))},r)}Pick(e,r,n={}){let o=y.Resolve(r);return p.Map(this.Discard(u.Type(e),["$id",t.Transform]),e=>{for(let t of(i.IsArray(e.required)&&(e.required=e.required.filter(e=>o.includes(e)),0===e.required.length&&delete e.required),Object.getOwnPropertyNames(e.properties)))o.includes(t)||delete e.properties[t];return this.Create(e)},n)}Record(e,r,n={}){return o.TTemplateLiteral(e)?(()=>{let i=g.ParseExact(e.pattern);return b.Check(i)?this.Object([...v.Generate(i)].reduce((e,t)=>({...e,[t]:u.Type(r)}),{}),n):this.Create({...n,[t.Kind]:"Record",type:"object",patternProperties:{[e.pattern]:u.Type(r)}})})():o.TUnion(e)?(()=>{let i=m.Resolve(e);if(o.TUnionLiteral(i)){let e=i.anyOf.reduce((e,t)=>({...e,[t.const]:u.Type(r)}),{});return this.Object(e,{...n,[t.Hint]:"Record"})}this.Throw("Record key of type union contains non-literal types")})():o.TLiteral(e)?i.IsString(e.const)||i.IsNumber(e.const)?this.Object({[e.const]:u.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):o.TInteger(e)||o.TNumber(e)?this.Create({...n,[t.Kind]:"Record",type:"object",patternProperties:{[t.PatternNumberExact]:u.Type(r)}}):o.TString(e)?(()=>{let o=i.IsUndefined(e.pattern)?t.PatternStringExact:e.pattern;return this.Create({...n,[t.Kind]:"Record",type:"object",patternProperties:{[o]:u.Type(r)}})})():this.Never()}Recursive(e,r={}){i.IsUndefined(r.$id)&&(r.$id=`T${C++}`);let n=e({[t.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[t.Hint]:"Recursive",...n})}Ref(e,r={}){return i.IsString(e)?this.Create({...r,[t.Kind]:"Ref",$ref:e}):(i.IsUndefined(e.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[t.Kind]:"Ref",$ref:e.$id}))}Required(e,r={}){return p.Map(this.Discard(u.Type(e),["$id",t.Transform]),e=>{let r=Object.getOwnPropertyNames(e.properties).reduce((r,n)=>({...r,[n]:this.Discard(e.properties[n],[t.Optional])}),{});return this.Object(r,e)},r)}Rest(e){return o.TTuple(e)&&!i.IsUndefined(e.items)?u.Rest(e.items):o.TIntersect(e)?u.Rest(e.allOf):o.TUnion(e)?u.Rest(e.anyOf):[]}String(e={}){return this.Create({...e,[t.Kind]:"String",type:"string"})}TemplateLiteral(e,r={}){let n=i.IsString(e)?T.Create(I.Parse(e)):T.Create(e);return this.Create({...r,[t.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(e){return new A(e)}Tuple(e,r={}){let[n,i,o]=[!1,e.length,e.length],a=u.Rest(e),s=e.length>0?{...r,[t.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:i,maxItems:o}:{...r,[t.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(s)}Uncapitalize(e,t={}){return{...d.Map(u.Type(e),"Uncapitalize"),...t}}Union(e,r={}){return o.TTemplateLiteral(e)?h.Resolve(e):(()=>{if(0===e.length)return this.Never(r);if(1===e.length)return this.Create(u.Type(e[0],r));let n=u.Rest(e);return this.Create({...r,[t.Kind]:"Union",anyOf:n})})()}Unknown(e={}){return this.Create({...e,[t.Kind]:"Unknown"})}Unsafe(e={}){return this.Create({...e,[t.Kind]:e[t.Kind]||"Unsafe"})}Uppercase(e,t={}){return{...d.Map(u.Type(e),"Uppercase"),...t}}}t.JsonTypeBuilder=k;class B extends k{AsyncIterator(e,r={}){return this.Create({...r,[t.Kind]:"AsyncIterator",type:"AsyncIterator",items:u.Type(e)})}Awaited(e,r={}){let n=e=>e.length>0?(()=>{let[t,...r]=e;return[this.Awaited(t),...n(r)]})():e;return o.TIntersect(e)?t.Type.Intersect(n(e.allOf)):o.TUnion(e)?t.Type.Union(n(e.anyOf)):o.TPromise(e)?this.Awaited(e.item):u.Type(e,r)}BigInt(e={}){return this.Create({...e,[t.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(e,t={}){return this.Tuple([...e.parameters],{...t})}Constructor(e,r,n){let[i,o]=[u.Rest(e),u.Type(r)];return this.Create({...n,[t.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(e={}){return this.Create({...e,[t.Kind]:"Date",type:"Date"})}Function(e,r,n){let[i,o]=[u.Rest(e),u.Type(r)];return this.Create({...n,[t.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(e,t={}){return u.Type(e.returns,t)}Iterator(e,r={}){return this.Create({...r,[t.Kind]:"Iterator",type:"Iterator",items:u.Type(e)})}Parameters(e,t={}){return this.Tuple(e.parameters,{...t})}Promise(e,r={}){return this.Create({...r,[t.Kind]:"Promise",type:"Promise",item:u.Type(e)})}RegExp(e,r={}){let n=i.IsString(e)?e:e.source;return this.Create({...r,[t.Kind]:"String",type:"string",pattern:n})}RegEx(e,t={}){return this.RegExp(e,t)}ReturnType(e,t={}){return u.Type(e.returns,t)}Symbol(e){return this.Create({...e,[t.Kind]:"Symbol",type:"symbol"})}Undefined(e={}){return this.Create({...e,[t.Kind]:"Undefined",type:"undefined"})}Uint8Array(e={}){return this.Create({...e,[t.Kind]:"Uint8Array",type:"Uint8Array"})}Void(e={}){return this.Create({...e,[t.Kind]:"Void",type:"void"})}}t.JavaScriptTypeBuilder=B,t.JsonType=new k,t.Type=new B},51634:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Cast=t.Default=t.DefaultClone=t.ValueCastUnknownTypeError=t.ValueCastRecursiveTypeError=t.ValueCastNeverTypeError=t.ValueCastArrayUniqueItemsTypeError=void 0;let i=r(20020),o=r(3587),a=r(31237),s=r(20056),l=r(75952),u=r(66501);class c extends u.TypeBoxError{constructor(e,t){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=e,this.value=t}}t.ValueCastArrayUniqueItemsTypeError=c;class d extends u.TypeBoxError{constructor(e){super("Never types cannot be cast"),this.schema=e}}t.ValueCastNeverTypeError=d;class p extends u.TypeBoxError{constructor(e){super("Cannot cast recursive schemas"),this.schema=e}}t.ValueCastRecursiveTypeError=p;class f extends u.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function y(e,t,r){return(0,a.Check)(e,t,r)?(0,s.Clone)(r):(0,o.Create)(e,t)}function m(e,t,r){return(0,a.Check)(e,t,r)?r:(0,o.Create)(e,t)}function T(e,t,r){let p=(0,i.IsString)(e.$id)?[...t,e]:t;switch(e[u.Kind]){case"Array":return function(e,t,r){if((0,a.Check)(e,t,r))return(0,s.Clone)(r);let n=(0,i.IsArray)(r)?(0,s.Clone)(r):(0,o.Create)(e,t),l=(0,i.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,u=((0,i.IsNumber)(e.maxItems)&&l.length>e.maxItems?l.slice(0,e.maxItems):l).map(r=>T(e.items,t,r));if(!0!==e.uniqueItems)return u;let d=[...new Set(u)];if(!(0,a.Check)(e,t,d))throw new c(e,d);return d}(e,p,r);case"Constructor":return function(e,t,r){if((0,a.Check)(e,t,r))return(0,o.Create)(e,t);let n=new Set(e.returns.required||[]),i=function(){};for(let[o,a]of Object.entries(e.returns.properties))(n.has(o)||void 0!==r.prototype[o])&&(i.prototype[o]=T(a,t,r.prototype[o]));return i}(e,p,r);case"Intersect":return function(e,t,r){let n=(0,o.Create)(e,t),s=(0,i.IsPlainObject)(n)&&(0,i.IsPlainObject)(r)?{...n,...r}:r;return(0,a.Check)(e,t,s)?s:(0,o.Create)(e,t)}(e,p,r);case"Never":return function(e,t,r){throw new d(e)}(e,0,0);case"Object":return function(e,t,r){if((0,a.Check)(e,t,r))return r;if(null===r||"object"!=typeof r)return(0,o.Create)(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))(n.has(o)||void 0!==r[o])&&(i[o]=T(a,t,r[o]));if("object"==typeof e.additionalProperties){let n=Object.getOwnPropertyNames(e.properties);for(let o of Object.getOwnPropertyNames(r))n.includes(o)||(i[o]=T(e.additionalProperties,t,r[o]))}return i}(e,p,r);case"Record":return function(e,t,r){if((0,a.Check)(e,t,r))return(0,s.Clone)(r);if(null===r||"object"!=typeof r||Array.isArray(r)||r instanceof Date)return(0,o.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],l={};for(let[e,n]of Object.entries(r))l[e]=T(i,t,n);return l}(e,p,r);case"Ref":case"This":return T((0,l.Deref)(e,p),p,r);case"Tuple":return(0,a.Check)(e,p,r)?(0,s.Clone)(r):(0,i.IsArray)(r)?void 0===e.items?[]:e.items.map((e,t)=>T(e,p,r[t])):(0,o.Create)(e,p);case"Union":return(0,a.Check)(e,p,r)?(0,s.Clone)(r):n.Create(e,p,r);case"Date":case"Symbol":case"Uint8Array":return y(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return m(e,p,r);default:if(!u.TypeRegistry.Has(e[u.Kind]))throw new f(e);return m(e,p,r)}}function h(...e){return 3===e.length?T(e[0],e[1],e[2]):T(e[0],[],e[1])}t.ValueCastUnknownTypeError=f,(n||(n={})).Create=function(e,t,r){return"default"in e?e.default:h(function(e,t,r){let[n,o]=[e.anyOf[0],0];for(let s of e.anyOf){let e=function(e,t,r){if("Object"!==e[u.Kind]||"object"!=typeof r||(0,i.IsNull)(r))return(0,a.Check)(e,t,r)?1:0;{let n=Object.getOwnPropertyNames(r),i=Object.entries(e.properties),[o,s]=[1/i.length,i.length];return i.reduce((e,[i,l])=>e+(("Literal"===l[u.Kind]&&l.const===r[i]?s:0)+((0,a.Check)(l,t,r[i])?o:0)+(n.includes(i)?o:0)),0)}}(s,t,r);e>o&&(n=s,o=e)}return n}(e,t,r),t,r)},t.DefaultClone=y,t.Default=m,t.Cast=h},31237:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Check=t.ValueCheckUnknownTypeError=void 0;let n=r(20020),i=r(99994),o=r(75952),a=r(10940),s=r(66501);class l extends s.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function u(e){return void 0!==e}function c(e,t,r){let d=u(e.$id)?[...t,e]:t;switch(e[s.Kind]){case"Any":case"Unknown":return!0;case"Array":return function(e,t,r){if(!(0,n.IsArray)(r)||u(e.minItems)&&!(r.length>=e.minItems)||u(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(r=>c(e.items,t,r))||!0===e.uniqueItems&&!function(){let e=new Set;for(let t of r){let r=(0,a.Hash)(t);if(e.has(r))return!1;e.add(r)}return!0}())return!1;if(!(u(e.contains)||(0,n.IsNumber)(e.minContains)||(0,n.IsNumber)(e.maxContains)))return!0;let i=u(e.contains)?e.contains:s.Type.Never(),o=r.reduce((e,r)=>c(i,t,r)?e+1:e,0);return!(0===o||(0,n.IsNumber)(e.minContains)&&o<e.minContains||(0,n.IsNumber)(e.maxContains)&&o>e.maxContains)}(e,d,r);case"AsyncIterator":return(0,n.IsAsyncIterator)(r);case"BigInt":return!(!(0,n.IsBigInt)(r)||u(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||u(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||u(e.maximum)&&!(r<=e.maximum)||u(e.minimum)&&!(r>=e.minimum)||u(e.multipleOf)&&r%e.multipleOf!==BigInt(0));case"Boolean":return(0,n.IsBoolean)(r);case"Constructor":return c(e.returns,d,r.prototype);case"Date":return!(!(0,n.IsDate)(r)||u(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||u(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||u(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||u(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||u(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!=0);case"Function":return(0,n.IsFunction)(r);case"Integer":return!(!(0,n.IsInteger)(r)||u(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||u(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||u(e.maximum)&&!(r<=e.maximum)||u(e.minimum)&&!(r>=e.minimum)||u(e.multipleOf)&&r%e.multipleOf!=0);case"Intersect":return function(e,t,r){let n=e.allOf.every(e=>c(e,t,r));if(!1===e.unevaluatedProperties){let t=new RegExp(s.KeyResolver.ResolvePattern(e)),i=Object.getOwnPropertyNames(r).every(e=>t.test(e));return n&&i}if(!s.TypeGuard.TSchema(e.unevaluatedProperties))return n;{let i=new RegExp(s.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(n=>i.test(n)||c(e.unevaluatedProperties,t,r[n]));return n&&o}}(e,d,r);case"Iterator":return(0,n.IsIterator)(r);case"Literal":return r===e.const;case"Never":return!1;case"Not":return!c(e.not,d,r);case"Null":return(0,n.IsNull)(r);case"Number":return!(!i.TypeSystemPolicy.IsNumberLike(r)||u(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||u(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||u(e.minimum)&&!(r>=e.minimum)||u(e.maximum)&&!(r<=e.maximum)||u(e.multipleOf)&&r%e.multipleOf!=0);case"Object":return function(e,t,r){if(!i.TypeSystemPolicy.IsObjectLike(r)||u(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||u(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let a of n){let n=e.properties[a];if(e.required&&e.required.includes(a)){var o;if(!c(n,t,r[a])||(s.ExtendsUndefined.Check(n)||"Any"===(o=n)[s.Kind]||"Unknown"===o[s.Kind])&&!(a in r))return!1}else if(i.TypeSystemPolicy.IsExactOptionalProperty(r,a)&&!c(n,t,r[a]))return!1}if(!1===e.additionalProperties){let t=Object.getOwnPropertyNames(r);return!!e.required&&e.required.length===n.length&&t.length===n.length||t.every(e=>n.includes(e))}return"object"!=typeof e.additionalProperties||Object.getOwnPropertyNames(r).every(i=>n.includes(i)||c(e.additionalProperties,t,r[i]))}(e,d,r);case"Promise":return(0,n.IsPromise)(r);case"Record":return function(e,t,r){if(!i.TypeSystemPolicy.IsRecordLike(r)||u(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||u(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,o]=Object.entries(e.patternProperties)[0],a=new RegExp(n),s=Object.entries(r).every(([e,r])=>!a.test(e)||c(o,t,r)),l="object"!=typeof e.additionalProperties||Object.entries(r).every(([r,n])=>!!a.test(r)||c(e.additionalProperties,t,n)),d=!1!==e.additionalProperties||Object.getOwnPropertyNames(r).every(e=>a.test(e));return s&&l&&d}(e,d,r);case"Ref":case"This":return c((0,o.Deref)(e,d),d,r);case"String":return!(!(0,n.IsString)(r)||u(e.minLength)&&!(r.length>=e.minLength)||u(e.maxLength)&&!(r.length<=e.maxLength)||u(e.pattern)&&!new RegExp(e.pattern).test(r))&&(!u(e.format)||!!s.FormatRegistry.Has(e.format)&&s.FormatRegistry.Get(e.format)(r));case"Symbol":return(0,n.IsSymbol)(r);case"TemplateLiteral":return(0,n.IsString)(r)&&new RegExp(e.pattern).test(r);case"Tuple":return function(e,t,r){if(!(0,n.IsArray)(r)||void 0===e.items&&0!==r.length||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!c(e.items[n],t,r[n]))return!1;return!0}(e,d,r);case"Undefined":return(0,n.IsUndefined)(r);case"Union":return e.anyOf.some(e=>c(e,d,r));case"Uint8Array":return!(!(0,n.IsUint8Array)(r)||u(e.maxByteLength)&&!(r.length<=e.maxByteLength)||u(e.minByteLength)&&!(r.length>=e.minByteLength));case"Void":return i.TypeSystemPolicy.IsVoidLike(r);default:if(!s.TypeRegistry.Has(e[s.Kind]))throw new l(e);return!!s.TypeRegistry.Has(e[s.Kind])&&s.TypeRegistry.Get(e[s.Kind])(e,r)}}t.ValueCheckUnknownTypeError=l,t.Check=function(...e){return 3===e.length?c(e[0],e[1],e[2]):c(e[0],[],e[1])}},20056:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Clone=void 0;let n=r(20020);t.Clone=function e(t){if((0,n.IsArray)(t))return t.map(t=>e(t));if((0,n.IsDate)(t))return new Date(t.toISOString());if((0,n.IsPlainObject)(t))return[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((r,n)=>({...r,[n]:e(t[n])}),{});if((0,n.IsTypedArray)(t))return t.slice();if((0,n.IsValueType)(t))return t;throw Error("ValueClone: Unable to clone value")}},17544:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Convert=t.Default=t.ValueConvertUnknownTypeError=void 0;let n=r(20020),i=r(20056),o=r(31237),a=r(75952),s=r(66501);class l extends s.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function u(e){return(0,n.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}function c(e){return!0===e||(0,n.IsNumber)(e)&&1===e||(0,n.IsBigInt)(e)&&e===BigInt("1")||(0,n.IsString)(e)&&("true"===e.toLowerCase()||"1"===e)}function d(e){return!1===e||(0,n.IsNumber)(e)&&(0===e||Object.is(e,-0))||(0,n.IsBigInt)(e)&&e===BigInt("0")||(0,n.IsString)(e)&&("false"===e.toLowerCase()||"0"===e||"-0"===e)}function p(e){return!!c(e)||!d(e)&&e}function f(e){return(0,n.IsBigInt)(e)||(0,n.IsBoolean)(e)||(0,n.IsNumber)(e)?e.toString():(0,n.IsSymbol)(e)&&void 0!==e.description?e.description.toString():e}function y(e){return u(e)?parseFloat(e):c(e)?1:d(e)?0:e}function m(e,t,r){let T=(0,n.IsString)(e.$id)?[...t,e]:t;switch(e[s.Kind]){case"Array":return(0,n.IsArray)(r)?r.map(t=>m(e.items,T,t)):r;case"BigInt":return u(r)?BigInt(parseInt(r)):(0,n.IsNumber)(r)?BigInt(0|r):d(r)?BigInt(0):c(r)?BigInt(1):r;case"Boolean":return p(r);case"Date":return(0,n.IsDate)(r)?r:(0,n.IsNumber)(r)?new Date(r):c(r)?new Date(1):d(r)?new Date(0):u(r)?new Date(parseInt(r)):(0,n.IsString)(r)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(r)?new Date(`1970-01-01T${r}.000Z`):(0,n.IsString)(r)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(r)?new Date(`1970-01-01T${r}`):(0,n.IsString)(r)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(r)?new Date(`${r}.000Z`):(0,n.IsString)(r)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(r)?new Date(r):(0,n.IsString)(r)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(r)?new Date(`${r}T00:00:00.000Z`):r;case"Integer":return u(r)?parseInt(r):(0,n.IsNumber)(r)?0|r:c(r)?1:d(r)?0:r;case"Intersect":return e.allOf.every(e=>s.TypeGuard.TObject(e))?m(s.Type.Composite(e.allOf),T,r):m(e.allOf[0],T,r);case"Literal":return"string"==typeof e.const?function(e,t){let r=f(e);return r===t?r:e}(r,e.const):"number"==typeof e.const?function(e,t){let r=y(e);return r===t?r:e}(r,e.const):"boolean"==typeof e.const?function(e,t){let r=p(e);return r===t?r:e}(r,e.const):(0,i.Clone)(r);case"Null":return(0,n.IsString)(r)&&"null"===r.toLowerCase()?null:r;case"Number":return y(r);case"Object":return(0,n.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((t,n)=>void 0!==r[n]?{...t,[n]:m(e.properties[n],T,r[n])}:{...t},r):r;case"Record":return function(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[e,n]of Object.entries(r))o[e]=m(i,t,n);return o}(e,T,r);case"Ref":case"This":return m((0,a.Deref)(e,T),T,r);case"String":return f(r);case"Symbol":return(0,n.IsString)(r)||(0,n.IsNumber)(r)?Symbol(r):r;case"Tuple":return(0,n.IsArray)(r)&&!(0,n.IsUndefined)(e.items)?r.map((t,r)=>r<e.items.length?m(e.items[r],T,t):t):r;case"Undefined":return(0,n.IsString)(r)&&"undefined"===r?void 0:r;case"Union":return function(e,t,r){for(let n of e.anyOf){let e=m(n,t,r);if((0,o.Check)(n,t,e))return e}return r}(e,T,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!s.TypeRegistry.Has(e[s.Kind]))throw new l(e);return r}}t.ValueConvertUnknownTypeError=l,t.Default=function(e){return e},t.Convert=function(...e){return 3===e.length?m(e[0],e[1],e[2]):m(e[0],[],e[1])}},3587:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Create=t.ValueCreateRecursiveInstantiationError=t.ValueCreateTempateLiteralTypeError=t.ValueCreateIntersectTypeError=t.ValueCreateNotTypeError=t.ValueCreateNeverTypeError=t.ValueCreateUnknownTypeError=void 0;let n=r(20020),i=r(31237),o=r(75952),a=r(66501);class s extends a.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}t.ValueCreateUnknownTypeError=s;class l extends a.TypeBoxError{constructor(e){super("Never types cannot be created"),this.schema=e}}t.ValueCreateNeverTypeError=l;class u extends a.TypeBoxError{constructor(e){super("Not types must have a default value"),this.schema=e}}t.ValueCreateNotTypeError=u;class c extends a.TypeBoxError{constructor(e){super("Intersect produced invalid value. Consider using a default value."),this.schema=e}}t.ValueCreateIntersectTypeError=c;class d extends a.TypeBoxError{constructor(e){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=e}}t.ValueCreateTempateLiteralTypeError=d;class p extends a.TypeBoxError{constructor(e,t){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=e,this.recursiveMaxDepth=t}}function f(e,t){let r=(0,n.IsString)(e.$id)?[...t,e]:t;switch(e[a.Kind]){case"Any":case"Unknown":return(0,n.HasPropertyKey)(e,"default")?e.default:{};case"Array":return function(e,t){if(!0!==e.uniqueItems||(0,n.HasPropertyKey)(e,"default")){if("contains"in e&&!(0,n.HasPropertyKey)(e,"default"))throw Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:void 0!==e.minItems?Array.from({length:e.minItems}).map(r=>f(e.items,t)):[]}throw Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value")}(e,r);case"AsyncIterator":return(0,n.HasPropertyKey)(e,"default")?e.default:async function*(){}();case"BigInt":return(0,n.HasPropertyKey)(e,"default")?e.default:BigInt(0);case"Boolean":return!!(0,n.HasPropertyKey)(e,"default")&&e.default;case"Constructor":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;{let r=f(e.returns,t);return"object"!=typeof r||Array.isArray(r)?class{}:class{constructor(){for(let[e,t]of Object.entries(r))this[e]=t}}}}(e,r);case"Date":return(0,n.HasPropertyKey)(e,"default")?e.default:void 0!==e.minimumTimestamp?new Date(e.minimumTimestamp):new Date;case"Function":return(0,n.HasPropertyKey)(e,"default")?e.default:()=>f(e.returns,r);case"Integer":case"Number":return(0,n.HasPropertyKey)(e,"default")?e.default:void 0!==e.minimum?e.minimum:0;case"Intersect":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((e,r)=>{let n=f(r,t);return"object"==typeof n?{...e,...n}:n},{});if(!(0,i.Check)(e,t,r))throw new c(e);return r}}(e,r);case"Iterator":return(0,n.HasPropertyKey)(e,"default")?e.default:function*(){}();case"Literal":return(0,n.HasPropertyKey)(e,"default")?e.default:e.const;case"Never":return function(e,t){throw new l(e)}(e,0);case"Not":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;throw new u(e)}(e,0);case"Null":return(0,n.HasPropertyKey)(e,"default")?e.default:null;case"Object":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((e,[n,i])=>r.has(n)?{...e,[n]:f(i,t)}:{...e},{})}}(e,r);case"Promise":return(0,n.HasPropertyKey)(e,"default")?e.default:Promise.resolve(f(e.item,r));case"Record":return function(e,t){let[r,i]=Object.entries(e.patternProperties)[0];return(0,n.HasPropertyKey)(e,"default")?e.default:r===a.PatternStringExact||r===a.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((e,r)=>({...e,[r]:f(i,t)}),{})}(e,r);case"Ref":return(0,n.HasPropertyKey)(e,"default")?e.default:f((0,o.Deref)(e,r),r);case"String":return function(e,t){if(void 0!==e.pattern){if((0,n.HasPropertyKey)(e,"default"))return e.default;throw Error("ValueCreate.String: String types with patterns must specify a default value")}if(void 0!==e.format){if((0,n.HasPropertyKey)(e,"default"))return e.default;throw Error("ValueCreate.String: String types with formats must specify a default value")}return(0,n.HasPropertyKey)(e,"default")?e.default:void 0!==e.minLength?Array.from({length:e.minLength}).map(()=>".").join(""):""}(e,0);case"Symbol":return(0,n.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol();case"TemplateLiteral":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;let r=a.TemplateLiteralParser.ParseExact(e.pattern);if(!a.TemplateLiteralFinite.Check(r))throw new d(e);return a.TemplateLiteralGenerator.Generate(r).next().value}(e,0);case"This":return function(e,t){if(m++>y)throw new p(e,y);return(0,n.HasPropertyKey)(e,"default")?e.default:f((0,o.Deref)(e,t),t)}(e,r);case"Tuple":return(0,n.HasPropertyKey)(e,"default")?e.default:void 0===e.items?[]:Array.from({length:e.minItems}).map((t,n)=>f(e.items[n],r));case"Undefined":case"Void":return(0,n.HasPropertyKey)(e,"default")?e.default:void 0;case"Union":return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;if(0!==e.anyOf.length)return f(e.anyOf[0],t);throw Error("ValueCreate.Union: Cannot create Union with zero variants")}(e,r);case"Uint8Array":return(0,n.HasPropertyKey)(e,"default")?e.default:new Uint8Array(void 0!==e.minByteLength?e.minByteLength:0);default:if(!a.TypeRegistry.Has(e[a.Kind]))throw new s(e);return function(e,t){if((0,n.HasPropertyKey)(e,"default"))return e.default;throw Error("User defined types must specify a default value")}(e,0)}}t.ValueCreateRecursiveInstantiationError=p;let y=512,m=0;t.Create=function(...e){return m=0,2===e.length?f(e[0],e[1]):f(e[0],[])}},94817:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Patch=t.Diff=t.ValueDeltaUnableToDiffUnknownValue=t.ValueDeltaObjectWithSymbolKeyError=t.Edit=t.Delete=t.Update=t.Insert=void 0;let n=r(20020),i=r(66501),o=r(46002),a=r(20056);t.Insert=i.Type.Object({type:i.Type.Literal("insert"),path:i.Type.String(),value:i.Type.Unknown()}),t.Update=i.Type.Object({type:i.Type.Literal("update"),path:i.Type.String(),value:i.Type.Unknown()}),t.Delete=i.Type.Object({type:i.Type.Literal("delete"),path:i.Type.String()}),t.Edit=i.Type.Union([t.Insert,t.Update,t.Delete]);class s extends Error{constructor(e){super("Cannot diff objects with symbol keys"),this.key=e}}t.ValueDeltaObjectWithSymbolKeyError=s;class l extends Error{constructor(e){super("Unable to create diff edits for unknown value"),this.value=e}}function u(e,t){return{type:"update",path:e,value:t}}function c(e,t){return{type:"insert",path:e,value:t}}function d(e){return{type:"delete",path:e}}t.ValueDeltaUnableToDiffUnknownValue=l,t.Diff=function(e,t){return[...function* e(t,r,i){if((0,n.IsPlainObject)(r))return yield*function*(t,r,i){if(!(0,n.IsPlainObject)(i))return yield u(t,i);let o=[...Object.keys(r),...Object.getOwnPropertySymbols(r)],a=[...Object.keys(i),...Object.getOwnPropertySymbols(i)];for(let e of o){if((0,n.IsSymbol)(e))throw new s(e);(0,n.IsUndefined)(i[e])&&a.includes(e)&&(yield u(`${t}/${String(e)}`,void 0))}for(let o of a)if(!((0,n.IsUndefined)(r[o])||(0,n.IsUndefined)(i[o]))){if((0,n.IsSymbol)(o))throw new s(o);yield*e(`${t}/${String(o)}`,r[o],i[o])}for(let e of a){if((0,n.IsSymbol)(e))throw new s(e);(0,n.IsUndefined)(r[e])&&(yield c(`${t}/${String(e)}`,i[e]))}for(let e of o.reverse()){if((0,n.IsSymbol)(e))throw new s(e);(0,n.IsUndefined)(i[e])&&!a.includes(e)&&(yield d(`${t}/${String(e)}`))}}(t,r,i);if((0,n.IsArray)(r))return yield*function*(t,r,i){if(!(0,n.IsArray)(i))return yield u(t,i);for(let n=0;n<Math.min(r.length,i.length);n++)yield*e(`${t}/${n}`,r[n],i[n]);for(let e=0;e<i.length;e++)e<r.length||(yield c(`${t}/${e}`,i[e]));for(let e=r.length-1;e>=0;e--)e<i.length||(yield d(`${t}/${e}`))}(t,r,i);if((0,n.IsTypedArray)(r))return yield*function*(t,r,i){if(!(0,n.IsTypedArray)(i)||r.length!==i.length||Object.getPrototypeOf(r).constructor.name!==Object.getPrototypeOf(i).constructor.name)return yield u(t,i);for(let n=0;n<Math.min(r.length,i.length);n++)yield*e(`${t}/${n}`,r[n],i[n])}(t,r,i);if((0,n.IsValueType)(r))return yield*function*(e,t,r){t!==r&&(yield u(e,r))}(t,r,i);throw new l(r)}("",e,t)]},t.Patch=function(e,t){if(t.length>0&&""===t[0].path&&"update"===t[0].type)return(0,a.Clone)(t[0].value);if(0===t.length)return(0,a.Clone)(e);let r=(0,a.Clone)(e);for(let e of t)switch(e.type){case"insert":case"update":o.ValuePointer.Set(r,e.path,e.value);break;case"delete":o.ValuePointer.Delete(r,e.path)}return r}},75952:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Deref=t.TypeDereferenceError=void 0;let n=r(66501);class i extends n.TypeBoxError{constructor(e){super(`Unable to dereference schema with $id '${e.$id}'`),this.schema=e}}t.TypeDereferenceError=i,t.Deref=function(e,t){let r=t.findIndex(t=>t.$id===e.$ref);if(-1===r)throw new i(e);return t[r]}},84602:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Equal=void 0;let n=r(20020);t.Equal=function e(t,r){if((0,n.IsPlainObject)(t))return function(t,r){if(!(0,n.IsPlainObject)(r))return!1;let i=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return i.length===[...Object.keys(r),...Object.getOwnPropertySymbols(r)].length&&i.every(n=>e(t[n],r[n]))}(t,r);if((0,n.IsDate)(t))return(0,n.IsDate)(r)&&t.getTime()===r.getTime();if((0,n.IsTypedArray)(t))return!!(0,n.IsTypedArray)(r)&&t.length===r.length&&Object.getPrototypeOf(t).constructor.name===Object.getPrototypeOf(r).constructor.name&&t.every((t,n)=>e(t,r[n]));if((0,n.IsArray)(t))return!!(0,n.IsArray)(r)&&t.length===r.length&&t.every((t,n)=>e(t,r[n]));if((0,n.IsValueType)(t))return t===r;throw Error("ValueEquals: Unable to compare value")}},20020:function(e,t){function r(e){return null!==e&&"object"==typeof e}function n(e){return void 0===e}function i(e){return null===e}function o(e){return"boolean"==typeof e}function a(e){return"number"==typeof e}function s(e){return"bigint"==typeof e}function l(e){return"string"==typeof e}function u(e){return"function"==typeof e}function c(e){return"symbol"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.IsValueType=t.IsSymbol=t.IsFunction=t.IsString=t.IsBigInt=t.IsInteger=t.IsNumber=t.IsBoolean=t.IsNull=t.IsUndefined=t.IsArray=t.IsObject=t.IsPlainObject=t.HasPropertyKey=t.IsDate=t.IsUint8Array=t.IsPromise=t.IsTypedArray=t.IsIterator=t.IsAsyncIterator=void 0,t.IsAsyncIterator=function(e){return r(e)&&Symbol.asyncIterator in e},t.IsIterator=function(e){return r(e)&&Symbol.iterator in e},t.IsTypedArray=function(e){return ArrayBuffer.isView(e)},t.IsPromise=function(e){return e instanceof Promise},t.IsUint8Array=function(e){return e instanceof Uint8Array},t.IsDate=function(e){return e instanceof Date&&Number.isFinite(e.getTime())},t.HasPropertyKey=function(e,t){return t in e},t.IsPlainObject=function(e){return r(e)&&u(e.constructor)&&"Object"===e.constructor.name},t.IsObject=r,t.IsArray=function(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)},t.IsUndefined=n,t.IsNull=i,t.IsBoolean=o,t.IsNumber=a,t.IsInteger=function(e){return a(e)&&Number.isInteger(e)},t.IsBigInt=s,t.IsString=l,t.IsFunction=u,t.IsSymbol=c,t.IsValueType=function(e){return s(e)||o(e)||i(e)||a(e)||l(e)||c(e)||n(e)}},10940:function(e,t,r){var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.ByteMarker=t.ValueHashError=void 0;let o=r(20020);class a extends Error{constructor(e){super("Unable to hash value"),this.value=e}}t.ValueHashError=a,(i=n||(t.ByteMarker=n={}))[i.Undefined=0]="Undefined",i[i.Null=1]="Null",i[i.Boolean=2]="Boolean",i[i.Number=3]="Number",i[i.String=4]="String",i[i.Object=5]="Object",i[i.Array=6]="Array",i[i.Date=7]="Date",i[i.Uint8Array=8]="Uint8Array",i[i.Symbol=9]="Symbol",i[i.BigInt=10]="BigInt";let s=BigInt("14695981039346656037"),[l,u]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],c=Array.from({length:256}).map((e,t)=>BigInt(t)),d=new Float64Array(1),p=new DataView(d.buffer),f=new Uint8Array(d.buffer);function y(e){s^=c[e],s=s*l%u}t.Hash=function(e){return s=BigInt("14695981039346656037"),function e(t){if((0,o.IsArray)(t))return function(t){for(let r of(y(n.Array),t))e(r)}(t);if((0,o.IsBoolean)(t))return void(y(n.Boolean),y(t?1:0));if((0,o.IsBigInt)(t))return function(e){for(let t of(y(n.BigInt),p.setBigInt64(0,e),f))y(t)}(t);if((0,o.IsDate)(t))return void(y(n.Date),e(t.getTime()));if((0,o.IsNull)(t))return void y(n.Null);if((0,o.IsNumber)(t))return function(e){for(let t of(y(n.Number),p.setFloat64(0,e),f))y(t)}(t);if((0,o.IsPlainObject)(t))return function(t){for(let r of(y(n.Object),globalThis.Object.keys(t).sort()))e(r),e(t[r])}(t);if((0,o.IsString)(t))return function(e){y(n.String);for(let t=0;t<e.length;t++)for(let r of function*(e){let t=0===e?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}(e.charCodeAt(t)))y(r)}(t);if((0,o.IsSymbol)(t))return void(y(n.Symbol),e(t.description));if((0,o.IsUint8Array)(t))return function(e){y(n.Uint8Array);for(let t=0;t<e.length;t++)y(e[t])}(t);if((0,o.IsUndefined)(t))return y(n.Undefined);throw new a(t)}(e),s}},30571:function(e,t,r){t.B4=void 0,r(73914),r(94817),r(46002);var n=r(27350);Object.defineProperty(t,"B4",{enumerable:!0,get:function(){return n.Value}})},4204:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Mutate=t.ValueMutateInvalidRootMutationError=t.ValueMutateTypeMismatchError=void 0;let n=r(20020),i=r(46002),o=r(20056);class a extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}}t.ValueMutateTypeMismatchError=a;class s extends Error{constructor(){super("Only object and array types can be mutated at the root level")}}function l(e){return(0,n.IsTypedArray)(e)||(0,n.IsValueType)(e)}t.ValueMutateInvalidRootMutationError=s,t.Mutate=function(e,t){if(l(e)||l(t))throw new s;if((0,n.IsPlainObject)(e)&&(0,n.IsArray)(t)||(0,n.IsArray)(e)&&(0,n.IsPlainObject)(t))throw new a;!function e(t,r,a,s){return(0,n.IsArray)(s)?function(t,r,a,s){if((0,n.IsArray)(a)){for(let n=0;n<s.length;n++)e(t,`${r}/${n}`,a[n],s[n]);a.splice(s.length)}else i.ValuePointer.Set(t,r,(0,o.Clone)(s))}(t,r,a,s):(0,n.IsTypedArray)(s)?function(e,t,r,a){if((0,n.IsTypedArray)(r)&&r.length===a.length)for(let e=0;e<r.length;e++)r[e]=a[e];else i.ValuePointer.Set(e,t,(0,o.Clone)(a))}(t,r,a,s):(0,n.IsPlainObject)(s)?function(t,r,a,s){if((0,n.IsPlainObject)(a)){let n=Object.keys(a),i=Object.keys(s);for(let e of n)i.includes(e)||delete a[e];for(let e of i)n.includes(e)||(a[e]=null);for(let n of i)e(t,`${r}/${n}`,a[n],s[n])}else i.ValuePointer.Set(t,r,(0,o.Clone)(s))}(t,r,a,s):(0,n.IsValueType)(s)?void(a!==s&&i.ValuePointer.Set(t,r,s)):void 0}(e,"",e,t)}},46002:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValuePointer=t.ValuePointerRootDeleteError=t.ValuePointerRootSetError=void 0;class n extends Error{constructor(e,t,r){super("Cannot set root value"),this.value=e,this.path=t,this.update=r}}t.ValuePointerRootSetError=n;class i extends Error{constructor(e,t){super("Cannot delete root value"),this.value=e,this.path=t}}t.ValuePointerRootDeleteError=i,function(e){function t(e){return -1===e.indexOf("~")?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}function*r(e){if(""===e)return;let[r,n]=[0,0];for(let i=0;i<e.length;i++)"/"===e.charAt(i)?(0===i||(n=i,yield t(e.slice(r,n))),r=i+1):n=i;yield t(e.slice(r))}e.Format=r,e.Set=function(e,t,i){if(""===t)throw new n(e,t,i);let[o,a,s]=[null,e,""];for(let e of r(t))void 0===a[e]&&(a[e]={}),o=a,a=a[e],s=e;o[s]=i},e.Delete=function(e,t){if(""===t)throw new i(e,t);let[n,o,a]=[null,e,""];for(let e of r(t)){if(void 0===o[e]||null===o[e])return;n=o,o=o[e],a=e}if(Array.isArray(n)){let e=parseInt(a);n.splice(e,1)}else delete n[a]},e.Has=function(e,t){if(""===t)return!0;let[n,i,o]=[null,e,""];for(let e of r(t)){if(void 0===i[e])return!1;n=i,i=i[e],o=e}return Object.getOwnPropertyNames(n).includes(o)},e.Get=function(e,t){if(""===t)return e;let n=e;for(let e of r(t)){if(void 0===n[e])return;n=n[e]}return n}}(r||(t.ValuePointer=r={}))},52464:function(e,t,r){var n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.EncodeTransform=t.DecodeTransform=t.HasTransform=t.TransformEncodeError=t.TransformDecodeError=t.TransformEncodeCheckError=t.TransformDecodeCheckError=void 0;let a=r(20020),s=r(75952),l=r(31237),u=r(66501);class c extends u.TypeBoxError{constructor(e,t,r){super("Unable to decode due to invalid value"),this.schema=e,this.value=t,this.error=r}}t.TransformDecodeCheckError=c;class d extends u.TypeBoxError{constructor(e,t,r){super("Unable to encode due to invalid value"),this.schema=e,this.value=t,this.error=r}}t.TransformEncodeCheckError=d;class p extends u.TypeBoxError{constructor(e,t,r){super(`${r instanceof Error?r.message:"Unknown error"}`),this.schema=e,this.value=t}}t.TransformDecodeError=p;class f extends u.TypeBoxError{constructor(e,t,r){super(`${r instanceof Error?r.message:"Unknown error"}`),this.schema=e,this.value=t}}t.TransformEncodeError=f,function(e){let t=new Set;e.Has=function(e,r){return t.clear(),function e(r,n){let i=(0,a.IsString)(r.$id)?[...n,r]:n;if(r.$id&&t.has(r.$id))return!1;switch(r.$id&&t.add(r.$id),r[u.Kind]){case"Array":case"AsyncIterator":case"Iterator":return u.TypeGuard.TTransform(r)||e(r.items,i);case"Constructor":return u.TypeGuard.TTransform(r)||e(r.returns,i)||r.parameters.some(t=>e(t,i));case"Function":return u.TypeGuard.TTransform(r)||e(r.returns,i)||r.parameters.some(t=>e(t,i));case"Intersect":return u.TypeGuard.TTransform(r)||u.TypeGuard.TTransform(r.unevaluatedProperties)||r.allOf.some(t=>e(t,i));case"Not":return u.TypeGuard.TTransform(r)||e(r.not,i);case"Object":return u.TypeGuard.TTransform(r)||Object.values(r.properties).some(t=>e(t,i))||u.TypeGuard.TSchema(r.additionalProperties)&&e(r.additionalProperties,i);case"Promise":return u.TypeGuard.TTransform(r)||e(r.item,i);case"Record":return function(t,r){let n=Object.getOwnPropertyNames(t.patternProperties)[0],i=t.patternProperties[n];return u.TypeGuard.TTransform(t)||e(i,r)||u.TypeGuard.TSchema(t.additionalProperties)&&u.TypeGuard.TTransform(t.additionalProperties)}(r,i);case"Ref":case"This":return!!u.TypeGuard.TTransform(r)||e((0,s.Deref)(r,i),i);case"Tuple":return u.TypeGuard.TTransform(r)||!(0,a.IsUndefined)(r.items)&&r.items.some(t=>e(t,i));case"Union":return u.TypeGuard.TTransform(r)||r.anyOf.some(t=>e(t,i));default:return u.TypeGuard.TTransform(r)}}(e,r)}}(n||(t.HasTransform=n={})),function(e){function t(e,t){try{return u.TypeGuard.TTransform(e)?e[u.Transform].Decode(t):t}catch(r){throw new p(e,t,r)}}e.Decode=function(e,r,n){return function e(r,n,i){let o="string"==typeof r.$id?[...n,r]:n;switch(r[u.Kind]){case"Array":return(0,a.IsArray)(i)?t(r,i.map(t=>e(r.items,o,t))):t(r,i);case"Intersect":return function(r,n,i){if(!(0,a.IsPlainObject)(i)||(0,a.IsValueType)(i))return t(r,i);let o=u.KeyResolver.ResolveKeys(r,{includePatterns:!1}),s=o.reduce((t,i)=>i in t?{...t,[i]:e(u.IndexedAccessor.Resolve(r,[i]),n,t[i])}:t,i);if(!u.TypeGuard.TTransform(r.unevaluatedProperties))return t(r,s);let l=Object.getOwnPropertyNames(s),c=r.unevaluatedProperties,d=l.reduce((e,r)=>o.includes(r)?e:{...e,[r]:t(c,e[r])},s);return t(r,d)}(r,o,i);case"Not":return t(r,e(r.not,o,i));case"Object":return function(r,n,i){if(!(0,a.IsPlainObject)(i))return t(r,i);let o=u.KeyResolver.ResolveKeys(r,{includePatterns:!1}),s=o.reduce((t,i)=>i in t?{...t,[i]:e(r.properties[i],n,t[i])}:t,i);if(!u.TypeGuard.TSchema(r.additionalProperties))return t(r,s);let l=Object.getOwnPropertyNames(s),c=r.additionalProperties,d=l.reduce((e,r)=>o.includes(r)?e:{...e,[r]:t(c,e[r])},s);return t(r,d)}(r,o,i);case"Record":return function(r,n,i){if(!(0,a.IsPlainObject)(i))return t(r,i);let o=Object.getOwnPropertyNames(r.patternProperties)[0],s=new RegExp(o),l=Object.getOwnPropertyNames(i).reduce((t,i)=>s.test(i)?{...t,[i]:e(r.patternProperties[o],n,t[i])}:t,i);if(!u.TypeGuard.TSchema(r.additionalProperties))return t(r,l);let c=Object.getOwnPropertyNames(l),d=r.additionalProperties,p=c.reduce((e,r)=>s.test(r)?e:{...e,[r]:t(d,e[r])},l);return t(r,p)}(r,o,i);case"Ref":return function(r,n,i){let o=(0,s.Deref)(r,n);return t(r,e(o,n,i))}(r,o,i);case"Symbol":default:return t(r,i);case"This":return function(r,n,i){let o=(0,s.Deref)(r,n);return t(r,e(o,n,i))}(r,o,i);case"Tuple":return(0,a.IsArray)(i)&&(0,a.IsArray)(r.items)?t(r,r.items.map((t,r)=>e(t,o,i[r]))):t(r,i);case"Union":return function(r,n,i){let o=t(r,i);for(let t of r.anyOf)if((0,l.Check)(t,n,o))return e(t,n,o);return o}(r,o,i)}}(e,r,n)}}(i||(t.DecodeTransform=i={})),function(e){function t(e,t){try{return u.TypeGuard.TTransform(e)?e[u.Transform].Encode(t):t}catch(r){throw new f(e,t,r)}}e.Encode=function(e,r,n){return function e(r,n,i){let o="string"==typeof r.$id?[...n,r]:n;switch(r[u.Kind]){case"Array":return function(r,n,i){let o=t(r,i);return(0,a.IsArray)(o)?o.map(t=>e(r.items,n,t)):o}(r,o,i);case"Intersect":return function(r,n,i){let o=t(r,i);if(!(0,a.IsPlainObject)(i)||(0,a.IsValueType)(i))return o;let s=u.KeyResolver.ResolveKeys(r,{includePatterns:!1}),l=s.reduce((t,i)=>i in o?{...t,[i]:e(u.IndexedAccessor.Resolve(r,[i]),n,t[i])}:t,o);if(!u.TypeGuard.TTransform(r.unevaluatedProperties))return t(r,l);let c=Object.getOwnPropertyNames(l),d=r.unevaluatedProperties;return c.reduce((e,r)=>s.includes(r)?e:{...e,[r]:t(d,e[r])},l)}(r,o,i);case"Not":return t(r.not,t(r,i));case"Object":return function(r,n,i){let o=t(r,i);if(!(0,a.IsPlainObject)(i))return o;let s=u.KeyResolver.ResolveKeys(r,{includePatterns:!1}),l=s.reduce((t,i)=>i in t?{...t,[i]:e(r.properties[i],n,t[i])}:t,o);if(!u.TypeGuard.TSchema(r.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),d=r.additionalProperties;return c.reduce((e,r)=>s.includes(r)?e:{...e,[r]:t(d,e[r])},l)}(r,o,i);case"Record":return function(r,n,i){let o=t(r,i);if(!(0,a.IsPlainObject)(i))return o;let s=Object.getOwnPropertyNames(r.patternProperties)[0],l=new RegExp(s),c=Object.getOwnPropertyNames(i).reduce((t,i)=>l.test(i)?{...t,[i]:e(r.patternProperties[s],n,t[i])}:t,o);if(!u.TypeGuard.TSchema(r.additionalProperties))return t(r,c);let d=Object.getOwnPropertyNames(c),p=r.additionalProperties;return d.reduce((e,r)=>l.test(r)?e:{...e,[r]:t(p,e[r])},c)}(r,o,i);case"Ref":return function(r,n,i){let o=e((0,s.Deref)(r,n),n,i);return t(r,o)}(r,o,i);case"This":return function(r,n,i){let o=e((0,s.Deref)(r,n),n,i);return t(r,o)}(r,o,i);case"Tuple":return function(r,n,i){let o=t(r,i);return(0,a.IsArray)(r.items)?r.items.map((t,r)=>e(t,n,o[r])):[]}(r,o,i);case"Union":return function(r,n,i){for(let o of r.anyOf)if((0,l.Check)(o,n,i))return t(r,e(o,n,i));for(let o of r.anyOf){let a=e(o,n,i);if((0,l.Check)(r,n,a))return t(r,a)}return t(r,i)}(r,o,i);default:return t(r,i)}}(e,r,n)}}(o||(t.EncodeTransform=o={}))},27350:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Value=void 0;let i=r(73914),o=r(4204),a=r(10940),s=r(84602),l=r(51634),u=r(20056),c=r(17544),d=r(3587),p=r(31237),f=r(94817),y=r(52464);!function(e){function t(...e){return p.Check.apply(p,e)}function r(...e){return i.Errors.apply(i,e)}e.Cast=function(...e){return l.Cast.apply(l,e)},e.Create=function(...e){return d.Create.apply(d,e)},e.Check=t,e.Convert=function(...e){return c.Convert.apply(c,e)},e.Clone=function(e){return u.Clone(e)},e.Decode=function(...e){let[n,i,o]=3===e.length?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!t(n,i,o))throw new y.TransformDecodeCheckError(n,o,r(n,i,o).First());return y.DecodeTransform.Decode(n,i,o)},e.Encode=function(...e){let[n,i,o]=3===e.length?[e[0],e[1],e[2]]:[e[0],[],e[1]],a=y.EncodeTransform.Encode(n,i,o);if(!t(n,i,a))throw new y.TransformEncodeCheckError(n,o,r(n,i,o).First());return a},e.Errors=r,e.Equal=function(e,t){return s.Equal(e,t)},e.Diff=function(e,t){return f.Diff(e,t)},e.Hash=function(e){return a.Hash(e)},e.Patch=function(e,t){return f.Patch(e,t)},e.Mutate=function(e,t){o.Mutate(e,t)}}(n||(t.Value=n={}))},23711:function(e,t,r){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==r.g?n=r.g.WebSocket||r.g.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),t.Z=n},75216:function(e,t,r){r.d(t,{Fb:function(){return y},c:function(){return f}});var n=r(42267),i=r(25589),o=r(79530),a=r(72440),s=r(3705),l=r(43429),u=r(88356),c=r(33212);let d=new WeakMap;function p(e,t){let{id:r}=d.get(e);if(!r)throw Error("Unknown list");return`${r}-${"string"==typeof t?t.replace(/\s*/g,""):""+t}`}function f(e,t,r){let{isVirtualized:s,keyboardDelegate:l,onAction:u,linkBehavior:p="action"}=e;e["aria-label"]||e["aria-labelledby"]||c.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:f}=(0,a._t)({selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,ref:r,keyboardDelegate:l,isVirtualized:s,selectOnFocus:"replace"===t.selectionManager.selectionBehavior,shouldFocusWrap:e.shouldFocusWrap,linkBehavior:p}),y=(0,n.Me)(e.id);d.set(t,{id:y,onAction:u,linkBehavior:p});let m=(0,i.jS)({selectionManager:t.selectionManager,hasItemActions:!!u}),T=(0,o.pu)(r,{isDisabled:0!==t.collection.size}),h=(0,n.zL)(e,{labelable:!0}),g=(0,n.dG)(h,{role:"grid",id:y,"aria-multiselectable":"multiple"===t.selectionManager.selectionMode?"true":void 0},0===t.collection.size?{tabIndex:T?-1:0}:f,m);return s&&(g["aria-rowcount"]=t.collection.size,g["aria-colcount"]=1),(0,i.B6)({},t),{gridProps:g}}function y(e,t,r){let{node:i,isVirtualized:c,shouldSelectOnPressUp:f}=e,{direction:y}=(0,u.bU)(),{onAction:T,linkBehavior:h}=d.get(t),g=(0,n.mp)(),b=(0,l.useRef)(null),{itemProps:v,...I}=(0,a.Cs)({selectionManager:t.selectionManager,key:i.key,ref:r,isVirtualized:c,shouldSelectOnPressUp:f,onAction:T?()=>T(i.key):void 0,focus:()=>{(null==b.current||i.key===b.current)&&r.current.contains(document.activeElement)||(0,o.ex)(r.current)},linkBehavior:h}),x=I.hasAction?(0,n.ib)(i.props):{},w=(0,n.dG)(v,x,{role:"row",onKeyDownCapture:e=>{if(!e.currentTarget.contains(e.target))return;let t=(0,o.QL)(r.current);switch(t.currentNode=document.activeElement,e.key){case"ArrowLeft":{let i="rtl"===y?t.nextNode():t.previousNode();if(i)e.preventDefault(),e.stopPropagation(),(0,o.ex)(i),(0,n.Gt)(i,{containingElement:(0,n.rP)(r.current)});else if(e.preventDefault(),e.stopPropagation(),"rtl"===y)(0,o.ex)(r.current),(0,n.Gt)(r.current,{containingElement:(0,n.rP)(r.current)});else{t.currentNode=r.current;let e=m(t);e&&((0,o.ex)(e),(0,n.Gt)(e,{containingElement:(0,n.rP)(r.current)}))}break}case"ArrowRight":{let i="rtl"===y?t.previousNode():t.nextNode();if(i)e.preventDefault(),e.stopPropagation(),(0,o.ex)(i),(0,n.Gt)(i,{containingElement:(0,n.rP)(r.current)});else if(e.preventDefault(),e.stopPropagation(),"ltr"===y)(0,o.ex)(r.current),(0,n.Gt)(r.current,{containingElement:(0,n.rP)(r.current)});else{t.currentNode=r.current;let e=m(t);e&&((0,o.ex)(e),(0,n.Gt)(e,{containingElement:(0,n.rP)(r.current)}))}break}case"ArrowUp":case"ArrowDown":!e.altKey&&r.current.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),r.current.parentElement.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}},onFocus:e=>{if(b.current=i.key,e.target!==r.current){(0,s.E)()||t.selectionManager.setFocusedKey(i.key);return}},"aria-label":i.textValue||void 0,"aria-selected":t.selectionManager.canSelectItem(i.key)?t.selectionManager.isSelected(i.key):void 0,"aria-disabled":t.selectionManager.isDisabled(i.key)||void 0,"aria-labelledby":g&&i.textValue?`${p(t,i.key)} ${g}`:void 0,id:p(t,i.key)});return c&&(w["aria-rowindex"]=i.index+1),{rowProps:w,gridCellProps:{role:"gridcell","aria-colindex":1},descriptionProps:{id:g},...I}}function m(e){let t,r;do(r=e.lastChild())&&(t=r);while(r);return t}},52343:function(e,t,r){r.d(t,{n_:function(){return s}});var n=r(41328),i=r(43429),o=r(52878);class a{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){let t;this.keyMap=new Map,this.iterable=e;let r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)r(t)};for(let t of e)r(t);let n=0;for(let[e,r]of this.keyMap)t?(t.nextKey=e,r.prevKey=t.key):(this.firstKey=e,r.prevKey=void 0),"item"===r.type&&(r.index=n++),(t=r).nextKey=void 0;this.lastKey=null==t?void 0:t.key}}function s(e){let{filter:t}=e,r=(0,n.q)(e),s=(0,i.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),l=(0,i.useCallback)(e=>new a(t?t(e):e),[t]),u=(0,i.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),c=(0,o.Kx)(e,l,u),d=(0,i.useMemo)(()=>new n.Z(c,r),[c,r]),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(null!=r.focusedKey&&!c.getItem(r.focusedKey)){let e;let t=p.current.getItem(r.focusedKey),n=[...p.current.getKeys()].map(e=>{let t=p.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),i=[...c.getKeys()].map(e=>{let t=c.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),o=n.length-i.length,a=Math.min(o>1?Math.max(t.index-o+1,0):t.index,i.length-1);for(;a>=0;){if(!d.isDisabled(i[a].key)){e=i[a];break}a<i.length-1?a++:(a>t.index&&(a=t.index),a--)}r.setFocusedKey(e?e.key:null)}p.current=c},[c,d,r,r.focusedKey]),{collection:c,disabledKeys:s,selectionManager:d}}},38785:function(e,t,r){r.d(t,{Y:function(){return s}});var n=r(87682),i=r(43429),o=r(68210);let a={any:0,all:1};function s(e,t){var r=void 0===t?{}:t,s=r.root,l=r.margin,u=r.amount,c=r.once,d=void 0!==c&&c,p=(0,n.CR)((0,i.useState)(!1),2),f=p[0],y=p[1];return(0,i.useEffect)(function(){if(e.current&&(!d||!f)){var t,r={root:null!==(t=null==s?void 0:s.current)&&void 0!==t?t:void 0,margin:l,amount:"some"===u?"any":u};return function(e,t,{root:r,margin:n,amount:i="any"}={}){if("undefined"==typeof IntersectionObserver)return()=>{};let s=(0,o.I)(e),l=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(e=>{let r=l.get(e.target);if(!!r!==e.isIntersecting){if(e.isIntersecting){let r=t(e);"function"==typeof r?l.set(e.target,r):u.unobserve(e.target)}else r&&(r(e),l.delete(e.target))}})},{root:r,rootMargin:n,threshold:"number"==typeof i?i:a[i]});return s.forEach(e=>u.observe(e)),()=>u.disconnect()}(e.current,function(){return y(!0),d?void 0:function(){return y(!1)}},r)}},[s,e,l,d]),f}},42132:function(e,t,r){r.d(t,{eI:function(){return y}});var n=r(78910),i=r(66501),o=r(26802);function a(){let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}r(30571);var s=class{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||(e-1&e)!=0)throw Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}},l=class{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new s(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let t=this.head;this.head=t.next=new s(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(void 0===e&&null!=this.tail.next){let t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}},u=class extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}};function c(e={}){return function(e,t){let r,n,i;let o=(t=t??{}).onEnd,s=new l,c=a(),d=e=>null!=n?n(e):(s.push(e),r),p=e=>(s=new l,null!=n)?n({error:e}):(s.push({error:e}),r),f=e=>{if(i)return r;if(t?.objectMode!==!0&&e?.byteLength==null)throw Error("objectMode was not true but tried to push non-Uint8Array value");return d({done:!1,value:e})},y=e=>i?r:(i=!0,null!=e?p(e):d({done:!0}));if(r={[Symbol.asyncIterator](){return this},next:async()=>{try{if(!s.isEmpty())return e(s);if(i)return{done:!0};return await new Promise((t,i)=>{n=o=>{n=null,s.push(o);try{t(e(s))}catch(e){i(e)}return r}})}finally{s.isEmpty()&&queueMicrotask(()=>{c.resolve(),c=a()})}},return:()=>(s=new l,y(),{done:!0}),throw:e=>(y(e),{done:!0}),push:f,end:y,get readableLength(){return s.size},onEmpty:async e=>{let t,r;let n=e?.signal;if(n?.throwIfAborted(),!s.isEmpty()){null!=n&&(t=new Promise((e,t)=>{r=()=>{t(new u)},n.addEventListener("abort",r)}));try{await Promise.race([c.promise,t])}finally{null!=r&&null!=n&&n?.removeEventListener("abort",r)}}}},null==o)return r;let m=r;return r={[Symbol.asyncIterator](){return this},next:()=>m.next(),throw:e=>(m.throw(e),null!=o&&(o(e),o=void 0),{done:!0}),return:()=>(m.return(),null!=o&&(o(),o=void 0),{done:!0}),push:f,end:e=>(m.end(e),null!=o&&(o(e),o=void 0),r),get readableLength(){return m.readableLength}}}(e=>{let t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}},e)}var d="UNEXPECTED_DISCONNECT";function p(e){return{ok:!1,payload:e}}i.Type.Object({code:i.Type.Union([i.Type.Literal("UNCAUGHT_ERROR"),i.Type.Literal(d)]),message:i.Type.String()});var f=()=>{},y=(e,t="SERVER")=>(function e(t,r){return new Proxy(f,{get(n,i){if("string"==typeof i)return e(t,[...r,i])},apply:(e,n,i)=>t({path:r,args:i})})})(async r=>{let[i,a,s]=[...r.path];if(!(i&&a&&s))throw Error("invalid river call, ensure the service and procedure you are calling exists");let[l]=r.args;if("rpc"===s)return function(e,t,r,i,a){let s=(0,o.x0)(),l=(0,n.WI)(e.clientId,t,s,r,i,a);return l.controlFlags|=6,e.send(l),new Promise(r=>{let n=m(t,()=>{i(),r(p({code:d,message:`${t} unexpectedly disconnected`}))});function i(){e.removeEventListener("message",o),e.removeEventListener("connectionStatus",n)}function o(e){e.streamId===s&&(i(),r(e.payload))}e.addEventListener("message",o),e.addEventListener("connectionStatus",n)})}(e,t,l,i,a);if("stream"===s)return function(e,t,r,i,a){let s=(0,o.x0)(),l=c({objectMode:!0}),u=c({objectMode:!0}),f=!0;if(r){let o=(0,n.WI)(e.clientId,t,s,r,i,a);o.controlFlags=2,e.send(o),f=!1}function y(e){e.streamId===s&&((0,n.fF)(e.controlFlags)?T():u.push(e.payload))}function T(){l.end(),u.end(),e.removeEventListener("message",y),e.removeEventListener("connectionStatus",h)}(async()=>{for await(let r of l){let o=(0,n.WI)(e.clientId,t,s,r);f&&(o.serviceName=i,o.procedureName=a,o.controlFlags|=2,f=!1),e.send(o)}e.send((0,n.aP)(e.clientId,t,s))})();let h=m(t,()=>{u.push(p({code:d,message:`${t} unexpectedly disconnected`})),T()});return e.addEventListener("message",y),e.addEventListener("connectionStatus",h),[l,u,()=>{T(),e.send((0,n.aP)(e.clientId,t,s))}]}(e,t,l,i,a);if("subscribe"===s)return function(e,t,r,i,a){let s=(0,o.x0)(),l=(0,n.WI)(e.clientId,t,s,r,i,a);l.controlFlags|=2,e.send(l);let u=c({objectMode:!0});function f(e){e.streamId===s&&((0,n.fF)(e.controlFlags)?y():u.push(e.payload))}function y(){u.end(),e.removeEventListener("message",f),e.removeEventListener("connectionStatus",T)}let T=m(t,()=>{u.push(p({code:d,message:`${t} unexpectedly disconnected`})),y()});return e.addEventListener("message",f),e.addEventListener("connectionStatus",T),[u,()=>{y(),e.send((0,n.aP)(e.clientId,t,s))}]}(e,t,l,i,a);if("upload"===s)return function(e,t,r,i,a){let s=(0,o.x0)(),l=c({objectMode:!0}),u=!0;if(r){let o=(0,n.WI)(e.clientId,t,s,r,i,a);o.controlFlags=2,e.send(o),u=!1}(async()=>{for await(let r of l){let o=(0,n.WI)(e.clientId,t,s,r);u&&(o.controlFlags|=2,o.serviceName=i,o.procedureName=a,u=!1),e.send(o)}e.send((0,n.aP)(e.clientId,t,s))})();let f=new Promise(r=>{let n=m(t,()=>{i(),r(p({code:d,message:`${t} unexpectedly disconnected`}))});function i(){l.end(),e.removeEventListener("message",o),e.removeEventListener("connectionStatus",n)}function o(e){e.streamId===s&&(i(),r(e.payload))}e.addEventListener("message",o),e.addEventListener("connectionStatus",n)});return[l,f]}(e,t,l,i,a);throw Error(`invalid river call, unknown procedure type ${s}`)},[]);function m(e,t){let r;return n=>{"connect"===n.status&&n.conn.connectedTo===e&&(clearTimeout(r),r=void 0),"disconnect"===n.status&&n.conn.connectedTo===e&&(r=setTimeout(t,5e3))}}},73816:function(e,t,r){r.d(t,{cM:function(){return n},nb:function(){return o},uR:function(){return a}});var n,i={info:0,warn:1,error:2};function o(e,t){let r=t?"\x1b[37minfo\x1b[0m":"info",o=t?"\x1b[33mwarn\x1b[0m":"warn",a=t?"\x1b[31merr\x1b[0m":"err";n={info:t=>n&&i[n.minLevel]<=0&&e(`[river:${r}] ${t}`),warn:t=>n&&i[n.minLevel]<=1&&e(`[river:${o}] ${t}`),error:t=>n&&i[n.minLevel]<=2&&e(`[river:${a}] ${t}`),minLevel:n?.minLevel??"warn"}}function a(e){n&&(n.minLevel=e)}},14289:function(e,t,r){r.d(t,{k:function(){return f}});var n=r(78910),i=r(73816),o=r(30571),a=class{eventListeners={};numberOfListeners(e){return this.eventListeners[e]?.size??0}addEventListener(e,t){this.eventListeners[e]||(this.eventListeners[e]=new Set),this.eventListeners[e]?.add(t)}removeEventListener(e,t){this.eventListeners[e]&&this.eventListeners[e]?.delete(t)}dispatchEvent(e,t){let r=this.eventListeners[e];if(r)for(let e of r)e(t)}},s=class{connectedTo;transport;constructor(e,t){this.connectedTo=t,this.transport=e}},l=class{state;codec;clientId;sendQueue;sendBuffer;connections;eventDispatcher;constructor(e,t){this.eventDispatcher=new a,this.sendBuffer=new Map,this.sendQueue=new Map,this.connections=new Map,this.codec=e,this.clientId=t,this.state="open"}onConnect(e){i.cM?.info(`${this.clientId} -- new connection to ${e.connectedTo}`),this.connections.set(e.connectedTo,e),this.eventDispatcher.dispatchEvent("connectionStatus",{status:"connect",conn:e});let t=this.sendQueue.get(e.connectedTo);if(t){for(let e of t){let t=this.sendBuffer.get(e);if(!t){i.cM?.warn(`${this.clientId} -- tried to resend a message we received an ack for`);continue}this.send(t)}this.sendQueue.delete(e.connectedTo)}}onDisconnect(e){i.cM?.info(`${this.clientId} -- disconnect from ${e.connectedTo}`),e.close(),this.connections.delete(e.connectedTo),this.eventDispatcher.dispatchEvent("connectionStatus",{status:"disconnect",conn:e})}onMessage(e){return this.handleMsg(this.parseMsg(e))}parseMsg(e){let t=this.codec.fromBuffer(e);if(null===t){let t=new TextDecoder().decode(e);return i.cM?.warn(`${this.clientId} -- received malformed msg: ${t}`),null}return o.B4.Check(n.Jm,t)?{...t,serviceName:null===t.serviceName?void 0:t.serviceName,procedureName:null===t.procedureName?void 0:t.procedureName}:(i.cM?.warn(`${this.clientId} -- received invalid msg: ${JSON.stringify(t)}`),null)}handleMsg(e){if(e){if((0,n.bo)(e.controlFlags)&&o.B4.Check(n.X1,e))i.cM?.info(`${this.clientId} -- received ack: ${JSON.stringify(e)}`),this.sendBuffer.has(e.payload.ack)&&this.sendBuffer.delete(e.payload.ack);else{if(i.cM?.info(`${this.clientId} -- received msg: ${JSON.stringify(e)}`),e.to!==this.clientId)return;if(this.eventDispatcher.dispatchEvent("message",e),!(0,n.bo)(e.controlFlags)){let t=(0,n.ts)(e,{ack:e.id});t.controlFlags=1,t.from=this.clientId,this.send(t)}}}}addEventListener(e,t){this.eventDispatcher.addEventListener(e,t)}removeEventListener(e,t){this.eventDispatcher.removeEventListener(e,t)}send(e){if("destroyed"===this.state){let t="transport is destroyed, cant send";throw i.cM?.error(`${this.clientId} -- `+t+`: ${JSON.stringify(e)}`),Error(t)}if("closed"===this.state)return i.cM?.info(`${this.clientId} -- transport closed when sending, discarding : ${JSON.stringify(e)}`),e.id;let t=this.connections.get(e.to);if((0,n.bo)(e.controlFlags)||this.sendBuffer.set(e.id,e),t&&(i.cM?.info(`${this.clientId} -- sending ${JSON.stringify(e)}`),t.send(this.codec.toBuffer(e))))return e.id;i.cM?.info(`${this.clientId} -- connection to ${e.to} not ready, attempting reconnect and queuing ${JSON.stringify(e)}`);let r=this.sendQueue.get(e.to)||[];return r.push(e.id),this.sendQueue.set(e.to,r),this.createNewConnection(e.to),e.id}async close(){for(let e of this.connections.values())e.close();this.connections.clear(),this.state="closed",i.cM?.info(`${this.clientId} -- closed transport`)}async destroy(){for(let e of this.connections.values())e.close();this.connections.clear(),this.state="destroyed",i.cM?.info(`${this.clientId} -- destroyed transport`)}},u=class extends s{ws;constructor(e,t,r){super(e,t),this.ws=r,r.binaryType="arraybuffer",this.ws.onmessage=t=>e.onMessage(t.data)}send(e){return this.ws.readyState===this.ws.OPEN&&(this.ws.send(e),!0)}async close(){this.ws.close()}},c=new TextEncoder,d=new TextDecoder,p={retryIntervalMs:250,retryAttemptsMax:5,codec:{toBuffer:e=>c.encode(JSON.stringify(e,function(e){let t=this[e];if(!(t instanceof Uint8Array))return t;{let e;return{$t:(e="",t.forEach(t=>{e+=String.fromCharCode(t)}),btoa(e))}}})),fromBuffer:e=>{try{return JSON.parse(d.decode(e),function(e,t){return t?.$t?function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}(t.$t):t})}catch{return null}}}},f=class extends l{wsGetter;options;serverId;reconnectPromises;tryReconnecting=!0;constructor(e,t,r,n){let i={...p,...n};super(i.codec,t),this.wsGetter=e,this.serverId=r,this.options=i,this.reconnectPromises=new Map,this.setupConnectionStatusListeners()}setupConnectionStatusListeners(){this.createNewConnection(this.serverId)}async createNewConnection(e,t=0){if("destroyed"===this.state)throw Error("cant reopen a destroyed connection");let r=this.reconnectPromises.get(e);if(!r){if(!this.tryReconnecting){i.cM?.info(`${this.clientId} -- tryReconnecting is false, not attempting reconnect`);return}r=new Promise(async t=>{i.cM?.info(`${this.clientId} -- establishing a new websocket to ${e}`);let r=await this.wsGetter(e);return r.readyState===r.OPEN?t({ws:r}):r.readyState===r.CLOSING||r.readyState===r.CLOSED?t({err:"ws is closing or closed"}):void(r.addEventListener("open",function e(){r.removeEventListener("open",e),t({ws:r})}),r.addEventListener("close",function e(n){r.removeEventListener("close",e),t({err:n.reason})}))}),this.reconnectPromises.set(e,r)}let n=await r;if("ws"in n&&n.ws.readyState===n.ws.OPEN){if(n.ws===this.connections.get(e)?.ws)return;i.cM?.info(`${this.clientId} -- websocket ok`);let t=new u(this,e,n.ws);this.onConnect(t),n.ws.onclose=()=>{this.reconnectPromises.delete(e),this.onDisconnect(t)},this.state="open";return}if(this.reconnectPromises.delete(e),t>=this.options.retryAttemptsMax)throw Error(`${this.clientId} -- websocket to ${e} failed after ${t} attempts, giving up`);i.cM?.warn(`${this.clientId} -- websocket to ${e} failed, trying again in ${this.options.retryIntervalMs*t}ms`),setTimeout(()=>this.createNewConnection(e,t+1),this.options.retryIntervalMs*t)}}},78910:function(e,t,r){r.d(t,{Jm:function(){return s},WI:function(){return l},X1:function(){return a},aP:function(){return c},bo:function(){return d},fF:function(){return p},ts:function(){return u}});var n=r(66501),i=r(26802),o=e=>n.Type.Object({id:n.Type.String(),from:n.Type.String(),to:n.Type.String(),serviceName:n.Type.Optional(n.Type.Union([n.Type.String(),n.Type.Null()])),procedureName:n.Type.Optional(n.Type.Union([n.Type.String(),n.Type.Null()])),streamId:n.Type.String(),controlFlags:n.Type.Integer(),payload:e}),a=o(n.Type.Object({ack:n.Type.String()}));n.Type.Object({type:n.Type.Literal("CLOSE")});var s=o(n.Type.Unknown());function l(e,t,r,n,o,a){return{id:(0,i.x0)(),to:t,from:e,serviceName:o,procedureName:a,streamId:r,controlFlags:0,payload:n}}function u(e,t){return{id:(0,i.x0)(),streamId:e.streamId,controlFlags:0,to:e.from,from:e.to,payload:t}}function c(e,t,r){let n=l(e,t,r,{type:"CLOSE"});return n.controlFlags|=4,n}function d(e){return(1&e)==1}function p(e){return(4&e)==4}},13171:function(e,t,r){r.d(t,{nb:function(){return n.nb},uR:function(){return n.uR}});var n=r(73816)},26802:function(e,t,r){r.d(t,{x0:function(){return n}});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")}}]);
//# sourceMappingURL=7757-27c4c4f1e59e508e.js.map