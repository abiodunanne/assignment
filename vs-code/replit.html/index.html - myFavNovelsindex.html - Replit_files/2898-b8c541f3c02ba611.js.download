!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="50633744-c6b6-4ddd-b57b-a74dbc73eaf7",e._sentryDebugIdIdentifier="sentry-dbid-50633744-c6b6-4ddd-b57b-a74dbc73eaf7")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2f8d6ed5"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2898],{42898:function(e,n,t){t.d(n,{Z:function(){return tz}});var r,i,o,l=t(39698),a=t(32477),s=t(8182),c=t(34142),u=t(87682),d=t(65614),h=t(25425),p=t(72310),m=t(26220),f=t(1498),g=t(18836),v=t(49344),Z=t(48272),y=t(37951),b=t(4070),x=t(74833),w=t(30983),C=t(56596),U=t(32377),_=t(52924),B=t(97615),T=t(53831),S=t(52682),G=t(29287),P=t(35972),I=t(75582),M=t(43429),D=t(45903),R=t(93295),X=t(23982),k=t(13440),A=t(66039);function E(){var e=(0,R._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return E=function(){return e},e}function W(){var e=(0,R._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function N(){var e=(0,R._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return N=function(){return e},e}function z(){var e=(0,R._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return z=function(){return e},e}function V(){var e=(0,R._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return V=function(){return e},e}function L(){var e=(0,R._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return L=function(){return e},e}var j={},Y=(0,X.Ps)(E()),q=(0,X.Ps)(W(),Y),$=(0,X.Ps)(N()),O=(0,X.Ps)(z()),F=(0,X.Ps)(V(),Y),H=(0,X.Ps)(L());function Q(){var e=(0,R._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return Q=function(){return e},e}function J(){var e=(0,R._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return J=function(){return e},e}var K={},ee=(0,X.Ps)(Q()),en=(0,X.Ps)(J(),ee),et=t(20573);function er(e){var n=e.children;return"string"!=typeof n?null:(0,s.tZ)(C.G,{css:[G.l0.align.start],children:(0,s.tZ)(y.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"negative",text:n,css:[G.l0.pr(8)]})})}function ei(e){var n,t,r=e.currentUser,i=(0,a._)(M.useState(!1),2),o=i[0],l=i[1],d=(0,a._)(M.useState(!1),2),h=d[0],v=d[1],Z=(0,a._)(M.useState(null),2),b=Z[0],w=Z[1],B=(0,p.Y)("",m.Z.email),S=(0,p.Y)("",m.Z.password),P=(0,a._)((n=(0,D._)({},j,{onError:function(){return w("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?w(e.updateEmail.message):(l(!1),v(!0),S.setValue(""))}}),k.D(q,n)),2),I=P[0],R=P[1].loading,X=(t=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),B.value&&S.value||w("Please fill in all fields"),[4,B.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return w(null==n?void 0:n.message),[2];return[4,S.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return w(null==t?void 0:t.message),[2];return I({variables:{email:B.value,password:S.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return o?(0,s.tZ)("form",{onSubmit:X,children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.tZ)(x.h4,{level:2,css:[G.l0.fontWeight.medium],children:"Update your email"}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"newEmail",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,s.tZ)(g.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return B.setValue(e.target.value)},value:B.value})]}),(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,s.tZ)(g.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return S.setValue(e.target.value)},value:S.value})]})]}),b?(0,s.tZ)(er,{children:b}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return l(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:R,colorway:"primary",type:"submit",text:R?"Updating...":"Update",iconLeft:(0,s.tZ)(U.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your email"}),(0,s.tZ)(x.xv,{children:r.email})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return l(!0)},text:"Edit",iconLeft:(0,s.tZ)(_.Z,{})})]}),h?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(U.Z,{}),text:"Visit the verification link sent to ".concat(B.value," to complete your email change.")}):null,h||r.isVerified?null:(0,s.tZ)(y.E,{colorway:"negative",icon:(0,s.tZ)(T.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function eo(){var e,n=(0,a._)(M.useState(!1),2),t=n[0],r=n[1],i=(0,a._)(M.useState(!1),2),o=i[0],l=i[1],c=(0,a._)(M.useState(null),2),u=c[0],d=c[1],h=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),m=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),v=(0,a._)((e=(0,D._)({},j,{onError:function(){return d("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?d(e.updatePassword.message):(d(null),r(!1),l(!0),m.setValue(""),h.setValue(""))}}),k.D($,e)),2),Z=v[0],b=v[1].loading;return t?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),Z({variables:{newPassword:h.value,currentPassword:m.value}})},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.tZ)(x.h4,{level:2,css:[G.l0.fontWeight.medium],children:"Update your password"}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"currentPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,s.tZ)(g.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return m.setValue(e.target.value)},value:m.value})]}),(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"newPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,s.tZ)(g.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),u?(0,s.tZ)(er,{children:u}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:b,colorway:"primary",type:"submit",text:b?"Updating...":"Update",iconLeft:(0,s.tZ)(U.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your password"}),(0,s.tZ)(x.xv,{children:"••••••••••••"})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,s.tZ)(_.Z,{})})]}),o?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(U.Z,{}),text:"Password updated"}):null]})}function el(e){var n,t,r,i,o,c,u=e.currentUser,d=(r={},(0,l._)(r,I.aG.Na,"North America"),(0,l._)(r,I.aG.Asia,"Asia"),r),h=(i={},(0,l._)(i,I.aG.Na,"Servers located throughout the continental United States"),(0,l._)(i,I.aG.Asia,"Servers located in Mumbai, India"),i),p=(0,a._)(M.useState(!1),2),m=p[0],g=p[1],v=(0,a._)(M.useState(!1),2),b=v[0],T=v[1],S=(0,a._)(M.useState(null),2),P=S[0],R=S[1],X=(n=(0,D._)({},j,{}),A.a(H,n)).data,E=(null==X?void 0:X.replContinents.__typename)==="ReplContinentsOutput"?X.replContinents.continents:[],W=E.map(function(e){return{value:e.id,title:d[e.id],subtitle:h[e.id],name:e.name,taller:!0}}),N=u.replContinent,z=W.find(function(e){return e.value===N.id}),V=(0,a._)(M.useState(null!==(o=N.id)&&void 0!==o?o:I.aG.Na),2),L=V[0],Y=V[1],q=(0,a._)((t=(0,D._)({},j,{onError:function(){R("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(R(null),g(!1),T(!0)):R(e.selectReplContinent.message)}}),k.D(F,t)),2),$=q[0],O=q[1].loading,Q=(0,s.BX)(C.G,{css:[G.l0.rowWithGap(8),G.l0.align.center],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your server location"}),(0,s.tZ)(w.u,{tooltip:"".concat("Where the servers running your Repls will be located. Select a server location closest to you for the best possible experience."),children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]});return m?(0,s.tZ)("form",{onSubmit:function(e){var n;e.preventDefault(),$({variables:{input:{continent:null===(n=E.find(function(e){return e.id===L}))||void 0===n?void 0:n.id}}})},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[Q,(0,s.tZ)(C.G,{css:[G.l0.rowWithGap(16)],children:(0,s.tZ)(C.G,{css:[G.l0.colWithGap(4),{width:"calc(100% - 8px)"}],children:(0,s.tZ)(Z.P,{placeholder:"Select your server location",initialSelectedItem:z,items:W,onChange:function(e){return Y(e.value)}})})}),P?(0,s.tZ)(er,{children:P}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return g(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:O,colorway:"primary",type:"submit",text:O?"Updating...":"Update",iconLeft:(0,s.tZ)(U.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[Q,(0,s.tZ)(x.xv,{children:null!==(c=null==z?void 0:z.title)&&void 0!==c?c:"..."})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return g(!0)},text:"Edit",iconLeft:(0,s.tZ)(_.Z,{})})]}),b?(0,s.tZ)(y.E,{colorway:"positive",icon:(0,s.tZ)(U.Z,{}),text:"Server location updated"}):null]})}function ea(){var e,n,t=(0,a._)(M.useState(!1),2),r=t[0],i=t[1],o=(0,a._)(M.useState(null),2),l=o[0],h=o[1],p=(0,a._)((e={onError:function(){return h("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,d.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,D._)({},j,e),k.D(O,n)),2),m=p[0],g=p[1],Z=g.data,y=g.loading,b=(null==Z?void 0:Z.deleteAccount)===!0;return(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Danger Zone"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,s.tZ)(f.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,s.tZ)(S.Z,{})}),l?(0,s.tZ)(er,{children:l}):null,(0,s.tZ)(v.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(24)],children:[(0,s.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,s.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{text:"Cancel",disabled:y||b,onClick:function(){return i(!1)}}),(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(S.Z,{}),disabled:y||b,onClick:function(){return m()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function es(e){var n,t=e.currentUser,r=(0,a._)(M.useState(null),2),i=r[0],o=r[1],l=(0,a._)((n=(0,D._)({},K,{onError:function(){return o("Something went wrong")},onCompleted:function(){return o(null)}}),k.D(en,n)),2),c=l[0],u=l[1].loading;return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(4),G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:"default",css:[G.l0.fontWeight.medium],children:"Receive transactional notifications via email"}),(0,s.tZ)(w.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]}),(0,s.tZ)(b.r,{isSelected:t.emailNotifications,onChange:function(){u||c({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(4),G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:"default",css:[G.l0.fontWeight.medium],children:"Receive marketing notifications"}),(0,s.tZ)(w.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]}),(0,s.tZ)(b.r,{isSelected:t.marketingNotifications,onChange:function(){u||c({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,s.tZ)(er,{children:i}):null]})}function ec(e){var n=e.currentUser,t=(0,h.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(24),G.l0.p(16)],children:[(0,s.tZ)(ei,{currentUser:n}),(0,s.tZ)(eo,{}),t?(0,s.tZ)(el,{currentUser:n}):null,(0,s.tZ)(es,{currentUser:n})]}),(0,s.tZ)(C.G,{css:[G.l0.border({color:G.TV.outlineDimmest,direction:"top"}),G.l0.p(16)],children:(0,s.tZ)(ea,{})})]})}var eu=t(93918),ed=(0,eu.X)({container:[G.l0.colWithGap(24),G.l0.p(16)],row:[G.l0.flex.row,G.l0.justify.spaceBetween],cell:[G.l0.colWithGap(4)],label:[G.l0.fontWeight.medium]});function eh(e){var n=e.currentUser;return(0,s.tZ)(C.G,{css:ed.container,children:(0,s.tZ)(C.G,{css:ed.row,children:(0,s.BX)(C.G,{css:ed.cell,children:[(0,s.tZ)(x.xv,{css:ed.label,children:"Your email"}),(0,s.tZ)(x.xv,{children:n.email})]})})})}var ep=t(60814),em=t(55534),ef=t(24801),eg=t(19089),ev=t(29639);function eZ(){var e=(0,R._)(["\n  mutation TrialUpgradeModalSetBillingInterval(\n    $input: SetTrialBillingPeriodInput!\n  ) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...ReverseTrialCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eZ=function(){return e},e}var ey={},eb=(0,X.Ps)(eZ(),ev.Wd),ex=t(70002),ew=t(74094),eC=t(88936),eU=t(30703),e_=t(57784),eB=(0,eu.X)({subsectionContainer:[G.l0.colWithGap(12),G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}],planButtonLink:[G.l0.width("fit-content")],sectionDivider:[G.l0.width("100%"),G.l0.height(1),G.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eT(e){var n,t,r,i,o=e.currentUser,l=null==o?void 0:o.hasUsageUtopia,a=null==o?void 0:null===(t=o.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,c=(null==o?void 0:null===(r=o.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==o?void 0:null===(i=o.cycles.transactions)||void 0===i?void 0:i.items.length)>0,u=a===I.Cs.Apple||a===I.Cs.Google?"Resource usage payment details":"Payment details";return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eB.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,s.tZ)(eP,{currentUser:o}),l?null:(0,s.tZ)(ex.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,s.tZ)(ew.Z,{}),css:eB.planButtonLink})]}),(0,s.BX)(C.G,{css:eB.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:u}),(0,s.tZ)(eg.S,{})]}),l?(0,s.BX)(C.G,{css:eB.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),c?(0,s.tZ)(eS,{}):(0,s.tZ)(ex.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,s.tZ)(ew.Z,{}),css:eB.planButtonLink})]}):null]})}function eS(){var e=(0,ep.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,s.tZ)(x.xv,{children:"Loading balance..."});return n?r=(0,s.BX)(s.HY,{children:[(0,s.tZ)(ew.Z,{size:16,css:{marginRight:2}}),(0,s.tZ)(x.xv,{multiline:!1,children:n})]}):t&&(r=(0,s.tZ)(y.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:[G.l0.flex.row,G.l0.align.center,G.l0.pb(8)],children:r}),(0,s.tZ)(ex.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eB.planButtonLink})]})}function eG(e){var n,t,r=e.currentUser,i=r.billingInfo,o=r.userSubscription,l=(0,em.Z)(),c=l.showConfirm,u=l.showError,d=(0,a._)((n=(0,D._)({},ey,{onCompleted:function(){c("Your billing period has been updated.")},onError:function(){u("Unable to update billing period.")}}),k.D(eb,n)),2),h=d[0],p=d[1].loading,m=null==o?void 0:o.isTrial,g=(0,ef.DC)(null==i?void 0:null===(t=i.planInfo)||void 0===t?void 0:t.interval),v="monthly"===g;return m&&g?(0,s.tZ)(f.zx,{text:v?"Save $100 with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:v?"blurple":void 0,disabled:p,iconLeft:p?(0,s.tZ)(eC.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===g?I.qh.Monthly:I.qh.Yearly}}})}}):null}function eP(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,i=null==t?void 0:t.planInfo,o=null==i?void 0:i.provider,l=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,c=(null==t?void 0:t.expiration)?new Date(t.expiration):null,u=null==i?void 0:i.coupon,d=(null==u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var m=new Date,f=!!c&&m>c,g="You'll retain your ".concat(t?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return(o===I.Cs.Apple||o===I.Cs.Google)&&i?(0,s.tZ)(e_.Z,{planName:i.description,provider:o}):(0,s.BX)(s.HY,{children:[f||l||!i?null:(0,s.tZ)(x.xv,{variant:"small",multiline:!1,children:g}),a?(0,s.tZ)(y.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted or Always On Repls in your plan's quota will automatically be un-Boosted or set to no longer be Always On. Repls Boosted or Always On through Cycles will remain unaffected.")}):null,u?(0,s.tZ)(y.E,{icon:(0,s.tZ)(eU.Z,{}),colorway:"positive",text:h}):null,(0,s.BX)(C.G,{css:eB.detailsGrid,children:[!f&&i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:i.description})]}):null,!f&&l?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,s.tZ)(x.xv,{multiline:!1,children:l.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,s.BX)(x.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,s.tZ)(C.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,s.tZ)(eG,{currentUser:n})})]}):null,f||l||!c?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,s.tZ)(x.xv,{multiline:!1,children:c.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)?(0,s.tZ)(s.HY,{children:(0,s.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,s.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,s.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var eI=t(48900),eM=t(28074),eD=t(89308),eR=t(36655),eX=t(58719),ek=t(8017),eA=t(40028),eE=t(59060),eW=t(14819);function eN(){var e=(0,R._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return eN=function(){return e},e}function ez(){var e=(0,R._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return ez=function(){return e},e}function eV(){var e=(0,R._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eV=function(){return e},e}var eL={},ej=(0,X.Ps)(eN());ez();var eY=(0,X.Ps)(eV(),ej),eq=function(e){switch(e){case I.x9.Apple:return"apple.com";case I.x9.Facebook:return"facebook.com";case I.x9.Github:return"github.com";case I.x9.Google:return"google.com";default:(0,eA.Z)(e)}};function e$(e){var n,t,r,i,o,l=e.currentUser,h=(0,eM.L)().user,p=null!==(o=null==h?void 0:h.providerData)&&void 0!==o?o:[],m=(0,a._)(M.useState(null),2),g=m[0],Z=m[1],y=(0,a._)(M.useState(null),2),b=y[0],w=y[1],U=(0,eR.J)(),_=(0,a._)((n={onError:function(){return Z("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){return[2,Z(null)]})})},t=(0,D._)({},eL,n),k.D(eY,t)),2),B=_[0],T=_[1],S=(r=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:if(h)return[3,1];return eI.Tb(Error("Tried to connect OAuth provider without SDK user")),Z("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=eq(e),[4,(0,d.Ps)(h,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?Z("This provider is already linked to your account."):Z("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),P=(i=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if(n=e.provider,t=e.name,h)return[3,1];return eI.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=eq(n),[4,(0,d.xV)(h,r)];case 2:if("error"===(i=o.sent()).type)switch(i.treatment){case"provider-not-linked":Z("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":Z("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eA.Z)(i)}o.label=3;case 3:return B({variables:{provider:n.toUpperCase()}}),w(null),[2]}})}),function(e){return i.apply(this,arguments)});return M.useEffect(function(){var e;(0,d.WT)().then((e=(0,c._)(function(e){var n,t,r,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eE._i)return[3,6];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,eD.d8)(e.result.user)];case 2:if("error"===(t=o.sent()).type)throw Error(t.message);return[3,4];case 3:return r=o.sent(),eI.Tb(r),[2];case 4:return[4,U({userCredential:e.result,oauthProviderId:eE._i,scopes:[]})];case 5:"error"===(i=o.sent()).type&&Z(i.message),o.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":Z("This provider cannot be used, please try another method.");break;case"email-conflict":Z("This email cannot be used, please try another method.");break;case"forbidden-operation":Z("That action is not permitted");break;case"user-needs-email":Z("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":Z("Something unexpected happened, please try again.");break;default:(0,eA.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return eI.Tb(e)})},[]),(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[[{name:"GitHub",provider:I.x9.Github,isConnected:l.githubAuth},{name:"Google",provider:I.x9.Google,isConnected:l.googleAuth},{name:"Facebook",provider:I.x9.Facebook,isConnected:l.facebookAuth},{name:"Apple",provider:I.x9.Apple,isConnected:l.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,i=eq(t),o=p.find(function(e){return e.providerId===i}),l=null!=r?r:void 0!==o;return(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:l?"default":"dimmest",css:[G.l0.fontWeight.medium],children:n}),(0,s.tZ)("div",{children:l?(0,s.tZ)(f.zx,{onClick:function(){return w({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:T.loading,iconLeft:(0,s.tZ)(eX.Z,{})}):(0,s.tZ)(f.zx,{onClick:function(){return S(t)},text:"Connect",iconLeft:(0,s.tZ)(ek.Z,{})})})]},t)}),g?(0,s.tZ)(er,{children:g}):null,(0,s.tZ)(v.u,{isOpen:null!==b,onRequestClose:function(){return w(null)},children:b?(0,s.tZ)(eW.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(b.name),onCancel:function(){return w(null)},onConfirm:function(){return P(b)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var eO=t(25e3),eF=t(94450),eH=t.n(eF),eQ=t(29358),eJ=t(5542);function eK(){var e=(0,R._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return eK=function(){return e},e}function e0(){var e=(0,R._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return e0=function(){return e},e}var e1={},e2=(0,X.Ps)(eK()),e8=(0,X.Ps)(e0(),e2),e3=t(63461),e4=t(36010),e9=t.n(e4),e6=t(39390),e7=t(29479),e5=t(56971),ne=t(79621),nn=t(32855),nt=t(8279),nr=t(93496),ni=(0,eu.X)({ruiInput:[G.l0.height(32),{fontSize:"".concat(G.TV.fontSizeDefault," !important"),backgroundColor:"".concat(nr.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(G.TV.space8," !important")},":not(:disabled)":{borderColor:"".concat(nr.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(nr.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(G.TV.accentPrimaryDefault," !important")}}]});function no(e){var n,t,r=e.currentUser,i=(0,a._)(M.useState(null),2),o=i[0],d=i[1],h=(0,a._)(M.useState(!1),2),m=h[0],g=h[1],Z=M.useRef(r.bio),y=(0,a._)((n=(0,D._)({},e1,{onError:function(e){d(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return d(null)}}),k.D(e8,n)),2),b=y[0],x=y[1].loading,w=(0,p.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),_=(0,p.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),B=(0,p.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),T=(t=(0,c._)(function(e){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,b({variables:{input:{firstName:w.value,lastName:_.value,bio:B.value}}})];case 1:return n.sent(),Z.current!==B.value&&((0,nn.w)({source:"profile",surface:"bio"}),Z.current=B.value),[2]}})}),function(e){return t.apply(this,arguments)});return(0,s.BX)("div",{className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]]),children:[(0,s.BX)("div",{className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]])+" profile",children:[(0,s.tZ)("div",{className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]])+" profile-image",children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(8),G.l0.width(128)],children:[(0,s.tZ)(e5.Z,{currentUser:r,onChange:function(e){return b({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(S.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return g(!0)}}):null]})}),(0,s.tZ)("div",{className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]])+" profile-info",children:(0,s.tZ)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,s.tZ)("form",{onSubmit:T,className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]]),children:(0,s.BX)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,s.tZ)(P.gC,{wrap:"nowrap",align:"end",children:(0,s.tZ)(eQ.ZP,{style:{cursor:"not-allowed",border:"none"},css:ni.ruiInput,disabled:!0,description:r.canChangeUsername?(0,s.BX)(s.HY,{children:["* You can change your username"," ",(0,s.tZ)(e9(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,s.BX)(P.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,s.BX)(P.Ug,{spacing:2,wrap:"nowrap",children:[(0,s.tZ)(eQ.ZP,{css:ni.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,s.tZ)(eQ.ZP,{css:ni.ruiInput,label:"Last name",onChange:function(e){return _.setValue(e.target.value)},value:_.value,validationResults:_.error?[{message:_.error.message,state:"error"}]:void 0})]}),(0,s.BX)("div",{className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]]),children:[(0,s.tZ)(e3.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,s.tZ)("textarea",{css:ni.ruiInput,maxLength:140,value:B.value,onChange:function(e){return B.setValue(e.target.value)},placeholder:"Add a bio",className:eH().dynamic([["eb9d7f32a9a7df20",[e7.j.mobileMax]]])}),(0,s.BX)(e3.Z,{size:"xsmall",foreground:3,children:["* ",B.value.length," / ",140," characters"]})]})]}),o?(0,s.tZ)(er,{children:o}):null,(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.end,(0,l._)({gap:12},G.BC.max("mobileMax"),[G.l0.flex.column,{gap:8}])],children:[(0,s.tZ)(ex.Z,(0,eO._)((0,D._)({},(0,eJ.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,s.tZ)(e6.Z,{}),text:"View my public profile"})),(0,s.tZ)(f.zx,{disabled:x,colorway:"primary",type:"submit",iconLeft:x?(0,s.tZ)(eC.Z,{}):(0,s.tZ)(U.Z,{}),text:"Save Changes",css:[x?nt.p.backgroundPulse(G.TV.accentPrimaryDimmest,G.TV.accentPrimaryDimmer):null]})]})]})})})})]}),(0,s.tZ)(v.u,{isOpen:m,onRequestClose:function(){return g(!1)},children:(0,s.tZ)(ne.Z,{name:"profile photo",entityType:"photo",delete:function(){b({variables:{input:{profileImageId:null}}})},hideModal:function(){return g(!1)}})}),(0,s.tZ)(eH(),{id:"eb9d7f32a9a7df20",dynamic:[e7.j.mobileMax],children:".profile-image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-bottom:var(--space-16)}.profile-info.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (min-width:".concat(e7.j.mobileMax,"px){.profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.profile-image.__jsx-style-dynamic-selector{padding-right:var(--space-16);width:-webkit-calc(128px + var(--space-16));width:-moz-calc(128px + var(--space-16));width:calc(128px + var(--space-16));padding-bottom:0}}.error.__jsx-style-dynamic-selector{padding:var(--space-8)0;color:var(--accent-negative-default)}textarea.__jsx-style-dynamic-selector{margin:var(--space-4)0;min-height:42px;height:100px;resize:none;font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.1s box-shadow;-moz-transition:.1s box-shadow;-o-transition:.1s box-shadow;transition:.1s box-shadow;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}")})]})}var nl=t(78066),na=t(56231),ns=t(38080);function nc(){var e=(0,R._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return nc=function(){return e},e}function nu(){var e=(0,R._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return nu=function(){return e},e}function nd(){var e=(0,R._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nd=function(){return e},e}function nh(){var e=(0,R._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nh=function(){return e},e}var np={},nm=(0,X.Ps)(nc()),nf=(0,X.Ps)(nu()),ng=(0,X.Ps)(nd()),nv=(0,X.Ps)(nh());function nZ(){var e,n,t,r,i=(0,a._)(M.useState(null),2),o=i[0],l=i[1],c=(0,a._)((e=(0,D._)({},np,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?l(e.addReplIdentityAllowedRepl.message):(l(null),b())}}),k.D(ng,e)),2),u=c[0],d=c[1].loading,h=(0,a._)((n=(0,D._)({},np,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?l(e.deleteReplIdentityAllowedRepl.message):(l(null),b())}}),k.D(nv,n)),2),p=h[0],m=h[1].loading,g=(t=(0,D._)({},np,void 0),A.a(nf,t)),v=g.data,Z=g.loading,y=g.error,b=g.refetch;if(Z)return(0,s.tZ)(eC.Z,{});var w=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[];return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.tZ)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,s.tZ)(na.Z,{disabled:d,filter:function(e){return!w.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){w.find(function(n){return n.id===e.id})||u({variables:{input:{replId:e.id}}})},showComboBox:!0}),w.length>0?(0,s.BX)(C.G,{css:[G.l0.pt(8),G.l0.colWithGap(8)],children:[(0,s.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),w.map(function(e){return e?(0,s.BX)(ns.Tg,{background:"higher",css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center,G.l0.p(8),G.l0.borderRadius(8)],children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(8)],children:[(0,s.tZ)(nl.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(x.xv,{multiline:!1,css:[G.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,s.tZ)(f.zx,{disabled:m,variant:"outlined",onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null})]}):(0,s.tZ)("p",{children:"You haven't authorized any Repls yet."}),o?(0,s.tZ)(er,{children:o}):null,"string"==typeof y?(0,s.tZ)(er,{children:y}):null]})}var ny=t(46590),nb=t(93302),nx=t(63623),nw=t(6378),nC=t(32078);function nU(e){var n,t,r=e.billableMetric,i=(0,a._)((0,M.useState)(),2),o=i[0],s=i[1],c=(0,a._)((0,M.useState)(),2),u=c[0],d=c[1],h=(0,a._)((0,M.useState)(""),2),p=h[0],m=h[1],f=(t={},(0,l._)(t,I.oD.AutoscaleComputeSeconds,"ComputeUnits"),(0,l._)(t,I.oD.AccountDeploymentsEgress,"GiB"),(0,l._)(t,I.oD.AutoscaleRequests,"Requests"),(0,l._)(t,I.oD.NeonComputeTime,"ComputeHours"),(0,l._)(t,I.oD.NeonDataStorage,"GiB"),(0,l._)(t,I.oD.NeonDataTransfer,"GiB"),(0,l._)(t,I.oD.NeonWrittenData,"GiB"),t)[r],g=(0,nx.Ql)({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var n;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){d("Unexpected response");return}switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":s(e.currentUser.usageBasedBilling),m(e.currentUser.username);break;case"UnauthorizedError":case"UserError":d(e.currentUser.usageBasedBilling.message);break;default:d("Unexpected response")}},onError:function(e){d(e.message)}}).loading,v=(0,M.useMemo)(function(){return(0,nC.lc)({billingPeriodSummary:null==o?void 0:o.currentBillingPeriod,billableMetric:r})},[o,r]),Z=(0,M.useMemo)(function(){if(null==o?void 0:o.currentBillingPeriod){var e=new Date(o.currentBillingPeriod.billingPeriodEnd);if(e)return{long:e.toLocaleString("default",{month:"long",day:"numeric"}),short:e.toLocaleString("default",{month:"2-digit",day:"numeric"})}}},[o]),y=null==o?void 0:null===(n=o.currentBillingPeriod)||void 0===n?void 0:n.totals.find(function(e){return e.billableMetric===r}),b=null==y?void 0:y.usage,x=null==y?void 0:y.freeUnits,w=null!=b&&null!=x?Math.max(b,x):void 0,C=null==y?void 0:y.overageCostsUSD,U=void 0;w&&0!==w?U="".concat((0,nb.fZ)(null!=b?b:0,{resourceUsageType:f,precision:1,skipUnits:!0})," / ").concat((0,nb.fZ)(w,{resourceUsageType:f,precision:1})):b&&(U="".concat((0,nb.fZ)(b,{resourceUsageType:f,precision:1})));var _=Z?"Resets on ".concat(Z.long):"",B=Z?"Resets ".concat(Z.short):"",T=nT({totalUsage:null!=b?b:void 0,totalFreeUnits:null!=x?x:void 0,overageCostsUSD:null!=C?C:void 0,resourceUsageType:f});return{username:p,loading:g,errorMessage:u,resourceSummary:v,resourceUsageType:f,totalUsageMessage:U,statusMessageLong:_,statusMessageShort:B,overageIndicator:T}}var n_=function(e){var n=e.context,t=e.title,r=e.titleShort,i=e.infoTooltipMessage,o=nU({billableMetric:e.billableMetric}),l=o.loading,a=o.totalUsageMessage,c=o.resourceSummary,u=o.resourceUsageType,d=o.username,h=o.statusMessageLong,p=o.errorMessage,m=o.overageIndicator;return(0,s.tZ)(nw.Z,{context:n,title:t,titleShort:r,infoTooltipMessage:i,totalUsageMessage:a,resourceSummary:c,resourceUsageType:u,username:d,statusMessage:h,errorMessage:p,loading:l,overageSummary:null==m?void 0:m.summary,overageIndicator:null==m?void 0:m.indicator})},nB=(0,eu.X)({usage:[{fontWeight:G.TV.fontWeightBold}]}),nT=function(e){var n=e.totalUsage,t=e.totalFreeUnits,r=e.overageCostsUSD,i=e.resourceUsageType;if(null!=n&&null!=t&&null!=r&&(!(n<=t)||!(r<=0)))return{indicator:(0,s.BX)(x.xv,{color:"dimmer",children:[(0,s.tZ)(x.xv,{css:G.l0.color.accentPrimaryStrongest,children:"Limit depleted "}),"(",(0,nb.fZ)(Math.max(0,n),{resourceUsageType:i,precision:1,skipUnits:!0})," ","used)"]}),summary:(0,s.BX)(x.xv,{children:[(0,s.tZ)(x.xv,{css:nB.usage,children:(0,nb.fZ)(Math.max(0,n-t),{resourceUsageType:i,precision:1,additional:!0})})," ","(",Math.max(0,r).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),") ",(0,s.tZ)(x.xv,{color:"dimmer",children:"this month so far"})]})}},nS=t(95492),nG=t(49996),nP=(0,eu.X)({self:[G.l0.colWithGap(6)],header:[G.l0.flex.row,G.l0.rowWithGap(0),G.l0.flex.growAndShrink(1),G.l0.justify.spaceBetween,G.l0.align.baseline],title:[G.l0.flex.growAndShrink(0)],info:[G.l0.rowWithGap(4),G.l0.align.center],loader:[G.l0.justify.center,G.l0.flex.row],usage:[G.l0.flex.growAndShrink(0),G.l0.align.baseline,G.l0.flex.row],total:[G.l0.py(1),G.l0.flex.growAndShrink(0)],tooltipIcon:[(0,l._)({},(0,nG.EM)("mobileMax"),[G.l0.display.none])]}),nI=function(e){var n=e.context,t=e.title,r=e.billableMetric,i=e.infoTooltipMessage,o=nU({billableMetric:r}),l=o.loading,a=o.totalUsageMessage,c=o.resourceSummary,u=o.resourceUsageType,d=o.username,h=o.statusMessageShort,p=o.errorMessage,m=o.overageIndicator,f=(null==m?void 0:m.indicator)?m.indicator:a?(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",css:nP.total,multiline:!1,children:a}):null;return(0,s.BX)(C.G,{css:nP.self,children:[(0,s.BX)(C.G,{css:nP.header,children:[(0,s.tZ)(x.xv,{variant:"small",color:"dimmest",css:nP.title,children:t}),(0,s.tZ)(C.G,{css:nP.info,children:l?(0,s.tZ)(C.G,{css:nP.loader,children:(0,s.tZ)(eC.Z,{size:12})}):(0,s.BX)(s.HY,{children:[(0,s.BX)(x.xv,{variant:"small",color:"dimmest",css:nP.usage,children:[f," \xa0\xa0",h]}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(B.Z,{css:nP.tooltipIcon,size:12})})]})})]}),p?(0,s.tZ)(y.E,{colorway:"negative",text:p}):null,c?(0,s.tZ)(nS.$,{small:!0,summary:c,context:{type:"cycles_page"===n?n:"account_page"},username:d,resourceUsageType:u}):null]},r)},nM=(0,eu.X)({header:[G.l0.rowWithGap(16),G.l0.align.center,G.l0.justify.spaceBetween,G.l0.mb(12),(0,l._)({},(0,nG.EM)("mobileMax"),[G.l0.flex.wrap])],main:[G.l0.rowWithGap(4),G.l0.align.center],title:[G.l0.display.flex,(0,l._)({},(0,nG.EM)("mobileMax"),[G.l0.display.none])],titleShort:[G.l0.display.none,(0,l._)({},(0,nG.EM)("mobileMax"),{display:"unset"})],tooltipIcon:(0,l._)({},(0,nG.EM)("mobileMax"),[G.l0.display.none]),items:[G.l0.colWithGap(12),G.l0.flex.growAndShrink(1)]}),nD=function(e){var n=e.context,t=e.title,r=e.titleShort,i=e.infoTooltipMessage,o=e.billableMetrics;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(C.G,{tag:"header",css:nM.header,children:(0,s.BX)(C.G,{css:nM.main,children:[(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nM.title,children:t}),(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nM.titleShort,children:r}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(B.Z,{css:nM.tooltipIcon})})]})}),(0,s.tZ)(C.G,{css:nM.items,children:o.map(function(e){var t=e.title,r=e.billableMetric,i=e.infoTooltipMessage;return(0,s.tZ)(nI,{context:n,title:t,billableMetric:r,infoTooltipMessage:i},r)})})]})},nR=t(38213),nX=t(12912),nk=t(14986),nA=t(23211),nE=(0,eu.X)({section:[G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}],buttonLink:[G.l0.width("fit-content")],buttonContainer:[G.l0.p(16)]});function nW(e){var n=e.children;return(0,s.tZ)(C.G,{css:nE.section,children:n})}var nN=function(){var e=(0,h.P5)({controlName:nA.uZ,logFlagToAnalytics:!1});return(0,nR.A)()?(0,s.tZ)(C.G,{css:nE.buttonContainer,children:(0,s.tZ)(ex.Z,{href:"/usage",variant:"outlined",text:"View Usage",iconLeft:(0,s.tZ)(nX.Z,{}),css:nE.buttonLink})}):(0,s.BX)(C.G,{children:[(0,s.tZ)(nW,{children:(0,s.tZ)(n_,{context:"account_resource_usage",billableMetric:I.oD.AutoscaleComputeSeconds,title:"Autoscale Deployments",titleShort:"Autoscale Deployments",infoTooltipMessage:"Usage of Autoscale Deployments is measured in compute units."})}),(0,s.tZ)(nW,{children:(0,s.tZ)(n_,{context:"account_resource_usage",billableMetric:I.oD.AccountDeploymentsEgress,title:"Deployments Outbound Data Transfer",titleShort:"Deployments Data Transfer",infoTooltipMessage:"Usage of Deployments Outbound Data Transfer is measured in bytes."})}),(0,s.tZ)(nW,{children:(0,s.tZ)(n_,{context:"account_resource_usage",billableMetric:I.oD.AutoscaleRequests,title:"Autoscale Incoming Requests",titleShort:"Autoscale Requests",infoTooltipMessage:"Usage of Autoscale Incoming Requests is measured in requests."})}),e?(0,s.tZ)(nW,{children:(0,s.tZ)(nD,{context:"account_resource_usage",title:"PostgreSQL Database",titleShort:"PostgreSQL Database",infoTooltipMessage:"Usage of PostgreSQL Databases are measured across the metrics listed below.",billableMetrics:[{title:"Compute time",titleShort:"Compute time",billableMetric:I.oD.NeonComputeTime,infoTooltipMessage:"The amount of compute resources used per hour."},{title:"Data storage",titleShort:"Data storage",billableMetric:I.oD.NeonDataStorage,infoTooltipMessage:"The volume of data and history stored."},{title:"Data transfer",titleShort:"Data transfer",billableMetric:I.oD.NeonDataTransfer,infoTooltipMessage:"The volume of data transferred out."},{title:"Written data",titleShort:"Written data",billableMetric:I.oD.NeonWrittenData,infoTooltipMessage:"The volume of data written from compute to storage."}]})}):null,(0,s.tZ)(nW,{children:(0,s.tZ)(ny.Z,{context:"account_resource_usage"})}),(0,s.tZ)(nW,{children:(0,s.tZ)(nk.r,{context:"account_page"})})]})},nz=t(60769),nV=t(92920),nL=t(90351),nj=t(10981),nY=(0,eu.X)({preferencesContainer:[G.l0.colWithGap(24)],preference:[G.l0.rowWithGap(8),G.l0.justify.spaceBetween],labelTitle:[G.l0.fontWeight.medium]});function nq(){var e=(0,nV.Z)(),n=e.preferences,t=e.update,r=e.loading,i=(0,nL.$0)().fireCircularBurstFrom,o=(0,nj.U)();return(0,s.tZ)(C.G,{css:nY.preferencesContainer,children:(0,s.BX)(C.G,{css:nY.preference,children:[(0,s.BX)(C.G,{tag:"label",htmlFor:o("delight"),children:[(0,s.tZ)(x.xv,{css:nY.labelTitle,children:"Extra delight mode"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,s.tZ)(nz.X,{id:o("delight"),checked:n.extraDelight,disabled:r,onChange:function(e){r||(e.target.checked&&i({element:e.target}),t({extraDelight:e.target.checked}))}})]})})}function n$(){var e=(0,R._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return n$=function(){return e},e}function nO(){var e=(0,R._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nO=function(){return e},e}var nF={},nH=(0,X.Ps)(n$()),nQ=(0,X.Ps)(nO(),nH),nJ=t(87279),nK=(0,eu.X)({rolesContainer:[G.l0.colWithGap(24),G.l0.align.stretch],role:[G.l0.rowWithGap(8),G.l0.align.center,G.l0.justify.spaceBetween],label:[G.l0.fontWeight.medium]});function n0(e){var n,t=e.currentUser,r=(0,a._)(M.useState(null),2),i=r[0],o=r[1],l=t.roles.map(function(e){return e.key}),c=(0,a._)((n=(0,D._)({},nF,{onError:function(){return o("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?o(e.updateRole.message):o(null)}}),k.D(nQ,n)),2),u=c[0],d=c[1].loading;return(0,s.BX)(C.G,{css:nK.rolesContainer,children:[[{name:"Explorer",role:I.SM.Explorer}].map(function(e){var n=e.name,t=e.role,r=l.includes(t);return(0,s.BX)(M.Fragment,{children:[(0,s.BX)(C.G,{css:nK.role,children:[(0,s.tZ)(x.xv,{color:r?"default":"dimmest",css:nK.label,children:n}),(0,s.tZ)(b.r,{isSelected:r,onChange:function(){d||u({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===I.SM.Explorer?(0,s.tZ)(y.E,{icon:(0,s.tZ)(nJ.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),i?(0,s.tZ)(er,{children:i}):null]})}var n1=t(66587),n2=(0,eu.X)({container:[G.l0.colWithGap(16)],row:[G.l0.rowWithGap(16),G.l0.justify.spaceBetween,G.l0.align.center],property:[G.l0.colWithGap(4)],label:[G.l0.fontWeight.medium]}),n8=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,s.tZ)(C.G,{css:n2.container,children:(0,s.BX)(C.G,{css:n2.row,children:[(0,s.BX)(C.G,{css:n2.property,children:[(0,s.tZ)(x.xv,{css:n2.label,children:"Phone Number"}),(0,s.tZ)(x.xv,{children:r})]}),(0,s.tZ)(w.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,s.tZ)(f.zx,{text:"Edit",iconLeft:(0,s.tZ)(_.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,s.tZ)(n1.Z,{context:n,onSuccess:t,autoFocus:!1})},n3=t(75246),n4=t(79378),n9=t(27302),n6=t(73764),n7=t(50946),n5=t(80339),te=t(84822),tn=t(58003),tt=t(46320),tr=t(13051),ti=t(17054),to=t(99656),tl=t(94098),ta=t(28121),ts=(0,eu.X)({section:[G.l0.borderRadius(12)],self:[G.l0.colWithGap(8),G.l0.align.stretch,G.l0.position.relative],header:[G.l0.flex.row,G.l0.justify.spaceBetween,(0,l._)({},G.BC.max("mobileMax"),[G.l0.colWithGap(8)])],actions:[G.l0.align.center,G.l0.rowWithGap(8)],actionButton:[(0,l._)({},G.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[G.l0.rowWithGap(8),G.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function tc(e){var n=e.title,t=e.children,r=(0,ti.oM)();return(0,s.BX)(C.G,{css:ts.self,children:[(0,s.tZ)(C.G,{css:ts.linkAnchor,id:"themes"}),(0,s.BX)(C.G,{css:ts.header,children:[(0,s.BX)(C.G,{css:ts.titleWrapper,children:[(0,s.tZ)(x.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n}),(0,s.tZ)(tl.Z,{feature:ta.l.Themes})]}),(0,s.BX)(C.G,{css:ts.actions,children:[(0,s.tZ)(ex.Z,{dataCy:"browse-themes-button",iconLeft:(0,s.tZ)(ek.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:ts.actionButton}),(0,s.tZ)(ex.Z,{dataCy:"create-theme-button",iconLeft:(0,s.tZ)(to.Z,{}),text:"Create Theme",colorway:"primary",href:ti.ZS.href,as:ti.ZS.as,css:ts.actionButton})]})]}),(0,s.tZ)(ns.Tg,{elevated:!0,tag:"section",css:ts.section,children:t})]})}var tu=t(3310),td=t(17507),th=t(44524);function tp(){var e=(0,R._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return tp=function(){return e},e}function tm(){var e=(0,R._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return tm=function(){return e},e}var tf=(0,X.Ps)(tp(),td.LX,th.x2,th.sj),tg=(0,X.Ps)(tm(),tf);function tv(){var e=(0,R._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tv=function(){return e},e}var tZ={},ty=(0,X.Ps)(tv(),tf),tb=(0,eu.X)({self:[G.l0.colWithGap(12)]}),tx=function(){var e,n,t,r,i=(0,em.Z)().showError,o=(0,nj.U)(),l=(0,a._)(M.useState({count:6}),2),c=l[0],u=l[1],d=(e=(0,D._)({},tZ,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),A.a(ty,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,D._)({type:"custom",values:r},n)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,eO._)((0,D._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,eO._)((0,D._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:tb.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,s.tZ)(tu.Z,{name:o("custom-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:ty,input:c}})]})};function tw(){var e=(0,R._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tw=function(){return e},e}var tC={},tU=(0,X.Ps)(tw(),tg),t_=(0,eu.X)({self:[G.l0.colWithGap(12)]}),tB=function(){var e,n,t,r,i=(0,em.Z)().showError,o=(0,nj.U)(),l=(0,a._)(M.useState({count:6}),2),c=l[0],u=l[1],d=(e=(0,D._)({},tC,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&i(t.message)}}),A.a(tU,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,i=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==i?e.concat([(0,D._)({type:"custom",values:i},r)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,eO._)((0,D._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,eO._)((0,D._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:t_.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,s.tZ)(tu.Z,{name:o("installed-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:tU,input:c}})]})},tT=t(43349),tS=(0,eu.X)({subsection:[G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}]}),tG=function(){return(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:tS.subsection,children:(0,s.tZ)(tT.Z,{})}),(0,s.tZ)(C.G,{css:tS.subsection,children:(0,s.tZ)(tx,{})}),(0,s.tZ)(C.G,{css:tS.subsection,children:(0,s.tZ)(tB,{})})]})},tP=function(){return(0,s.tZ)(tc,{title:"Themes",children:(0,s.tZ)(tG,{})})},tI=t(38785);function tM(){var e=(0,R._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n']);return tM=function(){return e},e}var tD=(0,X.Ps)(tM());function tR(){var e=(0,R._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return tR=function(){return e},e}var tX={},tk=(0,X.Ps)(tR(),e2,Y,tD,nH,ee,ej,nm),tA=(0,eu.X)({page:[G.l0.flex.column,G.l0.px(16),G.l0.py(64),G.l0.pt(32),(r={marginBottom:"50vh",gap:G.TV.space32},(0,l._)(r,G.BC.max("mobileMax"),[G.l0.pt(24),{gap:G.TV.space16}]),(0,l._)(r,G.BC.max("tabletMax"),[G.l0.mb(0)]),r)],tabContainerTop:[nr.gU.listItem,G.l0.p(4),G.l0.rowWithGap(8),G.l0.borderRadius(8)],profilePicture:[G.l0.width(44),G.l0.height(44)],nameContainer:[G.l0.flex.column,G.l0.color.foregroundDefault],firstLastName:[G.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[G.l0.flex.row,G.l0.justify.center,(0,l._)({gap:G.TV.space32},G.BC.max("tabletMax"),[G.l0.pb(32),G.l0.flex.column,{gap:G.TV.space16}])],sectionContainer:[G.l0.colWithGap(32),(0,l._)({},G.BC.min("tabletMax"),G.l0.maxWidth(600))],loadingContainer:[G.l0.width(600),G.l0.maxWidth("100%"),G.l0.height(128),G.l0.center],tabContainerWrapper:[G.l0.colWithGap(8),G.l0.width(200),G.l0.position.sticky,G.l0.top(80),(i={alignSelf:"flex-start"},(0,l._)(i,G.BC.max("tabletMax"),[G.l0.width("100%"),G.l0.position.relative,G.l0.top("revert"),G.l0.mb(0)]),(0,l._)(i,G.BC.max("tabletMax"),[G.l0.display.none]),i)],tabContainerAccordion:[G.l0.mb(0),G.l0.mx(8),G.l0.shadow(1),G.l0.borderRadius(8),G.l0.zIndex(1),G.l0.position.sticky,G.l0.top(56),G.l0.overflow("hidden"),G.l0.border({color:G.TV.outlineDimmest}),(o={backgroundColor:nr.vb.interactiveBackground,"& > button":{padding:G.TV.space8,fontWeight:G.TV.fontWeightMedium,borderRadius:8}},(0,l._)(o,G.BC.min("tabletMax"),[G.l0.display.none]),(0,l._)(o,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(G.TV.outlineDimmest)}),o)],tabComponent:[nr.gU.listItem,G.l0.p(8),G.l0.display.flex,G.l0.borderRadius(8),G.l0.rowWithGap(8),G.l0.height(32),G.l0.align.center,{"&:hover":{color:G.TV.foregroundDefault},"&:hover > svg":{color:G.TV.foregroundDefault}}],tabComponentBorder:[G.l0.my(2),G.l0.mx(4),G.l0.height(1),G.l0.width("calc(100% - 8px)"),G.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":G.l0.borderRadius(0)},roundedCorners:{"& a":G.l0.borderRadius(8)}}),tE=(0,eu.X)({base:[tA.tabComponent,G.l0.backgroundColor.backgroundRoot,G.l0.color.foregroundDimmer,{"& > svg":G.l0.color.foregroundDimmest}],selected:[tA.tabComponent,G.l0.backgroundColor.backgroundDefault,G.l0.color.foregroundDefault,{"& > svg":G.l0.color.foregroundDefault}]}),tW=[{icon:(0,s.tZ)(tr.Z,{}),label:"Profile",href:"profile"},{icon:(0,s.tZ)(tn.Z,{}),label:"Account",href:"account"},{icon:(0,s.tZ)(U.Z,{}),label:"Verification",href:"verification"},{icon:(0,s.tZ)(n7.Z,{}),label:"Billing",href:"billing"},{icon:(0,s.tZ)(n6.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,s.tZ)(n9.Z,{}),label:"Roles",href:"roles"},{icon:(0,s.tZ)(tt.Z,{}),label:"Resource usage",href:"resource-usage"},{icon:(0,s.tZ)(ek.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,s.tZ)(n5.Z,{}),label:"Repl identity",href:"repl-identity"},{icon:(0,s.tZ)(te.Z,{}),label:"Themes",href:"themes"}],tN=function(e){var n=e.icon,t=e.label,r=e.href,i=e.selected,o=e.bottomBorder,l=e.onClick;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(e9(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,s.BX)("a",{onClick:l,css:i?tE.selected:tE.base,children:[n,(0,s.tZ)(x.xv,{color:"default",children:t})]})}),o?(0,s.tZ)(C.G,{css:tA.tabComponentBorder}):null]})};function tz(){var e,n=(e=(0,D._)({},tX,{ssr:!1}),A.a(tk,e)),t=n.data,r=n.refetch,i=null==t?void 0:t.currentUser,o=null==i?void 0:i.roles.some(function(e){return e.key===I.SM.PrivacyLimitedAccess}),l=(0,h.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),c=(0,a._)(M.useState(void 0),2),u=c[0],d=c[1];M.useEffect(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}},[i]);var p=(0,a._)(M.useState(!1),2),m=p[0],f=p[1],g=function(e){var n=e.straightCorners,t=function(e){d(e),f(!1)};return(0,s.tZ)(C.G,{css:n?tA.straightCorners:tA.roundedCorners,children:tW.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!l)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return o&&n?null:(0,s.tZ)(tN,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:u===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,s.tZ)(C.G,{css:tA.page,children:(0,s.BX)(C.G,{css:tA.main,children:[(0,s.BX)(C.G,{css:tA.tabContainerWrapper,children:[(0,s.tZ)(e9(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.BX)(C.G,{css:tA.tabContainerTop,children:[(0,s.tZ)(n4.q,{size:48,css:tA.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,s.BX)(C.G,{css:tA.nameContainer,children:[(0,s.BX)(x.xv,{variant:"subheadDefault",color:"default",css:tA.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,s.tZ)(x.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,s.tZ)(g,{straightCorners:!1,showVerification:l})]}),(0,s.tZ)(n3.Q,{headerContent:"Jump to",css:tA.tabContainerAccordion,expanded:m,onClick:function(){return f(!m)},children:(0,s.tZ)(g,{straightCorners:!0,showVerification:l})}),(0,s.tZ)(C.G,{css:tA.sectionContainer,children:i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(tL,{title:"Profile",id:"profile",setInView:d,children:(0,s.tZ)(no,{currentUser:i})}),(0,s.tZ)(tL,{title:"Account",id:"account",setInView:d,flush:!0,children:o?(0,s.tZ)(eh,{currentUser:i}):(0,s.tZ)(ec,{currentUser:i})}),l?(0,s.tZ)(tL,{title:"Verification",id:"verification",setInView:d,children:(0,s.tZ)(n8,{context:I.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,o?null:(0,s.tZ)(tL,{title:"Billing",id:"billing",setInView:d,flush:!0,children:(0,s.tZ)(eT,{currentUser:i})}),(0,s.tZ)(tL,{title:"Preferences",id:"preferences",setInView:d,children:(0,s.tZ)(nq,{})}),(0,s.tZ)(tL,{title:"Roles",id:"roles",setInView:d,children:(0,s.tZ)(n0,{currentUser:i})}),(0,s.tZ)(tL,{setInView:d,title:"Resource usage",id:"resource-usage",flush:!0,children:(0,s.tZ)(nN,{})}),o?null:(0,s.tZ)(tL,{title:"Connected services",id:"connected-services",setInView:d,children:(0,s.tZ)(e$,{currentUser:i})}),i.hasReplitIdentityTesting?(0,s.tZ)(tL,{title:"Repl identity",id:"repl-identity",setInView:d,children:(0,s.tZ)(nZ,{})}):null," ",(0,s.tZ)(tL,{id:"themes",setInView:d,surface:!1,children:(0,s.tZ)(tP,{})})]}):(0,s.tZ)(C.G,{css:tA.loadingContainer,children:(0,s.tZ)(eC.Z,{size:20})})})]})})}var tV=(0,eu.X)({sectionWrapper:[G.l0.position.relative,G.l0.colWithGap(8),(0,l._)({scrollMarginTop:108},G.BC.min("tabletMax"),{scrollMarginTop:80})],section:[G.l0.p(16),G.l0.borderRadius(12)],sectionFlush:[G.l0.borderRadius(12)],anchor:[G.l0.position.absolute,G.l0.top("50%"),G.l0.width(1),G.l0.height(1)]});function tL(e){var n=e.title,t=e.children,r=e.id,i=e.setInView,o=e.surface,l=e.flush,a=M.useRef(null),c=(0,tI.Y)(a,{margin:"-20% 0px -79% 0px"});M.useEffect(function(){c&&i(r)},[r,c,i]);var u=void 0===o||o?(0,s.tZ)(ns.Tg,{elevated:!0,tag:"section",css:l?tV.sectionFlush:tV.section,children:t}):(0,s.tZ)(C.G,{tag:"section",children:t});return(0,s.BX)(C.G,{css:tV.sectionWrapper,id:r,innerRef:a,children:[n?(0,s.tZ)(x.h4,{level:2,variant:"subheadBig",children:n}):null,u]})}},56971:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(32477),i=t(8182),o=t(43429),l=t(85805),a=t(55534),s=t(43973),c=t(88205),u=t(56596),d=t(29287),h=t(74833),p=t(93918),m=t(79378),f=(0,p.X)({dropContainer:[d.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[d.l0.flex.row,d.l0.center,d.l0.backgroundColor.backgroundOverlay,d.l0.borderRadius("full"),d.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function g(e){var n=e.currentUser,t=e.onChange,d=(0,a.Z)(),p=d.showError,g=d.showConfirm,v=(0,r._)((0,o.useState)(n.image),2),Z=v[0],y=v[1];(0,o.useEffect)(function(){return y(n.image)},[n.image]);var b=(0,l.Z)({onUpload:function(e){return t({imageId:e.id})},onUploadPreview:function(e){y(e.dataUrl),g("Uploading profile image")},onError:function(e){return p(e.message)}});return n.hasPrivacyRole?(0,i.tZ)(m.q,{size:96,src:Z,username:n.username,fullName:n.fullName}):(0,i.BX)(u.G,{css:f.dropContainer,onDrop:function(e){e.preventDefault();var n,t,r=null===(t=e.dataTransfer)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n[0];if(r){if(!r.type.startsWith("image/"))return p("Expected an image file");b.uploadImage(r,c.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,i.tZ)(m.q,{size:96,src:Z,username:n.username,fullName:n.fullName}),(0,i.BX)("label",{css:f.overlayLabel,children:[(0,i.tZ)("input",{accept:s.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null==r?void 0:r.length)&&t&&b.uploadImage(r[0],c.N.ProfileImage)},css:f.uploadInput}),(0,i.tZ)(h.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},79621:function(e,n,t){var r=t(8182);t(43429);var i=t(56596),o=t(74833),l=t(29287),a=t(1498),s=t(52682),c=t(88936);n.Z=function(e){return(0,r.BX)(i.G,{css:[l.l0.colWithGap(24)],children:[(0,r.BX)(o.h4,{variant:"headerDefault",level:2,children:["Delete ",e.name||e.entityType,"?"]}),(0,r.BX)(i.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(o.xv,{children:["Are you sure you want to delete"," ",e.description?e.description:"this ".concat(e.entityType),"? This cannot be undone."]}),"Repl"===e.entityType?(0,r.tZ)(o.xv,{children:"Some Repls may take a few minutes to finish deleting."}):null]}),(0,r.BX)(i.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(a.zx,{text:"Cancel",onClick:e.hideModal}),(0,r.tZ)(a.zx,{dataCy:"delete-modal-confirm-button",disabled:e.isDeleting,iconLeft:e.isDeleting?(0,r.tZ)(c.Z,{}):(0,r.tZ)(s.Z,{}),onClick:function(){e.delete(),e.hideModal()},text:"Yes, delete ".concat(e.confirmDescription?e.confirmDescription:"this ".concat(e.entityType)),colorway:"negative"})]})]})}},94098:function(e,n,t){var r=t(32477),i=t(8182),o=t(43429),l=t(56596),a=t(29287),s=t(74833),c=t(43481);n.Z=function(e){var n=e.feature,t=(0,r._)(o.useState(!1),2),u=t[0],d=t[1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(l.G,{onClick:function(){return d(!u)},children:(0,i.tZ)(s.xv,{multiline:!1,css:[a.l0.fontSize("inherit"),a.l0.color.accentPrimaryStronger,a.l0.cursor.pointer,{":hover":{color:a.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,i.tZ)(c.Z,{feature:n,isOpen:u,setOpen:d})]})}},56231:function(e,n,t){t.d(n,{Z:function(){return X}});var r=t(45903),i=t(25e3),o=t(32477),l=t(21289),a=t(8182),s=t(51384),c=t(31366),u=t(42308),d=t(6187),h=t(7444),p=t(57526),m=t(2161),f=t(93496),g=t(74833),v=t(56596),Z=t(88936),y=t(82723),b=t(29287),x=t(63130),w=t(43429),C=t(93295),U=t(23982),_=t(66039);function B(){var e=(0,C._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return B=function(){return e},e}function T(){var e=(0,C._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}var S={},G=(0,U.Ps)(B()),P=(0,U.Ps)(T(),G),I=v.K.input,M=v.K.div,D=v.K.li,R=(0,s.iv)([f.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function X(e){var n,t,s,f=e.id,C=e.disabled,U=e.filter,B=e.manualSelect,T=e.excludePrivate,G=e.excludeMultiplayer,X=e.onSelect,k=e.selectedIconOverride,A=e.showComboBox,E=(0,o._)(w.useState([]),2),W=E[0],N=E[1],z=(0,o._)(w.useState(""),2),V=z[0],L=z[1],j=w.useRef(null),Y=U?W.filter(U):W,q=(0,x.Kb)({items:Y,initialHighlightedIndex:B?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});w.useEffect(function(){return L(q.inputValue)},[q.inputValue]);var $=(n={variables:{search:(0,d.Z)(V,100),excludePrivate:T,excludeMultiplayer:G},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){N([]);return}N(e.currentUser.replSearch.reduce(function(e,n){return n?(0,l._)(e).concat([n]):e},[]))}},t=(0,r._)({},S,n),_.a(P,t)).loading,O=(0,h.Z)(X);w.useEffect(function(){var e;q.selectedItem&&(null===(e=j.current)||void 0===e||e.blur(),O.current(q.selectedItem))},[q.selectedItem,O]);var F=(null===(s=q.selectedItem)||void 0===s?void 0:s.iconUrl)&&q.inputValue?(0,a.tZ)(v.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:k||(0,a.tZ)(m.ZP,{alt:q.selectedItem.title,iconUrl:q.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(v.G,{css:[{position:"relative"}],children:[(0,a.BX)(M,(0,i._)((0,r._)({},q.getComboboxProps()),{css:{position:"relative"},children:[F,(0,a.tZ)(I,(0,r._)({css:[R,b.l0.pr(32),F&&b.l0.pl(32)]},q.getInputProps({ref:j,id:f,placeholder:"Search for a Repl",onFocus:void 0===A||A?function(e){q.selectedItem&&(e.preventDefault(),e.currentTarget.select(),L("")),q.openMenu()}:void 0}))),(0,a.tZ)(v.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(y.Z,{})})]})),(0,a.tZ)(M,(0,i._)((0,r._)({},q.getMenuProps()),{css:{position:"relative"},children:q.isOpen&&!C?(0,a.BX)(c.Z,{children:[$?(0,a.tZ)(D,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(Z.Z,{})}):null,Y.length||$?null:(0,a.tZ)(D,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(g.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",W.length>0?"more ":null,"repls found"]})}),Y.map(function(e,n){return(0,a.tZ)(D,(0,i._)((0,r._)({},q.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:V,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:q.selectedItem===e,highlighted:q.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},46590:function(e,n,t){var r=t(34142),i=t(32477),o=t(87682),l=t(8182),a=t(38213),s=t(93302),c=t(43429),u=t(84874),d=t(32078),h=t(6378);n.Z=function(e){var n,t=e.context,p=e.title,m=e.titleShort,f=(0,a.A)(),g=(0,i._)((0,c.useState)(),2),v=g[0],Z=g[1],y=(0,i._)((0,c.useState)(),2),b=y[0],x=y[1],w=(0,i._)((0,c.useState)(!1),2),C=w[0],U=w[1],_=(0,i._)((0,c.useState)(""),2),B=_[0],T=_[1],S=function(e){var n;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){x("Unexpected response");return}switch(e.currentUser.egress.__typename){case"UserEgressSummary":Z(e.currentUser.egress),T(e.currentUser.username);break;case"UnauthorizedError":case"UserError":x(e.currentUser.egress.message);break;default:x("Unexpected response")}},G=(0,u.FX)({onCompleted:S,onError:function(e){x(e.message)}}),P=G.loading,I=G.refetch,M=(n=(0,r._)(function(){var e;return(0,o.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,I()];case 1:return(e=n.sent()).error?x(e.error.message):e.errors?x("Something unexpected happened, please try again"):S(e.data),[3,3];case 2:return x(n.sent().message),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)}),D=v?Number(v.monthly.usage):0,R=v?Number(v.monthly.limit):0,X=v?(0,d._4)(v.monthly):void 0,k="Bytes",A=0!==R?"".concat((0,s.fZ)(D,{forceGib:!0,precision:1,skipUnits:!0,resourceUsageType:k})," / ").concat((0,s.fZ)(R,{forceGib:!0,precision:1,resourceUsageType:k})):"".concat((0,s.fZ)(D,{precision:1,resourceUsageType:k})),E=v&&v.monthly.isThrottled?"Bandwidth for your Repls is being throttled. Increase\n        your limit to resume normal speeds.":void 0,W="Resets on ".concat(null==v?void 0:v.monthly.resets),N=!v||v.monthly.showUpgrade||v.monthly.isEnforced?void 0:"Limit not yet enforced";return(0,l.tZ)(h.Z,{context:t,title:void 0===p?"Outbound Data Transfer":p,titleShort:void 0===m?"Data Transfer":m,infoTooltipMessage:"Similar to bandwidth, outbound data transfer is the amount\n      of data that our servers send to your Repls' users and\n      external services.",totalUsageMessage:A,throttlingTooltipMessage:E,resourceSummary:X,resourceUsageType:k,username:B,statusMessage:W,errorMessage:b,loading:P,upgradeModalProps:f?void 0:{showUpgradeModal:C,setShowUpgradeModal:U,onPotentialLimitChange:M,limitEnforcementMessage:N}})}},6378:function(e,n,t){var r=t(39698),i=t(8182),o=t(25491),l=t(1498),a=t(37951),s=t(38080),c=t(74833),u=t(30983),d=t(56596),h=t(93918),p=t(97615),m=t(88936),f=t(20573),g=t(29287),v=t(49996),Z=t(95492),y=t(99656),b=(0,h.X)({self:[g.l0.colWithGap(12),g.l0.flex.growAndShrink(1)]});n.Z=function(e){var n=e.context,t=e.title,h=e.titleShort,x=e.infoTooltipMessage,w=e.totalUsageMessage,C=e.throttlingTooltipMessage,U=e.resourceSummary,_=e.resourceUsageType,B=e.username,T=e.statusMessage,S=e.placeholderMessage,G=e.errorMessage,P=e.loading,I=e.upgradeModalProps,M=e.overageSummary,D=e.overageIndicator;return(0,i.BX)(s.Tg,{css:b.self,children:[P?(0,i.tZ)(d.G,{css:[g.l0.justify.center,g.l0.flex.row],children:(0,i.tZ)(m.Z,{})}):null,G?(0,i.tZ)(a.E,{colorway:"negative",text:G}):null,U?(0,i.BX)(i.HY,{children:[(0,i.BX)(d.G,{tag:"header",css:[g.l0.rowWithGap(16),g.l0.align.center,g.l0.justify.spaceBetween,(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.flex.wrap])],children:[(0,i.BX)(d.G,{css:[g.l0.rowWithGap(4),g.l0.align.center],children:[(0,i.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[g.l0.display.flex,(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.display.none])],children:t}),(0,i.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[g.l0.display.none,(0,r._)({},(0,v.EM)("mobileMax"),{display:"unset"})],children:h}),(0,i.tZ)(u.u,{tooltip:(0,i.tZ)(c.xv,{children:x}),children:(0,i.tZ)(p.Z,{css:[(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.display.none])]})})]}),(0,i.BX)(d.G,{css:[g.l0.rowWithGap(4),g.l0.align.center],children:[C?(0,i.tZ)(u.u,{tooltip:(0,i.tZ)(c.xv,{children:C}),children:(0,i.tZ)(f.Z,{color:"red"})}):null,D||(0,i.tZ)(i.HY,{children:w?(0,i.tZ)(c.xv,{color:"dimmer",css:[g.l0.py(1)],multiline:!1,children:w}):null})]})]}),(0,i.tZ)(d.G,{children:(0,i.tZ)(Z.$,{summary:U,context:{type:"cycles_page"===n?n:"account_page"},username:B,resourceUsageType:_})}),M?(0,i.tZ)(d.G,{children:M}):null,S?(0,i.tZ)(d.G,{children:(0,i.tZ)(c.xv,{color:"dimmest",children:S})}):null,T||I?(0,i.BX)(d.G,{tag:"footer",css:[g.l0.rowWithGap(16),g.l0.justify.spaceBetween,g.l0.align.center],children:[T?(0,i.tZ)(c.xv,{color:"dimmest",multiline:!1,children:T}):null,I?(0,i.BX)(i.HY,{children:[(0,i.tZ)(l.zx,{colorway:"primary",text:"Increase Limit",iconLeft:(0,i.tZ)(y.Z,{}),onClick:function(){return I.setShowUpgradeModal(!I.showUpgradeModal)}}),I.limitEnforcementMessage?(0,i.tZ)(c.xv,{color:"dimmest",multiline:!1,children:I.limitEnforcementMessage}):null]}):null]}):null]}):null,I?(0,i.tZ)(o.Z,{isOpen:I.showUpgradeModal,context:n,powerUp:"egress",uponPurchaseGoTo:"account_resource_usage"===n?"account":"cyclesPage",onRequestClose:function(){I.setShowUpgradeModal(!1),I.onPotentialLimitChange()}}):null]})}},19089:function(e,n,t){t.d(n,{S:function(){return m}});var r=t(8182),i=t(89960),o=t(97764),l=t(71411),a=t(15146),s=t(74833),c=t(56596),u=t(93918),d=t(40102),h=t(29287),p=(0,u.X)({paymentMethodFormContainer:[h.l0.colWithGap(16)],paymentMethodFormHeader:[h.l0.rowWithGap(8),h.l0.align.center]});function m(){var e=(0,l.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,u=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(i.t,{goToNewPaymentMethodForm:function(){return u({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(c.G,{css:p.paymentMethodFormContainer,children:[(0,r.BX)(c.G,{css:p.paymentMethodFormHeader,children:[(0,r.tZ)(a.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(o.q,{onSuccess:t,context:"account_page"})]})}}},63623:function(e,n,t){t.d(n,{Ql:function(){return Z},eD:function(){return g}});var r=t(45903),i=t(93295),o=t(23982),l=t(66039);function a(){var e=(0,i._)(["\n  fragment UserUsageBasedBillingTotals on UsageBasedBillingResourceUsageAndCosts {\n    __typename\n    billableMetric\n    freeUnits\n    usage\n    percentage\n    overageCostsUSD\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,i._)(["\n  fragment UserUsageBasedBillingResourceReplUsage on UsageBasedBillingResourceReplUsage {\n    __typename\n    repl {\n      __typename\n      id\n      title\n      url\n      iconUrl\n      nextPagePathname\n    }\n    usage {\n      billableMetric\n      usage\n      percentage\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i._)(["\n  fragment UserUsageBasedBillingBillingPeriodSummary on UserUsageBasedBillingSummary {\n    __typename\n    currentBillingPeriod {\n      __typename\n      billingPeriodStart\n      billingPeriodEnd\n      totals {\n        ...UserUsageBasedBillingTotals\n      }\n      perRepl {\n        ...UserUsageBasedBillingResourceReplUsage\n      }\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,i._)(["\n  fragment CurrentUserUsageBasedBillingSummary on CurrentUser {\n    __typename\n    usageBasedBilling {\n      __typename\n      ... on UserUsageBasedBillingSummary {\n        capabilities {\n          canUseUsageBasedBilling\n          explanation\n          hasPaymentMethod\n        }\n        ...UserUsageBasedBillingBillingPeriodSummary\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i._)(["\n  query CurrentUserUsageBasedBilling {\n    currentUser {\n      id\n      username\n      ...CurrentUserUsageBasedBillingSummary\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var h={},p=(0,o.Ps)(a()),m=(0,o.Ps)(s()),f=(0,o.Ps)(c(),p,m),g=(0,o.Ps)(u(),f),v=(0,o.Ps)(d(),g);function Z(e){var n=(0,r._)({},h,e);return l.a(v,n)}},14986:function(e,n,t){t.d(n,{r:function(){return j}});var r=t(45903),i=t(25e3),o=t(32477),l=t(8182),a=t(43429),s=t(93918),c=t(29287),u=t(38080),d=t(74833),h=t(56596),p=t(47957),m=t(93302),f=t(95492),g=t(88936),v=t(32078),Z=t(25491),y=t(75582),b=t(5542),x=t(70002),w=t(16166),C=t(91612),U=t(23291),_=t(34785),B=t(52682),T=t(15146),S=t(84731),G=(0,s.X)({self:[c.l0.rowWithGap(4),c.l0.align.center]}),P=function(e){var n=I(e,(0,S.Q)()),t=n.quotaText,r=n.attribution;return(0,l.BX)(h.G,{css:G.self,children:[(0,l.tZ)(d.xv,{color:"dimmer",children:t}),(0,l.tZ)(U.D,{text:r}),"sku"in e?(0,l.tZ)(T.hU,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,l.tZ)(B.Z,{})}):null]})},I=function(e,n){if("sku"in e)return{quotaText:"+".concat(C.zd[e.sku],"GiB"),attribution:"Add-on"};var t=e.userSubscriptionType,r=t?C.XR[t]:C.XR.FREE;return{quotaText:"".concat(r,"GiB"),attribution:(0,_.s)(t,n)}},M=t(74593),D=t(55534),R=t(49344),X=t(1498),k=t(32377),A=t(25680),E=t(37951),W=t(20573),N=(0,s.X)({self:[c.l0.rowWithGap(16),c.l0.justify.spaceBetween,c.l0.align.center],quotaBreakdownAndActions:[c.l0.rowWithGap(12)],deleteModalActions:[c.l0.rowWithGap(12),c.l0.justify.end],deleteModalContent:[c.l0.colWithGap(12)],deleteModal:[c.l0.colWithGap(16)]}),z=function(e){var n=e.username,t=e.setShowUpgradeModal,s=e.userSubscriptionType,c=e.currentSku,u=e.quotaInBytes,m=e.totalInBytes,f=(0,D.Z)(),g=f.showError,v=f.showConfirm,Z=(0,o._)((0,a.useState)(!1),2),U=Z[0],_=Z[1],B=(0,o._)((0,M.iE)({onError:function(e){return g(e.message)},onCompleted:function(e){if("ManageStorageAddOnOutput"!==e.manageStorageAddOn.__typename){g(e.manageStorageAddOn.message);return}v("Storage add-on removed."),_(!1)},refetchQueries:[p.P1]}),2),T=B[0],S=B[1].loading,G=s===y.HP.HackerPro,I=!!c&&u-C.zd[c]*C.lb<m;return(0,l.BX)(h.G,{css:N.self,children:[(0,l.tZ)(x.Z,(0,i._)((0,r._)({},(0,b.Ru)(n)),{text:"Manage Repls"})),(0,l.BX)(h.G,{css:N.quotaBreakdownAndActions,children:[(0,l.tZ)(P,{userSubscriptionType:s}),c?(0,l.tZ)(P,{sku:c,onRequestDelete:function(){return _(!0)}}):null,(0,l.tZ)(w.U,{isPro:G,setShowUpgradeModal:t,source:"account_storage_footer_upgrade_button"})]}),c?(0,l.tZ)(R.u,{centered:!0,isOpen:U,onRequestClose:function(){return _(!1)},children:(0,l.BX)(h.G,{css:N.deleteModal,children:[(0,l.BX)(d.xv,{variant:"headerDefault",children:["Remove ",C.zd[c],"GiB additional storage?"]}),(0,l.BX)(h.G,{css:N.deleteModalContent,children:[(0,l.BX)(d.xv,{children:["This additional storage costs ",(0,C.d_)(c)," ","Cycles (",(0,A.b)(c),") per month."]}),I?(0,l.tZ)(E.E,{colorway:"orange",icon:(0,l.tZ)(W.Z,{}),text:"You’re using more storage than the amount this change will give you. You won’t be able to add new files unless you delete existing files."}):null]}),(0,l.BX)(h.G,{css:N.deleteModalActions,children:[(0,l.tZ)(X.zx,{text:"Cancel"}),(0,l.tZ)(X.zx,{loading:S,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,l.tZ)(k.Z,{}),onClick:function(){T({variables:{input:{setting:y.F$.Off}}})}})]})]})}):null]})},V=t(85838),L=(0,s.X)({self:[c.l0.colWithGap(12),c.l0.flex.growAndShrink(1)],loadingWrapper:[c.l0.center],errorMessage:[c.l0.width("100%"),c.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[c.l0.rowWithGap(16),c.l0.align.center,c.l0.justify.spaceBetween],footerActions:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]}),j=function(e){var n=e.context,t=e.title,s=(0,o._)((0,a.useState)(!1),2),c=s[0],y=s[1],b=(0,p.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),x=b.data,w=b.loading,C=b.refetch;if(w&&!x)return(0,l.tZ)(u.Tg,{css:L.self,children:(0,l.tZ)(h.G,{css:L.loadingWrapper,children:(0,l.tZ)(g.Z,{})})});if(x&&(null===(U=x.currentUser)||void 0===U?void 0:U.__typename)==="CurrentUser"&&"StorageQuota"===x.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===x.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===x.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===x.currentUser.userPowerUpsByType.__typename){var U,_,B,T=x.currentUser.storageInfo,S=T.accountStorageUtilization,G=T.storageQuota.quota,P=S.total,I="Bytes",M="".concat((0,m.fZ)(Number(P),{forceGib:!0,precision:1,resourceUsageType:I})),D="0"===G?M:"".concat(M," / ").concat((0,m.fZ)(Number(G),{forceGib:!0,precision:1,resourceUsageType:I})),R=null!==(_=x.currentUser.userSubscriptionType)&&void 0!==_?_:void 0,X=null!==(B=x.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==B?B:void 0,k=x.currentUser.username;return(0,l.BX)(u.Tg,{css:L.self,children:[(0,l.BX)(h.G,{css:L.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:void 0===t?"Storage":t}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:D})]}),(0,l.tZ)(f.$,{context:{type:n},summary:(0,v._4)((0,i._)((0,r._)({},S),{quota:G})),username:k,resourceUsageType:I}),(0,l.tZ)(V.q,{}),(0,l.tZ)(z,{username:k,setShowUpgradeModal:y,userSubscriptionType:R,currentSku:X,quotaInBytes:Number(G),totalInBytes:Number(P)}),(0,l.tZ)(Z.Z,{isOpen:c,context:n,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){C(),y(!1)}})]})}return(0,l.BX)(h.G,{css:L.self,children:[(0,l.tZ)(Y,{total:"0"}),(0,l.tZ)(h.G,{css:L.errorMessage,children:(0,l.tZ)(d.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},Y=function(e){var n=e.total;return(0,l.BX)(h.G,{css:L.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:(0,m.fZ)(Number(n),{forceGib:!0,resourceUsageType:"Bytes"})})]})}}}]);
//# sourceMappingURL=2898-b8c541f3c02ba611.js.map