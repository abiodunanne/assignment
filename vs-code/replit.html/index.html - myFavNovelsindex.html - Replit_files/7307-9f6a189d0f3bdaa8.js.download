!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="6d8788a9-c6de-424c-914c-40429aa0efa9",n._sentryDebugIdIdentifier="sentry-dbid-6d8788a9-c6de-424c-914c-40429aa0efa9")}catch(n){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2f8d6ed5"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7307],{96298:function(n,e,t){t.d(e,{Z:function(){return w}});var r=t(8182),i=t(10041),o=t(70002),a=t(15146),c=t(24463),u=t(74833),l=t(29287),s=t(30983),f=t(56596),d=t(70671),p=t(12874),v=t(48728),b=t(45903),m=t(25e3);t(43429);var h=t(26),g=function(n){return(0,r.tZ)(h.Z,(0,m._)((0,b._)({viewBox:"0 0 800.5 907.77"},n),{children:(0,r.tZ)("path",{d:"M303.36,238.61c31.36-21.37,71.76-12.97,65-6.53c-12.89,12.28,4.26,8.65,6.11,31.31 c1.36,16.69-4.09,25.88-8.78,31.11c-9.79,1.28-21.69,3.67-36.02,8.33c-8.48,2.76-15.85,5.82-22.31,8.9 c-1.7-1.11-3.55-2.47-5.74-4.36C279.5,288.19,280.24,254.37,303.36,238.61 M490.68,370.72c5.69-4.41,31.55-12.72,55.49-15.55 c12.57-1.48,30.49-2.34,34.31-0.2c7.59,4.19,7.59,17.16,2.39,29.14c-7.57,17.4-18.27,36.63-30.39,38.21 c-19.77,2.61-38.46-8.09-59.8-24.03C485.06,392.56,480.38,378.68,490.68,370.72 M526.75,201.27c29.19,13.58,25.37,39.42,26.18,54.6 c0.22,4.36,0.15,7.3-0.22,9.32c-4.04-2.19-10.43-3.8-20.56-3.35c-2.96,0.12-5.84,0.47-8.63,0.91c-10.77-5.77-17.21-17.06-23.1-29.06 c-0.54-1.11-0.96-2.1-1.36-3.06c-0.17-0.44-0.35-0.91-0.52-1.31c-0.07-0.22-0.12-0.39-0.2-0.59c-3.23-10.25-1.06-12.3,0.3-15.46 c1.41-3.23,6.68-5.89-1.11-8.58c-0.67-0.25-1.5-0.39-2.44-0.57C500.25,197.72,515.7,196.17,526.75,201.27 M367.62,510.22 c-31.45-20.19-63.99-49.15-78.22-65.18c-2.39-1.8-2-9.79-2-9.79c12.84,9.98,66.11,48.04,122.44,65.42 c19.87,6.14,50.36,8.46,76.81-6.53c20.21-11.46,44.54-31.43,59.06-52.01l2.66,4.61c-0.1,3.06-6.78,17.97-10.18,23.96 c6.14,3.53,10.72,4.49,17.55,6.36l46.64-7.27c16.74-27.04,28.74-70.65,15.95-112.16c-7.3-23.81-45.36-71.22-48.09-73.83 c-9.56-9.19,1.6-44.69-17.35-83.42C532.86,159.41,480.67,116.69,458,98.1c6.68,4.88,47.82,21.47,67,44.62 c1.8-2.39,2.54-14.82,4.19-17.97c-16.47-21.57-17.75-59.95-17.75-70.21c0-18.81-9.56-40.13-9.56-40.13s16.47,13.04,20.73,35.5 c5.03,26.6,15.75,47.55,29.93,65.28c26.84,33.43,51.08,50.58,63.33,38.23C630.53,138.58,601,72.2,563.28,35.15 C519.25-8.09,507.74-2.52,481.91,6.7c-20.61,7.35-31.75,65.87-85.47,64.71c-9.1-1.06-32.54-1.63-44.13-1.53 c6.04-8.43,11.22-14.94,11.22-14.94s-18.02,7.25-33.38,16.44l-1.18-1.77c5.18-10.92,10.75-17.82,10.75-17.82s-14.4,8.65-27.54,19.01 c2.39-13.02,11.44-21.27,11.44-21.27s-18.19,3.28-41.36,28.77c-26.33,7.2-32.66,11.93-53.64,21.22 c-34.12-7.44-50.21-19.45-65.55-41.56c-11.68-16.89-32.47-19.45-53.71-10.72c-30.97,12.8-70.14,30.33-70.14,30.33 s12.77-0.52,26.08,0.05c-18.22,6.9-35.72,16.39-35.72,16.39s8.53-0.3,19.06-0.12c-7.27,6.04-11.29,8.92-18.22,13.51 c-16.66,12.1-30.17,26.08-30.17,26.08s11.31-5.15,21.47-8.04c-7.1,16.27-21.18,28.25-18.59,48.17 c2.49,18.19,24.82,55.66,53.64,78.66c2.49,2,41.86,38.43,71.56,23.47c29.68-14.94,41.39-28.25,46.27-48.66 c5.74-23.44,2.47-41.17-9.79-92.05c-4.04-16.79-14.57-51.37-19.65-67.91l1.13-0.81c9.71,20.49,34.56,74.5,44.57,110.78 c15.63,56.57,10.75,85.27,3.6,95.79c-21.57,31.73-76.84,35.92-101.98,18.34c-3.85,60.91,9.76,87.73,14.37,101.24 c-2.29,15.53,7.77,44.37,7.77,44.37s1.13-13.11,5.74-20.02c1.23,15.41,9,33.72,9,33.72s-0.47-11.31,3.06-21.08 c4.98,8.43,8.63,10.43,13.34,16.76c4.71,16.47,14.15,28.5,14.15,28.5s-1.53-8.83-0.69-18.02c23.05,22.14,27.02,54.45,29.31,79.28 c6.46,68.26-107.63,122.54-129.74,165.24c-16.76,25.29-26.8,65.3,1.58,88.89c68.6,56.97,42.25,72.65,76.59,97.69 c47.11,34.34,106.05,18.96,126.11-8.97c27.93-38.92,20.76-75.63,10.38-109.97c-8.11-26.85-30.15-71.46-57.41-88.72 c-27.86-17.65-54.95-20.95-77.9-18.59l2.12-2.44c33.01-6.56,67.52-2.96,92.49,13.14c28.35,18.22,54.28,49.47,67.84,97.37 c15.38-2.19,17.55-3.18,31.63-5.18l-31.7-246.76L367.62,510.22z M385.94,819.52l-3.65-34.22l71.29-108.74l80.93,23.64l69.59-116.23 L687.52,639l63.38-132.92l22.53,242.07L385.94,819.52z M774.27,456.51l-254.72,46.17c-6.31,8.13-21.91,22.41-29.41,26.13 c-32.17,16.2-53.91,11.51-72.7,6.63c-12.08-3.06-19.08-4.78-29.11-9.29l-62.17,8.53l37.74,314.87l436.35-78.66L774.27,456.51z"})}))},y=t(75875),x=t(1498);function w(n){var e=n.replId,t=n.showFlag,b=n.buttonsOnly,m=(0,d.F)().isDarkColorScheme;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(o.Z,{href:"https://app.datadoghq.com/logs?"+new URLSearchParams({query:"@replid:".concat(e)}).toString(),iconLeft:(0,r.tZ)(g,{color:m?"#FFFFFF":"#632CA6"}),iconRight:(0,r.tZ)(p.Z,{}),target:"_blank",text:"View Datadog Logs"}),void 0!==b&&b?(0,r.tZ)(s.u,{maxWidth:300,tooltip:(0,r.tZ)(u.xv,{multiline:!1,children:e}),children:(0,r.tZ)(x.zx,{iconLeft:(0,r.tZ)(v.Z,{}),text:"Copy Repl ID",onClick:function(){return(0,i.Z)(e)}})}):(0,r.BX)(f.G,{css:[l.l0.rowWithGap(2),{alignItems:"center"}],children:[void 0!==t&&t?(0,r.BX)(s.u,{tooltip:"You are seeing this functionality because you have special permissions.",children:[(0,r.tZ)(y.Z,{})," "]}):null,(0,r.BX)(u.xv,{css:[l.l0.align.center],multiline:!1,children:["Repl ID: ",(0,r.tZ)(c.Z,{children:e})]}),(0,r.tZ)(a.hU,{alt:"Copy to clipboard",onClick:function(){return(0,i.Z)(e)},children:(0,r.tZ)(v.Z,{})})]})]})}},24463:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(8182);t(43429);var i=t(29287),o=t(38080);function a(n){var e=n.className,t=n.children;return(0,r.tZ)(o.Tg,{elevated:!0,tag:"span",css:[{display:"inline",lineHeight:1},i.l0.fontSize(i.TV.fontSizeSmall),i.l0.borderRadius(4),i.l0.px(4),i.l0.font.code,e],children:t})}},80388:function(n,e,t){t.d(e,{N5:function(){return a},f0:function(){return o},gs:function(){return c},i7:function(){return i}});var r=Object.values(t(72720).Z.multiplayer);function i(n){var e={};return r.forEach(function(n){e[n]=0}),n.forEach(function(n){e[n.color]++}),Object.keys(e).sort(function(n,t){return e[n]-e[t]})[0]}function o(n){var e=n.sessions.sort(function(n,e){return n.timestamp-e.timestamp}),t=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=o.value;if(c.activeFile)return c.activeFile}}catch(n){r=!0,i=n}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return null}function a(n,e){var t=e.find(function(e){return e.sessions.some(function(e){return e.id===n})});if(!t)throw Error("Expected user with session ID ".concat(n));return t}function c(n){var e=n.seconds,t=n.nanos;return Number(e||0)+(t||0)/1e9}},10099:function(n,e,t){var r=t(8182),i=t(94450),o=t.n(i),a=t(69832),c=t.n(a);t(43429);var u=t(10981);e.Z=function(n){var e=n.name,t=void 0===e?"toggle":e,i=n.id,a=n.elevation,l=void 0===a?"higher":a,s=n.isOn,f=n.onIcon,d=n.offIcon,p=n.onChange,v=n.dataCy,b=(0,u.U)(),m=null!=i?i:b(t);return(0,r.BX)("label",{"data-cy":v,htmlFor:m,className:o().dynamic([["8d56ad7b5afff72c",[l]]])+" "+(c()("toggle-label",{isOn:s})||""),children:[(0,r.tZ)("input",{name:t,checked:s,onChange:p,id:m,type:"checkbox",className:o().dynamic([["8d56ad7b5afff72c",[l]]])+" toggle-checkbox"}),(0,r.tZ)("span",{className:o().dynamic([["8d56ad7b5afff72c",[l]]])+" toggle-button",children:s&&f?f:d||null}),(0,r.tZ)(o(),{id:"8d56ad7b5afff72c",dynamic:[l],children:".toggle-checkbox.__jsx-style-dynamic-selector{height:0;width:0;visibility:hidden}.toggle-label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;width:38px;height:24px;background:var(--background-".concat(l,');border:.5px solid var(--outline-dimmest);-webkit-border-radius:100px;-moz-border-radius:100px;border-radius:100px;position:relative;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.toggle-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;content:"";position:absolute;left:1px;width:20px;height:20px;-webkit-border-radius:45px;-moz-border-radius:45px;border-radius:45px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s;background:var(--white);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1);color:var(--foreground-dimmer)}.toggle-label.isOn.__jsx-style-dynamic-selector{background-color:var(--accent-primary-default);border-color:var(--accent-primary-default)}.toggle-checkbox.__jsx-style-dynamic-selector:checked+.toggle-button.__jsx-style-dynamic-selector{-webkit-transform:translatex(-webkit-calc(100% - 6px));-moz-transform:translatex(-moz-calc(100% - 6px));-ms-transform:translatex(calc(100% - 6px));-o-transform:translatex(calc(100% - 6px));transform:translatex(-webkit-calc(100% - 6px));transform:translatex(-moz-calc(100% - 6px));transform:translatex(calc(100% - 6px));color:var(--accent-primary-default)}.toggle-label.__jsx-style-dynamic-selector:active .toggle-button.__jsx-style-dynamic-selector{-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}')})]})}},72720:function(n,e){e.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},66995:function(n,e,t){t.d(e,{tr:function(){return M}});var r=t(39698),i=t(32477),o=t(8182),a=t(43429),c=t(30084),u=t(29287),l=t(56596),s=t(51384),f=t(50451),d=t(57468),p=t(29559),v=t(9331),b=t(72676),m=t(54916),h=t(21488),g=t(93918),y=t(92920),x=t(1415),w=t(91608),k=t(22487),F=t(38080),Z=t(93496),_=t(39756);function C(n){var e=n.node;return e.type===c.Tv.Directory?(0,o.tZ)(f.Z,{size:16}):(0,o.tZ)(d.Z,{size:16,path:e.path})}var D=(0,w.$)(["menuY","menuX"]),I=D.cssVars,S=D.styleTokens,z=(0,g.X)({root:[u.l0.maxHeight(400),u.l0.position.absolute,u.l0.borderRadius(8),u.l0.shadow(3),{border:"1px solid",borderColor:u.TV.outlineDefault,top:S.menuY,left:S.menuX,"& > div":[u.l0.maxHeight(400)]}]}),B=(0,s.iv)([Z.gU.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),X={button:(0,s.iv)([u.l0.reset.button,u.l0.p(2),u.l0.rowWithGap(4),u.l0.align.center,B]),text:(0,s.iv)({fontSize:u.TV.fontSizeSmall})},E={opacity:1};function j(n){var e,t=n.node,c=n.openFile,u=(0,i._)((0,a.useState)(!1),2),s=u[0],f=u[1],d=(0,a.useRef)(null),v=(0,k.Z)(function(n){var e;!s||n.target instanceof HTMLElement&&(null===(e=d.current)||void 0===e?void 0:e.contains(n.target))||f(!1)},[s]),b=(0,a.useId)(),m=(0,a.useId)(),h=(0,p.Il)(t.path)||_.Ql,g=(0,p.UO)(t.path);function y(){var n,e=null===(n=d.current)||void 0===n?void 0:n.getBoundingClientRect();e&&f({x:e.x+"px",y:e.y+e.height+4+"px"})}return(0,o.BX)(o.HY,{children:[(0,o.BX)(l.G,{innerRef:d,tag:"button",id:b,style:s?E:void 0,"aria-haspopup":"true","aria-expanded":!!s,"aria-controls":m,css:X.button,onClick:function(){s?f(!1):y()},onKeyDown:function(n){switch(n.key){case" ":case"Enter":case"ArrowDown":y()}},children:[(0,a.cloneElement)((0,o.tZ)(C,{node:t}),{size:12}),(0,o.tZ)(l.G,{css:X.text,children:g})]}),s?(0,o.tZ)(x.h,{children:(0,o.tZ)(F.Tg,{id:m,css:z.root,innerRef:v,style:(e={},(0,r._)(e,I.menuX,s.x),(0,r._)(e,I.menuY,s.y),e),onKeyDown:function(n){if("Escape"===n.key){var e;f(!1),null===(e=d.current)||void 0===e||e.focus()}},children:(0,o.tZ)(T,{openFile:c,parentPath:h,currentPath:t.path})})}):null]})}function T(n){var e=(0,m.Z)().fs,t=(0,y.Z)().preferences,r=(0,h.T)(!0),i=(0,a.useCallback)(function(n){return!r(n.filename)},[r]),c=(0,b.p)({fs:e,filter:i,focusedPath:n.currentPath,fontSize:t.fontSize,root:n.parentPath,manageWidth:!0,onFileSelect:function(e){var t=e.path;n.openFile(t)},alwaysShowCreateRow:!0});return(0,o.tZ)(b.s,{store:c.store})}var A=(0,s.iv)([u.l0.flex.row,u.l0.align.center,u.l0.height("100%"),u.l0.px(2)]),M=(0,a.memo)(function(n){var e,t,r=n.path,i=n.onFileClick,u=n.children,s=(t=(e=r.split("/")).length,e.map(function(n,r){return{type:r===t-1?c.Tv.File:c.Tv.Directory,path:e.slice(0,r+1).join("/")}}));return(0,o.BX)(l.G,{css:A,children:[s.map(function(n){return(0,o.BX)(a.Fragment,{children:[(0,o.tZ)(j,{node:n,openFile:i}),n.type===c.Tv.Directory?(0,o.tZ)(v.Z,{size:12}):null]},CSS.escape(n.path))}),u||null]})})},21488:function(n,e,t){t.d(e,{T:function(){return g}});var r=t(43429),i=t(43891),o=t(50782),a=t(45903),c=t(93295),u=t(23982),l=t(66039);function s(){var n=(0,c._)(["\n  query ShouldHideFileInWorkspace($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n      }\n    }\n  }\n"]);return s=function(){return n},n}var f={},d=(0,u.Ps)(s()),p=t(37685),v=t(23394),b=t(72190),m=t(54916),h=t(58091),g=function(){var n,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,o.Z)(),c=(0,v.Z)(),u=(0,m.Z)().dotReplit,s=(n=(0,a._)({},f,{variables:{replId:t}}),l.a(d,n)),g=s.data,y=s.loading,x=(null==g?void 0:g.repl.__typename)==="Repl"&&(g.repl.isProjectFork||g.repl.isModelSolution||g.repl.isModelSolutionFork),w=(0,i.P)(u),k=(0,h.t9)();return r.useCallback(function(n){return!!((x||y)&&(0,p.TI)(n)||(0,p.MF)(n))||!k&&(e&&(0,p.uC)(n)||(0,b.C)(n)||(0,p.yb)(n,c)||(0,p.lv)(n,w))},[x,y,c,k,w,e])}},67696:function(n,e,t){t.d(e,{NH:function(){return u},Qt:function(){return s},R3:function(){return l},_s:function(){return o},p5:function(){return f}});var r=t(90234),i=t(68956),o=(0,r.cn)(null),a=(0,r.cn)(function(n){var e=n(o);return(null==e?void 0:e.isVisible)?e.path:null}),c=(0,r.cn)(null,function(n,e,t,r){switch(r.type){case"focus":e(o,{hasFocus:!0,isVisible:!0,position:r.position,path:t});return;case"update":e(o,{hasFocus:r.hasFocus,isVisible:!0,position:r.position,path:t});return;case"blur":e(o,function(n){var e;return{hasFocus:!1,isVisible:!!(null==n?void 0:n.isVisible),position:null!==(e=null==n?void 0:n.position)&&void 0!==e?e:{line:1,column:1,offset:0},path:t}});return;case"unmount":e(o,null);return;case"hidden":e(o,function(n){var e;return{hasFocus:!1,isVisible:!1,position:null!==(e=null==n?void 0:n.position)&&void 0!==e?e:{line:1,column:1,offset:0},path:t}});return;case"unhidden":e(o,function(n){var e;return{hasFocus:!!(null==n?void 0:n.hasFocus),isVisible:!0,position:null!==(e=null==n?void 0:n.position)&&void 0!==e?e:{line:1,column:1,offset:0},path:t}});return}});function u(){return(0,i.$X)(c)}function l(){return(0,i.Hg)(a)}function s(){return(0,i.XD)(o)}function f(){return(0,i.yL)(o)}},58091:function(n,e,t){t.d(e,{eA:function(){return j},_s:function(){return _._s},ex:function(){return b},aG:function(){return E.aG},zo:function(){return y},t9:function(){return B},R3:function(){return _.R3},pV:function(){return h},Qt:function(){return _.Qt},AA:function(){return x},Y_:function(){return k},b2:function(){return S},ev:function(){return F},Bx:function(){return g},VX:function(){return m},OM:function(){return X},Cp:function(){return I},_o:function(){return Z},Gg:function(){return v},QH:function(){return w}});var r=t(8182),i=t(68956),o=t(21289),a=t(92153),c=t(90234),u=t(50199),l=(0,c.cn)(null),s=(0,c.cn)([]),f=(0,c.cn)(null,function(n,e,t){var r=n(s);e(s,[t].concat((0,o._)(r.filter(function(n){return n!==t}))).slice(0,20))}),d=(0,c.cn)(null,function(n,e,t){var r=n(s),i=r.indexOf(t.path);-1!==i&&e(s,(0,a.ZP)(r,function(n){"delete"===t.type?n.splice(i,1):n.splice(i,1,t.to)}))}),p=(0,c.cn)(null);function v(){return(0,i.$X)(d)}function b(){return(0,i.Hg)(l)}function m(){return(0,i.$X)(l)}function h(){return(0,i.XD)(l)}function g(){return(0,i.Hg)(s)}function y(){return(0,i.$X)(f)}function x(){return(0,i.XD)(s)}function w(){var n=(0,i.yL)(l);return(0,u.Z)(function(){return function(e){return n.subscribe(e)}},[n])}function k(){return(0,i.yL)(l)}function F(){return(0,i.Hg)(p)}function Z(){return(0,i.$X)(p)}var _=t(67696),C=(0,c.cn)(new Map),D=(0,c.cn)(null,function(n,e,t){e(C,function(n){return(0,a.ZP)(n,function(n){t.indicatorType?n.set(t.paneType,t.indicatorType):n.delete(t.paneType)})})});function I(){return(0,i.$X)(D)}function S(n){var e=n.paneType;return(0,i.Hg)((0,u.Z)(function(){return(0,c.cn)(function(n){return e?n(C).get(e):void 0})},[e]))}var z=(0,t(15859).O4)("areHiddenFilesVisible",!1);function B(){return(0,i.Hg)(z)}function X(){return(0,i.$X)(z)}var E=t(61405);function j(n){var e=(0,i.ns)();return(0,r.tZ)(i.B3.Provider,{value:e,children:n.children})}},61405:function(n,e,t){t.d(e,{aG:function(){return X},f:function(){return C},HQ:function(){return z},e_:function(){return M}});var r,i=t(34142),o=t(32477),a=t(21289),c=t(87682),u=t(7730),l=t.n(u),s=t(80388),f=t(92153),d=t(90234),p=t(15859),v=t(68956),b=t(64540),m=t(93295);function h(){var n=(0,m._)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return h=function(){return n},n}var g=(0,t(23982).Ps)(h()),y=t(69451),x=t.n(y),w=t(15542),k=t(50199),F=t(43429),Z=(0,d.cn)(new Map),_=(0,d.cn)(null,function(n,e,t){return e(Z,function(n){return(0,f.ZP)(n,function(n){n.set(t.userId,t.color)})})});function C(){var n=(0,v.XD)(I),e=(0,v.$X)(_);return(0,F.useCallback)(function(t){var r,i=n(),o=null===(r=i.get(t.userId))||void 0===r?void 0:r.color;return o||e({color:o=(0,s.i7)(Object.values(i)),userId:t.userId}),o},[n,e])}function D(n,e,t,r){var i=r||{timestamp:Math.floor(Date.now()/1e3),activeFile:null},o=n.get(e.id);if(o){o.sessions.set(e.session,i);return}n.set(e.id,{id:e.id,username:e.name,color:null!=t?t:(0,s.i7)((0,a._)(n.values())),roles:e.roles,sessions:new Map([[e.session,i]])})}var I=(0,d.cn)(new Map),S=(0,p.kv)(I,function(n){var e=new Map,t=!0,r=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var u=(0,o._)(a.value,2)[1],l=null,s=!0,f=!1,d=void 0;try{for(var p,v=u.sessions[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var b=(0,o._)(p.value,2)[1];!b.activeFile||l&&l.timestamp>b.timestamp||(l=b)}}catch(n){f=!0,d=n}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}if(null==l?void 0:l.activeFile){var m=e.get(l.activeFile),h={id:u.id,username:u.username,image:u.image,color:u.color,roles:u.roles};m?m.push(h):e.set(l.activeFile,[h])}}}catch(n){r=!0,i=n}finally{try{t||null==c.return||c.return()}finally{if(r)throw i}}return e},l());function z(){return(0,v.yL)(S)}var B=(0,p.kv)(I,function(n){return(0,a._)(n.values()).map(function(n){return{id:n.id,username:n.username,color:n.color,image:n.image,roles:n.roles}})},l());function X(){return(0,v.Hg)(B)}function E(n){var e=n.id,t=n.name,r=n.session,i=n.roles;return e&&t&&r&&i?{id:e,name:t,session:r,roles:i}:null}function j(n){var e=n.seconds,t=n.nanos;return"number"!=typeof e||"number"!=typeof t?null:(0,s.gs)({seconds:e,nanos:t})}var T=(0,d.cn)(null,function(n,e,t,r){e(I,function(e){return(0,f.ZP)(e,function(e){var i;if(null===(i=t.roster)||void 0===i?void 0:i.user){var a=!0,c=!1,u=void 0;try{for(var l,s=t.roster.user[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var f=l.value,d=E(f);if(null!==d&&(null==d?void 0:d.id)!==r){var p=function(n,e){if(!n.files)return null;var t=n.files.find(function(n){return n.userId===e.id&&n.session===e.session});if(!t)return null;var r=t.timestamp?j(t.timestamp):null;return r?{activeFile:t.file||null,timestamp:r}:null}(t.roster,d),v=n(Z).get(d.id);D(e,d,v,p)}}}catch(n){c=!0,u=n}finally{try{a||null==s.return||s.return()}finally{if(c)throw u}}return}if(t.join){var b=E(t.join);if(!b||b.id===r)return;var m=n(Z).get(b.id);D(e,b,m);return}if(t.part){var h,g,y=t.part,x=y.id,w=y.session;if(!x||!w)return;h={id:x,session:w},(g=e.get(h.id))&&(1===g.sessions.size?e.delete(h.id):g.sessions.delete(h.session));return}if(t.fileOpened){var k=t.fileOpened,F=k.session,_=k.userId,C=k.file,I=t.fileOpened.timestamp?j(t.fileOpened.timestamp):null;if(!I||!F||!_||!C)return;!function(n,e){var t=n.get(e.userId);if(t){var r=t.sessions.get(e.session);r?(r.timestamp=e.timestamp,r.activeFile=e.file):t.sessions.set(e.session,{timestamp:e.timestamp,activeFile:e.file})}}(e,{timestamp:I,session:F,userId:_,file:C});return}if(t.sessionTimestampUpdated){var S=t.sessionTimestampUpdated.session,z=t.sessionTimestampUpdated.timestamp?j(t.sessionTimestampUpdated.timestamp):null;if(!z||!S)return;!function(n,e){var t=e.session,r=e.timestamp,i=!0,a=!1,c=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=(0,o._)(u.value,2)[1].sessions.get(t);if(s){s.timestamp=r;break}}}catch(n){a=!0,c=n}finally{try{i||null==l.return||l.return()}finally{if(a)throw c}}}(e,{timestamp:z,session:S});return}})})}),A=(0,d.cn)(null,(r=(0,i._)(function(n,e){var t,r,i,a,u,l,s,d,p,v,m;return(0,c.Jh)(this,function(c){switch(c.label){case 0:t=[],r=n(I),i=!0,a=!1,u=void 0;try{for(l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)p=(d=(0,o._)(s.value,2))[0],d[1].image||t.push(p)}catch(n){a=!0,u=n}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}if(!t.length)return[2];return[4,null===b.l||void 0===b.l?void 0:b.l.query({query:g,variables:{userIds:t}})];case 1:if(!(m=null==(v=c.sent())?void 0:v.data.usersByIds))return[2];return e(I,function(n){return(0,f.ZP)(n,function(n){var e=!0,t=!1,r=void 0;try{for(var i,o=m[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,c=n.get(a.id);c&&(c.image=a.image)}}catch(n){t=!0,r=n}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}})}),[2]}})}),function(n,e){return r.apply(this,arguments)}));function M(){var n=(0,w.d)(),e=(0,v.$X)(A),t=(0,v.$X)(T),r=(0,v.yL)(I);return(0,F.useEffect)(function(){e();var n=x()(e,2e3);return r.subscribe(function(){return n()})},[e,r]),(0,k.Z)(function(){return function(e){n&&t(e,n)}},[t,n])}},68956:function(n,e,t){t.d(e,{$X:function(){return b},B3:function(){return s},Hg:function(){return d},XD:function(){return m},ns:function(){return l},rF:function(){return v},yL:function(){return p}});var r=t(32477),i=t(43429),o=t(90234),a=t(71999),c=t(28999),u=t(66368);function l(){return(0,r._)((0,i.useState)(function(){return(0,o.MT)()}),1)[0]}var s=(0,i.createContext)(null);function f(){var n=(0,i.useContext)(s);if(!n)throw Error("Expected store in context");return n}function d(n){return(0,a.Dv)(n,{store:f()})}function p(n){return(0,u.b)(n,f())}function v(){var n=f();return(0,i.useCallback)(function(e){return(0,u.c)(n,e)},[n])}var b=function(n){return(0,a.b9)(n,{store:f()})};function m(n){return(0,c.lV)((0,i.useCallback)(function(e){return e(n)},[n]),{store:f()})}}}]);
//# sourceMappingURL=7307-9f6a189d0f3bdaa8.js.map